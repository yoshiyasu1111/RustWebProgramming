{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u5e8f\u6587","text":"<p>Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u9ad8\u901f\u5316\u3068\u4f4e\u6d88\u8cbb\u96fb\u529b\u5316\u3092\u9650\u754c\u307e\u3067\u8ffd\u6c42\u3057\u3064\u3064\u3082\u3001\u30e1\u30e2\u30ea\u5b89\u5168\u6027\u3092\u78ba\u4fdd\u3057\u305f\u3044\u3068\u304a\u8003\u3048\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002Rust\u306f\u3001\u30ac\u30d9\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u5fc5\u8981\u3068\u305b\u305a\u3001C\u8a00\u8a9e\u3068\u540c\u69d8\u306e\u30a8\u30cd\u30eb\u30ae\u30fc\u6d88\u8cbb\u91cf\u3067\u3082\u30e1\u30e2\u30ea\u30bb\u30fc\u30d5\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u9ad8\u6027\u80fd\u3067\u5b89\u5168\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u6bd4\u8f03\u7684\u7c21\u5358\u306b\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002</p> <p>\u672c\u66f8\u3067\u306f\u3001Rust\u3067\u69cb\u7bc9\u3055\u308c\u305f\u9ad8\u5ea6\u306aWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30a3\u30b9\u30c8\u30ed\u30ec\u30b9\u306aDocker\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3057\u3001\u4f5c\u6210\u3057\u305f\u81ea\u52d5\u30d3\u30eb\u30c9\u30fb\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30fb\u30d1\u30a4\u30d7\u3092\u4f7f\u3063\u3066AWS\u4e0a\u306b50MB\u7a0b\u5ea6\u306e\u30b5\u30fc\u30d0\u30a4\u30e1\u30fc\u30b8\u3092\u5c55\u958b\u3059\u308b\u307e\u3067\u306eWeb\u958b\u767a\u306e\u5404\u6bb5\u968e\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002</p> <p>\u5f93\u6765\u306e\u52d5\u7684\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u304b\u3089\u79fb\u884c\u3059\u308b\u969b\u306b\u3088\u304f\u3042\u308b\u843d\u3068\u3057\u7a74\u3092\u56de\u907f\u3067\u304d\u308b\u3088\u3046\u306b\u3001Rust\u3067\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u7d39\u4ecb\u304b\u3089\u59cb\u3081\u307e\u3059\u3002\u672c\u66f8\u3067\u306f\u3001\u8907\u6570\u306e\u30da\u30fc\u30b8\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u307e\u305f\u304c\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u305f\u3081\u306b\u3001Rust\u306e\u30b3\u30fc\u30c9\u3092\u3069\u306e\u3088\u3046\u306b\u69cb\u6210\u3059\u308c\u3070\u3088\u3044\u304b\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\u6b21\u306b\u3001Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u63a2\u6c42\u3057\u3001\u57fa\u672c\u7684\u306aWeb\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3061\u4e0a\u3052\u3066\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u9032\u3080\u306b\u3064\u308c\u3066\u3001JSON\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3057\u3001HTML\u3001CSS\u3001JavaScript\u3067\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u3001\u3055\u3089\u306b\u79c1\u305f\u3061\u306e\u30c7\u30fc\u30bf\u306e\u305f\u3081\u306e\u57fa\u672c\u7684\u306aReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001Rust\u3067\u30c7\u30fc\u30bf\u3092\u6c38\u7d9a\u5316\u3057\u3001RESTful\u30b5\u30fc\u30d3\u30b9\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u3001\u305d\u3053\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u30e6\u30fc\u30b6\u30fc\u3092\u8a8d\u8a3c\u3057\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u30c7\u30fc\u30bf\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001AWS\u4e0a\u306e2\u3064\u306eEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u3067\u30a2\u30d7\u30ea\u306e\u81ea\u52d5\u30d3\u30eb\u30c9\u3068\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30d7\u30ed\u30bb\u30b9\u3092\u69cb\u7bc9\u3057\u3001Terraform\u3092\u4f7f\u7528\u3057\u3066\u69cb\u7bc9\u3059\u308b\u3053\u308c\u3089\u306eEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u3067\u767b\u9332\u30c9\u30e1\u30a4\u30f3\u304b\u3089\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3078\u306eHTTPS\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b9\u3055\u305b\u307e\u3059\u3002\u307e\u305f\u3001Terraform\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078\u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u76f4\u63a5\u30ed\u30c3\u30af\u30c0\u30a6\u30f3\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u30ec\u30b9\u306aRust\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u30de\u30eb\u30c1\u30ec\u30a4\u30e4\u30fc\u30d3\u30eb\u30c9\u3092\u5b66\u3073\u307e\u3059\u3002\u6700\u5f8c\u306b\u3001\u975e\u540c\u671fRust\u3001Tokio\u3001Hyper\u3001TCP\u30d5\u30ec\u30fc\u30df\u30f3\u30b0\u306a\u3069\u3001\u9ad8\u5ea6\u306aWeb\u306e\u6982\u5ff5\u3092\u5b66\u3073\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u3001\u30a2\u30af\u30bf\u30fc\u30e2\u30c7\u30eb\u3092\u5b9f\u88c5\u3057\u3001\u8907\u96d1\u306a\u975e\u540c\u671f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30a4\u30d9\u30f3\u30c8\u51e6\u7406\u30b7\u30b9\u30c6\u30e0\u3092\u9ad8\u5ea6\u306b\u5b9f\u88c5\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u6700\u5f8c\u306b\u3001Redis\u4e0a\u306b\u72ec\u81ea\u306e\u30ad\u30e5\u30fc\u30a4\u30f3\u30b0\u6a5f\u69cb\u3092\u69cb\u7bc9\u3057\u3001Rust\u3067\u81ea\u4f5c\u3057\u305f\u30b5\u30fc\u30d0\u3068\u30ef\u30fc\u30ab\u30fc\u30ce\u30fc\u30c9\u304c\u30ad\u30e5\u30fc\u4e0a\u306e\u30bf\u30b9\u30af\u3092\u53d7\u3051\u53d6\u308a\u3001\u305d\u306e\u30bf\u30b9\u30af\u3092\u51e6\u7406\u3059\u308b\u3053\u3068\u3067\u672c\u66f8\u306f\u7d42\u4e86\u3057\u307e\u3059\u3002</p>"},{"location":"1_QuickIntroduction/","title":"Rust Web\u958b\u767a\u5165\u9580","text":"<p>Rust\u306e\u4eba\u6c17\u306f\u9ad8\u307e\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u5b66\u7fd2\u66f2\u7dda\u306f\u6025\u3067\u3059\u3002Rust\u306e\u57fa\u672c\u7684\u306a\u30eb\u30fc\u30eb\u3068\u3001\u3055\u307e\u3056\u307e\u306a\u30c7\u30fc\u30bf\u578b\u3084\u5909\u6570\u306e\u64cd\u4f5c\u65b9\u6cd5\u3092\u5b66\u3076\u3053\u3068\u3067\u3001\u52d5\u7684\u578b\u4ed8\u3051\u8a00\u8a9e\u3068\u540c\u3058\u3088\u3046\u306a\u884c\u6570\u306e\u30b3\u30fc\u30c9\u3067\u3001\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u672c\u7ae0\u306e\u76ee\u7684\u306f\u3001Rust\u3068\u6c4e\u7528\u52d5\u7684\u8a00\u8a9e\u306e\u4e3b\u306a\u9055\u3044\u3092\u7db2\u7f85\u3057\u3001Rust\u306e\u6d3b\u7528\u65b9\u6cd5\u3092\u7d20\u65e9\u304f\u7406\u89e3\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067\u3059\u3002</p> <p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u9805\u76ee\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"1_QuickIntroduction/TechnicalRequirements/","title":"1.1 - \u6280\u8853\u8981\u4ef6","text":""},{"location":"1_QuickIntroduction/TechnicalRequirements/#_1","title":"\u6280\u8853\u8981\u4ef6","text":"<p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u30aa\u30f3\u30e9\u30a4\u30f3Rust\u30d7\u30ec\u30a4\u30b0\u30e9\u30a6\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306e\u307f\u304c\u5fc5\u8981\u3067\u3059\u3002\u63d0\u4f9b\u3055\u308c\u308b\u30b3\u30fc\u30c9\u4f8b\u306f\u3001\u30aa\u30f3\u30e9\u30a4\u30f3Rust\u30d7\u30ec\u30a4\u30b0\u30e9\u30a6\u30f3\u30c9\uff08https://play.rust-lang.org/\uff09\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u8a73\u3057\u3044\u64cd\u4f5c\u65b9\u6cd5\u306f\u3001\u3053\u3061\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\uff1a https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter01</p>"},{"location":"1_QuickIntroduction/WhyIsRustRevolutionary/","title":"1.2 - \u306a\u305cRust\u306f\u9769\u547d\u7684\u306a\u306e\u304b\uff1f","text":""},{"location":"1_QuickIntroduction/WhyIsRustRevolutionary/#rust","title":"\u306a\u305cRust\u306f\u9769\u547d\u7684\u306a\u306e\u304b\uff1f","text":"<p>\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3067\u306f\u3001\u901a\u5e38\u3001\u30b9\u30d4\u30fc\u30c9\u3068\u30ea\u30bd\u30fc\u30b9\u3001\u958b\u767a\u30b9\u30d4\u30fc\u30c9\u3068\u5b89\u5168\u6027\u306e\u9593\u3067\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u304c\u767a\u751f\u3057\u307e\u3059\u3002C/C++\u306a\u3069\u306e\u4f4e\u30ec\u30d9\u30eb\u8a00\u8a9e\u306f\u3001\u9ad8\u901f\u306a\u30b3\u30fc\u30c9\u5b9f\u884c\u3068\u6700\u5c0f\u9650\u306e\u30ea\u30bd\u30fc\u30b9\u6d88\u8cbb\u3067\u3001\u958b\u767a\u8005\u304c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u3092\u304d\u3081\u7d30\u304b\u304f\u5236\u5fa1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u81ea\u7531\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u624b\u4f5c\u696d\u306b\u3088\u308b\u30e1\u30e2\u30ea\u7ba1\u7406\u306f\u3001\u30d0\u30b0\u3084\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u8106\u5f31\u6027\u3092\u3082\u305f\u3089\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u7c21\u5358\u306a\u4f8b\u304c\u3001\u30d0\u30c3\u30d5\u30a1\u30aa\u30fc\u30d0\u30fc\u30d5\u30ed\u30fc\u653b\u6483\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u304c\u5341\u5206\u306a\u30e1\u30e2\u30ea\u3092\u5272\u308a\u5f53\u3066\u306a\u304b\u3063\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30d0\u30c3\u30d5\u30a1\u306e\u30b5\u30a4\u30ba\u304c15\u30d0\u30a4\u30c8\u3057\u304b\u306a\u304f\u300120\u30d0\u30a4\u30c8\u304c\u9001\u4fe1\u3055\u308c\u305f\u5834\u5408\u3001\u4f59\u5206\u306a5\u30d0\u30a4\u30c8\u304c\u5883\u754c\u3092\u8d8a\u3048\u3066\u66f8\u304d\u8fbc\u307e\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u653b\u6483\u8005\u306f\u3001\u30d0\u30c3\u30d5\u30a1\u304c\u51e6\u7406\u3067\u304d\u308b\u4ee5\u4e0a\u306e\u30d0\u30a4\u30c8\u3092\u6e21\u3059\u3053\u3068\u3067\u3001\u3053\u308c\u3092\u60aa\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001\u5b9f\u884c\u53ef\u80fd\u306a\u30b3\u30fc\u30c9\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u9818\u57df\u3092\u72ec\u81ea\u306e\u30b3\u30fc\u30c9\u3067\u4e0a\u66f8\u304d\u3057\u3066\u3057\u307e\u3046\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u30e1\u30e2\u30ea\u304c\u6b63\u3057\u304f\u7ba1\u7406\u3055\u308c\u3066\u3044\u306a\u3044\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u60aa\u7528\u3059\u308b\u65b9\u6cd5\u306f\u4ed6\u306b\u3082\u3042\u308a\u307e\u3059\u3002\u8106\u5f31\u6027\u306e\u5897\u52a0\u306b\u52a0\u3048\u3066\u3001\u4f4e\u30ec\u30d9\u30eb\u8a00\u8a9e\u3067\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u3088\u308a\u591a\u304f\u306e\u30b3\u30fc\u30c9\u3068\u6642\u9593\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u306e\u305f\u3081\u3001C++\u30a6\u30a7\u30d6\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306f\u30a6\u30a7\u30d6\u958b\u767a\u306b\u304a\u3044\u3066\u5927\u304d\u306a\u30b7\u30a7\u30a2\u3092\u5360\u3081\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u306b\u3001Python\u3001Ruby\u3001JavaScript\u306a\u3069\u306e\u9ad8\u6c34\u6e96\u8a00\u8a9e\u3092\u4f7f\u7528\u3059\u308b\u306e\u304c\u4e00\u822c\u7684\u3067\u3059\u3002\u3053\u306e\u3088\u3046\u306a\u8a00\u8a9e\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u958b\u767a\u8005\u306f\u5b89\u5168\u304b\u3064\u8fc5\u901f\u306b\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u3057\u304b\u3057\u3001\u3053\u306e\u30e1\u30e2\u30ea\u5b89\u5168\u6027\u306b\u306f\u30b3\u30b9\u30c8\u304c\u304b\u304b\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\u3053\u308c\u3089\u306e\u9ad8\u7d1a\u8a00\u8a9e\u306f\u4e00\u822c\u306b\u3001\u5b9a\u7fa9\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u5909\u6570\u3068\u305d\u306e\u30e1\u30e2\u30ea\u30a2\u30c9\u30ec\u30b9\u3078\u306e\u53c2\u7167\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002\u3042\u308b\u30e1\u30e2\u30ea\u30fb\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u3059\u5909\u6570\u304c\u306a\u304f\u306a\u308b\u3068\u3001\u305d\u306e\u30e1\u30e2\u30ea\u30fb\u30a2\u30c9\u30ec\u30b9\u306e\u30c7\u30fc\u30bf\u306f\u524a\u9664\u3055\u308c\u308b\u3002\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u306f\u30ac\u30d9\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3068\u547c\u3070\u308c\u3001\u5909\u6570\u3092\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u305f\u3081\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u505c\u6b62\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u305f\u3081\u3001\u4f59\u5206\u306a\u30ea\u30bd\u30fc\u30b9\u3068\u6642\u9593\u3092\u6d88\u8cbb\u3059\u308b\u3002</p> <p>Rust\u3067\u306f\u3001\u30b3\u30b9\u30c8\u306e\u304b\u304b\u308b\u30ac\u30d9\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u51e6\u7406\u3092\u884c\u3046\u3053\u3068\u306a\u304f\u3001\u30e1\u30e2\u30ea\u5b89\u5168\u6027\u3092\u78ba\u4fdd\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Rust\u306f\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u30dc\u30ed\u30fc\u30c1\u30a7\u30c3\u30ab\u30fc\u3067\u30c1\u30a7\u30c3\u30af\u3055\u308c\u308b\u4e00\u9023\u306e\u6240\u6709\u6a29\u30eb\u30fc\u30eb\u306b\u3088\u3063\u3066\u30e1\u30e2\u30ea\u5b89\u5168\u6027\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30eb\u30fc\u30eb\u306f\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8a00\u53ca\u3059\u308b\u30af\u30bb\u306e\u3042\u308b\u3082\u306e\u3067\u3059\u3002\u3053\u306e\u305f\u3081\u3001Rust\u306f\u3001\u771f\u306b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u9ad8\u3044\u30b3\u30fc\u30c9\u3067\u8fc5\u901f\u304b\u3064\u5b89\u5168\u306b\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u901f\u5ea6\u3068\u5b89\u5168\u6027\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u3092\u89e3\u6d88\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30e1\u30e2\u30ea\u306e\u5b89\u5168\u6027</p> <p>\u30e1\u30e2\u30ea\u5b89\u5168\u6027\u3068\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u5e38\u306b\u6709\u52b9\u306a\u30e1\u30e2\u30ea\u3092\u6307\u3059\u30e1\u30e2\u30ea\u30dd\u30a4\u30f3\u30bf\u3092\u6301\u3064\u3068\u3044\u3046\u6027\u8cea\u3067\u3059\u3002</p> <p>\u3088\u308a\u591a\u304f\u306e\u30c7\u30fc\u30bf\u51e6\u7406\u3001\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3001\u8907\u96d1\u306a\u30bf\u30b9\u30af\u304c\u30a6\u30a7\u30d6\u30b9\u30bf\u30c3\u30af\u306b\u6301\u3061\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u30a6\u30a7\u30d6\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u6570\u304c\u5897\u3048\u3066\u3044\u308bRust\u306f\u3001\u4eca\u3084\u30a6\u30a7\u30d6\u958b\u767a\u306e\u6709\u529b\u306a\u9078\u629e\u80a2\u3068\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u305f\u3081\u3001Rust\u306e\u30a6\u30a7\u30d6\u7a7a\u9593\u3067\u306f\u3001\u672c\u5f53\u306b\u9a5a\u304f\u3079\u304d\u7d50\u679c\u304c\u5f97\u3089\u308c\u3066\u3044\u307e\u3059\u30022020\u5e74\u3001Shimul Chowdhury\u306f\u3001\u540c\u3058\u30b9\u30da\u30c3\u30af\u3067\u8a00\u8a9e\u3084\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u304c\u7570\u306a\u308b\u30b5\u30fc\u30d0\u306b\u5bfe\u3057\u3066\u4e00\u9023\u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u65bd\u3057\u307e\u3057\u305f\u3002\u305d\u306e\u7d50\u679c\u306f\u3001\u6b21\u306e\u56f3\u306b\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f31.1 - Shimul Chowdhury\u306b\u3088\u308b\u7570\u306a\u308b\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3068\u8a00\u8a9e\u306e\u7d50\u679c (found at https://www.shimul.dev/posts/06-04-2020-benchmarking-flask-falcon-actix-web-rocket-nestjs/)</p> <p>\u524d\u56f3\u3092\u898b\u308b\u3068\u3001\u8a00\u8a9e\u3084\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001Rust\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306fActix Web\u3068Rocket\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u76ee\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u3089\u306eRust\u30b5\u30fc\u30d0\u30fc\u306f\u3001\u7dcf\u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\u91cf\u3084\u30c7\u30fc\u30bf\u8ee2\u9001\u91cf\u306b\u304a\u3044\u3066\u3001\u307e\u3063\u305f\u304f\u5225\u683c\u306e\u5b58\u5728\u3067\u3059\u3002Golang\u306a\u3069\u4ed6\u306e\u8a00\u8a9e\u3082\u767b\u5834\u3057\u307e\u3057\u305f\u304c\u3001Rust\u306b\u306f\u30ac\u30d9\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u304c\u306a\u3044\u305f\u3081\u3001Golang\u3092\u51cc\u99d5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001Jesse Howarth\u6c0f\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u300cWhy Discord is switching from Go to Rust\u300d\u3067\u5b9f\u8a3c\u3055\u308c\u3066\u304a\u308a\u3001\u4ee5\u4e0b\u306e\u30b0\u30e9\u30d5\u304c\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u56f31.2 - Discord\u306e\u6240\u898b\u21d2Golang\u306f\u30b9\u30d1\u30a4\u30ad\u30fc\u3001Rust\u306f\u30b9\u30e0\u30fc\u30b9\uff08https://discord.com/blog/why-discord-is-switching-from-go-to-rust \u3067\u767a\u898b\u3002\uff09</p> <p>Golang\u304c\u30e1\u30e2\u30ea\u306e\u5b89\u5168\u6027\u3092\u4fdd\u3064\u305f\u3081\u306b\u5b9f\u88c5\u3057\u3066\u3044\u305f\u30ac\u30d9\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306f\u30012\u5206\u9593\u306e\u30b9\u30d1\u30a4\u30af\u3092\u3082\u305f\u3089\u3059\u7d50\u679c\u3068\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001\u3059\u3079\u3066\u306bRust\u3092\u4f7f\u3046\u3079\u304d\u3060\u3068\u8a00\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u4ed5\u4e8b\u306b\u9069\u3057\u305f\u9053\u5177\u3092\u4f7f\u3046\u306e\u304c\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u8a00\u8a9e\u306b\u306f\u3001\u305d\u308c\u305e\u308c\u7570\u306a\u308b\u5229\u70b9\u304c\u3042\u308a\u307e\u3059\u3002\u5148\u307b\u3069\u306e\u56f3\u306f\u3001Rust\u306e\u826f\u3055\u3092\u8868\u793a\u3057\u305f\u306b\u904e\u304e\u307e\u305b\u3093\u3002</p> <p>\u30ac\u30d9\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u304c\u5fc5\u8981\u306a\u3044\u306e\u306f\u3001Rust\u304c\u30dc\u30ed\u30fc\u30c1\u30a7\u30c3\u30ab\u30fc\u3092\u4f7f\u3063\u305f\u5f37\u5236\u30eb\u30fc\u30eb\u3067\u30e1\u30e2\u30ea\u306e\u5b89\u5168\u6027\u3092\u78ba\u4fdd\u3057\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002\u3055\u3066\u3001\u306a\u305cRust\u3067\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3057\u305f\u3044\u306e\u304b\u3092\u7406\u89e3\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u6b21\u7bc0\u3067\u306f\u30c7\u30fc\u30bf\u578b\u306e\u898b\u76f4\u3057\u306b\u79fb\u308a\u307e\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/","title":"2 - Rust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30b6\u30a4\u30f3\u3059\u308b","text":""},{"location":"2_DesigningYourWebApplicationInRust/#rustweb","title":"Rust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30b6\u30a4\u30f3\u3059\u308b","text":"<p>\u524d\u56de\u306f\u3001Rust\u306e\u69cb\u6587\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3001\u30e1\u30e2\u30ea\u7ba1\u7406\u306e\u7656\u3092\u514b\u670d\u3057\u3001\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u7d4c\u9a13\u8c4a\u5bcc\u306a\u30a8\u30f3\u30b8\u30cb\u30a2\u306a\u3089\u8ab0\u3082\u304c\u8a00\u3046\u3088\u3046\u306b\u3001\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u307e\u305f\u304c\u308b\u30b3\u30fc\u30c9\u3092\u69cb\u9020\u5316\u3059\u308b\u3053\u3068\u306f\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u69cb\u7bc9\u3059\u308b\u4e0a\u3067\u91cd\u8981\u306a\u5074\u9762\u3067\u3059\u3002</p> <p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u57fa\u672c\u7684\u306a\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3ToDo\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u69cb\u7bc9\u306b\u5fc5\u8981\u306a\u4f9d\u5b58\u95a2\u4fc2\u306f\u3001Rust\u306eCargo\u3067\u7ba1\u7406\u3057\u307e\u3059\u3002\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u72ec\u81ea\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u69cb\u7bc9\u3057\u3066\u7ba1\u7406\u3057\u3001\u305d\u308c\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4ed6\u306e\u9818\u57df\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u5229\u7528\u3059\u308b\u3068\u3044\u3046\u3001\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306a\u65b9\u6cd5\u3067\u69cb\u6210\u3055\u308c\u307e\u3059\u3002\u79c1\u305f\u3061\u306f\u3001ToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3001\u7de8\u96c6\u3001\u524a\u9664\u3059\u308b\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u307e\u305f\u304c\u308bToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001\u3053\u308c\u3089\u306e\u6982\u5ff5\u3092\u5b66\u3073\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u8907\u6570\u306eToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u3092\u30ed\u30fc\u30ab\u30eb\u306b\u4fdd\u5b58\u3057\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u4f7f\u7528\u3057\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u5bfe\u8a71\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u9805\u76ee\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p> <ul> <li> Cargo\u306b\u3088\u308b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u7ba1\u7406</li> <li> \u30b3\u30fc\u30c9\u306e\u69cb\u9020\u5316</li> <li> \u74b0\u5883\u3068\u306e\u76f8\u4e92\u4f5c\u7528</li> </ul> <p>\u3053\u306e\u7ae0\u306e\u7d42\u308f\u308a\u306b\u306f\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3057\u3066\u4f7f\u7528\u3067\u304d\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Rust\u3067\u69cb\u7bc9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u81ea\u5206\u306e\u30b3\u30fc\u30c9\u3067\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u3001\u89e3\u6c7a\u3057\u3088\u3046\u3068\u3059\u308b\u554f\u984c\u3092\u7406\u89e3\u3057\u3001\u8ad6\u7406\u7684\u306a\u584a\u306b\u5206\u89e3\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308c\u3070\u3001\u30b5\u30fc\u30d0\u30fc\u3084\u30b0\u30e9\u30d5\u30a3\u30ab\u30eb\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5fc5\u8981\u3068\u3057\u306a\u3044\u3001\u3042\u3089\u3086\u308b\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002  </p>"},{"location":"2_DesigningYourWebApplicationInRust/InteractingWithTheEnvironment/","title":"2.4 - \u74b0\u5883\u3068\u306e\u76f8\u4e92\u4f5c\u7528","text":""},{"location":"2_DesigningYourWebApplicationInRust/InteractingWithTheEnvironment/#_1","title":"\u74b0\u5883\u3068\u306e\u76f8\u4e92\u4f5c\u7528","text":"<p>\u74b0\u5883\u3068\u5bfe\u8a71\u3059\u308b\u305f\u3081\u306b\u306f\u30012\u3064\u306e\u3053\u3068\u3092\u7ba1\u7406\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305a\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u72b6\u614b\u3092\u30ed\u30fc\u30c9\u3001\u4fdd\u5b58\u3001\u7de8\u96c6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u306e\u5165\u529b\u3092\u53d7\u3051\u4ed8\u3051\u3066\u3001\u30c7\u30fc\u30bf\u3092\u7de8\u96c6\u3057\u305f\u308a\u8868\u793a\u3057\u305f\u308a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u79c1\u305f\u3061\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u5404\u30d7\u30ed\u30bb\u30b9\u306b\u5bfe\u3057\u3066\u4ee5\u4e0b\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <ol> <li>\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u5f15\u6570\u3092\u53ce\u96c6\u3059\u308b\u3002</li> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u6e21\u3055\u308c\u308b\u30b3\u30de\u30f3\u30c9\u304b\u3089\u3001\u30b3\u30de\u30f3\u30c9\uff08\u53d6\u5f97\u3001\u7de8\u96c6\u3001\u524a\u9664\u3001\u4f5c\u6210\uff09\u3092\u5b9a\u7fa9\u3057\u3001ToDo\u30bf\u30a4\u30c8\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u3002</li> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u904e\u53bb\u306b\u5b9f\u884c\u3057\u305f\u969b\u306eToDo\u9805\u76ee\u3092\u4fdd\u5b58\u3059\u308bJSON\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u3002</li> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3055\u308c\u305f\u30b3\u30de\u30f3\u30c9\u3092\u5143\u306bget\u3001edit\u3001delete\u3001create\u306e\u5404\u6a5f\u80fd\u3092\u5b9f\u884c\u3057\u3001\u6700\u5f8c\u306b\u305d\u306e\u72b6\u614b\u306e\u7d50\u679c\u3092JSON\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3059\u308b\u3002</li> </ol> <p>\u3053\u306e4\u30b9\u30c6\u30c3\u30d7\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081\u306b\u3001\u6700\u521d\u306bserde crate\u3067\u72b6\u614b\u3092\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u3081\u307e\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/InteractingWithTheEnvironment/#json","title":"JSON\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u51fa\u3057\u3068\u66f8\u304d\u8fbc\u307f","text":"<p>\u73fe\u5728\u306f\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306e\u5f62\u3067\u30c7\u30fc\u30bf\u3092\u6c38\u7d9a\u5316\u3059\u308b\u6bb5\u968e\u3067\u3059\u3002\u7b2c6\u7ae0\u300cPostgreSQL\u306b\u3088\u308b\u30c7\u30fc\u30bf\u6c38\u7d9a\u5316\u300d\u3067\u3001\u3053\u308c\u3092\u9069\u5207\u306a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u3057\u304b\u3057\u4eca\u306f\u3001Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u6700\u521d\u306e\u4f9d\u5b58\u95a2\u4fc2\u3067\u3042\u308b serde_json \u3092\u5c0e\u5165\u3059\u308b\u3064\u3082\u308a\u3067\u3059\u3002\u3053\u306e serde_json \u30af\u30ec\u30fc\u30c8\u306f\u3001Rust \u30c7\u30fc\u30bf\u304b\u3089 JSON \u30c7\u30fc\u30bf\u3078\u306e\u5909\u63db\u3001\u304a\u3088\u3073\u305d\u306e\u9006\u3092\u51e6\u7406\u3057\u307e\u3059\u3002\u6b21\u306e\u7ae0\u3067\u306f\u3001serde_json \u3092\u4f7f\u7528\u3057\u3066 HTTP \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u3001Cargo.toml \u30d5\u30a1\u30a4\u30eb\u306b\u3053\u306e\u30af\u30ec\u30fc\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002</p> <pre><code>[dependencies]\nserde_json=\"1.0.59\"\n</code></pre> <p>\u5c06\u6765\u7684\u306b\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u4e88\u5b9a\u306a\u306e\u3067\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u53d6\u308a\u3068\u66f8\u304d\u8fbc\u307f\u306b\u95a2\u3059\u308b\u64cd\u4f5c\u3092\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4ed6\u306e\u90e8\u5206\u304b\u3089\u5206\u96e2\u3057\u3066\u304a\u304f\u3053\u3068\u306f\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u969b\u306b\u3001\u30c7\u30d0\u30c3\u30b0\u3084\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u304c\u5fc5\u8981\u306b\u306a\u3089\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3067\u3059\u3002\u307e\u305f\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u53d6\u308a\u3068\u66f8\u304d\u8fbc\u307f\u306e\u969b\u306b\u7ba1\u7406\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u30b9\u30ad\u30fc\u30de\u3084\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u306a\u3044\u305f\u3081\u3001\u30b7\u30f3\u30d7\u30eb\u306b\u4fdd\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u8003\u616e\u3059\u308b\u3068\u3001\u5fc5\u8981\u306a\u306e\u306f\u8aad\u307f\u8fbc\u307f\u3068\u66f8\u304d\u8fbc\u307f\u306e\u95a2\u6570\u3060\u3051\u3067\u3059\u3002\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u5c0f\u3055\u304f\u30b7\u30f3\u30d7\u30eb\u306a\u306e\u3067\u3001main.rs\u306e\u96a3\u306b1\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3060\u3051\u3067\u3088\u3044\u3002\u307e\u305a\u3001src/state.rs\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use std::fs::File;\nuse std::fs;\nuse std::io::Read;\nuse serde_json::Map;\nuse serde_json::value::Value;\nuse serde_json::json;\n</code></pre> <p>\u56f32.5\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u305f\u3088\u3046\u306b\u3001\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3080\u305f\u3081\u306b\u306f\u3001\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u4e00\u9023\u306e\u69cb\u9020\u4f53\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p>\u56f32.5 JSON\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u305f\u3081\u306e\u624b\u9806</p> <p>\u56f32.5\u306e\u624b\u9806\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub fn read_file(file_name: &amp;str) -&gt; Map&lt;String, Value&gt; {\nlet mut file = File::open(file_name.to_string()).unwrap();\nlet mut data = String::new();\nfile.read_to_string(&amp;mut data).unwrap();\nlet json: Value = serde_json::from_str(&amp;data).unwrap();\nlet state: Map&lt;String, Value&gt; = json.as_object().unwrap().clone();\nreturn state\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u30aa\u30fc\u30d7\u30f3\u3092\u76f4\u63a5\u30a2\u30f3\u30e9\u30c3\u30d7\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u53d6\u308c\u306a\u3044\u3068\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7d9a\u3051\u308b\u610f\u5473\u304c\u306a\u3044\u305f\u3081\u3067\u3001\u305d\u306e\u7d50\u679c\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u53d6\u308a\u3092\u76f4\u63a5\u30a2\u30f3\u30e9\u30c3\u30d7\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u3053\u306e\u6587\u5b57\u5217\u3092JSON\u30c7\u30fc\u30bf\u3067\u57cb\u3081\u308b\u305f\u3081\u3001\u6587\u5b57\u5217\u306f\u30df\u30e5\u30fc\u30bf\u30d6\u30eb\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u306b\u3082\u6ce8\u610f\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3055\u3089\u306b\u3001serde_json \u30af\u30ec\u30fc\u30c8\u3092\u4f7f\u3063\u3066 JSON \u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3057\u3001\u30de\u30c3\u30d7\u306b\u69cb\u6210\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3067\u3001\u3053\u306e\u30de\u30c3\u30d7\u5909\u6570\u3092\u4ecb\u3057\u3066ToDo\u30a2\u30a4\u30c6\u30e0\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u6b21\u306b\u3001\u30c7\u30fc\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u540c\u3058\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub fn write_to_file(file_name: &amp;str, state: &amp;mut Map&lt;String, Value&gt;) {\nlet new_data = json!(state);\nfs::write(\nfile_name.to_string(),\nnew_data.to_string()\n)\n.expect(\"Unable to write file\");\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001Map\u5909\u6570\u3068\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9\u3092\u53d7\u3051\u53d6\u3063\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001serde_json\u30af\u30ec\u30fc\u30c8\u306ejson\uff01\u30de\u30af\u30ed\u3092\u4f7f\u7528\u3057\u3066\u3001Map\u5909\u6570\u3092JSON\u306b\u5909\u63db\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001JSON \u30c7\u30fc\u30bf\u3092\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u3001JSON \u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3093\u3067\u3044\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001ToDo \u9805\u76ee\u3092 JSON \u30d5\u30a1\u30a4\u30eb\u306b\u8aad\u307f\u66f8\u304d\u3059\u308b\u95a2\u6570\u304c\u7528\u610f\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u308c\u3067\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3066\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306bToDo\u30a2\u30a4\u30c6\u30e0\u3092\u8aad\u307f\u66f8\u304d\u3059\u308b\u30b7\u30f3\u30d7\u30eb\u306a\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3ToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3055\u308c\u308b\u57fa\u672c\u7684\u306a\u5f15\u6570\u3092\u4f7f\u7528\u3057\u3066\u3001\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u5bfe\u8a71\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>mod state;\nuse std::env;\nuse state::{write_to_file, read_file};\nuse serde_json::value::Value;\nuse serde_json::{Map, json};\nfn main() {\nlet args: Vec&lt;String&gt; = env::args().collect();\nlet status: &amp;String = &amp;args[1];\nlet title: &amp;String = &amp;args[2];\nlet mut state: Map&lt;String, Value&gt; =\nread_file(\"./state.json\");\nprintln!(\"Before operation: {:?}\", state);\nstate.insert(title.to_string(), json!(status));\nprintln!(\"After operation: {:?}\", state);\nwrite_to_file(\"./state.json\", &amp;mut state);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002</p> <ol> <li>\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3055\u308c\u305f\u5f15\u6570\u304b\u3089\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3084\u30bf\u30a4\u30c8\u30eb\u3092\u53ce\u96c6\u3059\u308b</li> <li>JSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089ToDo\u9805\u76ee\u3092\u8aad\u307f\u8fbc\u3080</li> <li>JSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089ToDo\u9805\u76ee\u3092\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u305f\u3082\u306e</li> <li>\u65b0\u3057\u3044ToDo\u9805\u76ee\u3092\u633f\u5165\u3059\u308b</li> <li>\u65b0\u3057\u3044ToDo\u306e\u30bb\u30c3\u30c8\u3092\u30e1\u30e2\u30ea\u304b\u3089\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u305f\u3082\u306e</li> <li>\u65b0\u3057\u3044ToDo\u30ea\u30b9\u30c8\u3092JSON\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\u3002</li> </ol> <p>\u30eb\u30fc\u30c8\u30d1\u30b9\u306fCargo.toml\u30d5\u30a1\u30a4\u30eb\u306e\u3042\u308b\u5834\u6240\u306b\u306a\u308b\u306e\u3067\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306e\u96a3\u306bstate.json\u3068\u3044\u3046\u7a7a\u306eJSON\u30d5\u30a1\u30a4\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u64cd\u4f5c\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u6e21\u3057\u307e\u3059\u3002</p> <pre><code>cargo run pending washing\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>Before operation: {}\nAfter operation: {\"washing\": String(\"pending\")}\n</code></pre> <p>\u5148\u306e\u51fa\u529b\u3067\u306f\u3001washing\u304c\u633f\u5165\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001JSON\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3068\u3001washing\u304c\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002to_do\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3064\u3044\u3066\u3001\u69cb\u7bc9\u3057\u305f\u3059\u3079\u3066\u306e\u69cb\u9020\u4f53\u3084trait\u3092\u542b\u3081\u3066\u3001\u4e00\u5207\u306e\u8a00\u53ca\u3092\u524a\u9664\u3057\u305f\u3053\u3068\u306b\u304a\u6c17\u3065\u304d\u3067\u3057\u3087\u3046\u304b\u3002\u3053\u308c\u306f\u3001\u5fd8\u308c\u3066\u3057\u307e\u3063\u305f\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001to_do\u3092state\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u878d\u5408\u3055\u305b\u308b\u524d\u306b\u3001JSON\u30d5\u30a1\u30a4\u30eb\u3068\u306e\u3084\u308a\u3068\u308a\u304c\u3046\u307e\u304f\u3044\u304f\u304b\u3069\u3046\u304b\u3092\u30c6\u30b9\u30c8\u3057\u3066\u3044\u308b\u306b\u904e\u304e\u306a\u3044\u306e\u3067\u3059\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u3001To-do\u69cb\u9020\u4f53\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308btrait\u3092\u4fee\u6b63\u3059\u308b\u3053\u3068\u3067\u3001To_do\u3068state\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u878d\u5408\u3055\u305b\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/InteractingWithTheEnvironment/#_2","title":"\u30c8\u30ec\u30a4\u30c8\u306e\u518d\u78ba\u8a8d","text":"<p>ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u72b6\u614b\u3092JSON\u30d5\u30a1\u30a4\u30eb\u3067\u7ba1\u7406\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3057\u305f\u306e\u3067\u3001trait\u95a2\u6570\u304c\u3069\u306e\u3088\u3046\u306b\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3057\u3001JSON\u30d5\u30a1\u30a4\u30eb\u3068\u5bfe\u8a71\u3059\u308b\u304b\u306b\u3064\u3044\u3066\u8003\u3048\u3066\u307f\u307e\u3059\u3002\u307e\u305a\u59cb\u3081\u306b\u3001\u6700\u3082\u5358\u7d14\u306a\u5f62\u8cea\u3067\u3042\u308bsrc/to_do/traits/get.rs\u30d5\u30a1\u30a4\u30eb\u306eGet\u5f62\u8cea\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u5358\u306bJSON\u30de\u30c3\u30d7\u304b\u3089ToDo\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3057\u3066\u3001\u305d\u308c\u3092\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3044\u307e\u3059\u3002JSON\u30de\u30c3\u30d7\u3092get\u95a2\u6570\u306b\u6e21\u3057\u3066\u3001\u30de\u30c3\u30d7\u304b\u3089ToDo\u9805\u76ee\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97\u3057\u3001state\u304b\u3089ToDo\u9805\u76ee\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u53d6\u5f97\u3057\u3066\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use serde_json::Map;\nuse serde_json::value::Value;\npub trait Get {\nfn get(&amp;self, title: &amp;String, state: &amp;Map&lt;String, Value&gt;) {\nlet item: Option&lt;&amp;Value&gt; = state.get(title);\nmatch item {\nSome(result) =&gt; {\nprintln!(\"\\n\\nItem: {}\", title);\nprintln!(\"Status: {}\\n\\n\", result);\n},\nNone =&gt; println!(\"item: {} was not found\", title)\n}\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001JSON Map\u306b\u5bfe\u3057\u3066get\u95a2\u6570\u3092\u5b9f\u884c\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u30de\u30c3\u30c1\u30f3\u30b0\u3057\u3066\u3001\u62bd\u51fa\u3057\u305f\u3082\u306e\u3092\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3064\u307e\u308a\u3001Get\u3092\u5b9f\u88c5\u3057\u305fToDo\u30a2\u30a4\u30c6\u30e0\u3067\u3042\u308c\u3070\u3001\u72b6\u614b\u304b\u3089ToDo\u30a2\u30a4\u30c6\u30e0\u3092\u62bd\u51fa\u3057\u3066\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002  </p> <p>\u6b21\u306b\u3001src/to_do/traits/create.rs \u30d5\u30a1\u30a4\u30eb\u306b\u3042\u308b Create trait \u3092\u4f7f\u3063\u3066\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306e\u8907\u96d1\u3055\u306b\u9032\u307f\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u65b0\u3057\u3044ToDo\u9805\u76ee\u3092\u633f\u5165\u3057\u3066\u72b6\u614b\u3092\u7de8\u96c6\u3057\u3001\u66f4\u65b0\u3055\u308c\u305f\u72b6\u614b\u3092JSON\u306b\u66f8\u304d\u8fbc\u3080\u306e\u3067\u3001Get trait\u3088\u308a\u3082\u5c11\u3057\u8907\u96d1\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u624b\u9806\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use serde_json::Map;\nuse serde_json::value::Value;\nuse serde_json::json;\nuse crate::state::write_to_file;\npub trait Create {\nfn create(\n&amp;self,\ntitle: &amp;String,\nstatus: &amp;String,\nstate: &amp;mut Map&lt;String, Value&gt;) {\nstate.insert(title.to_string(), json!(status));\nwrite_to_file(\"./state.json\", state);\nprintln!(\"\\n\\n{} is being created\\n\\n\", title);\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001state\u30e2\u30b8\u30e5\u30fc\u30eb\u306ewrite_to_file\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306b\u72b6\u614b\u3092\u4fdd\u5b58\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306ecreate\u95a2\u6570\u306f\u3001ToDo\u9805\u76ee\u3092\u524a\u9664\u3059\u308b\u3068\u304d\u306b\u5fc5\u8981\u306a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u524a\u9664\u306f\u3001\u57fa\u672c\u7684\u306bcreate\u95a2\u6570\u3067\u884c\u3063\u305f\u3053\u3068\u306e\u9006\u3092\u884c\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002src/to_do/traits/delete.rs\u306b\u3042\u308bDelete\u7279\u6027\u306edelete\u95a2\u6570\u3092\u66f8\u3044\u3066\u307f\u3066\u304b\u3089\u3001\u6b21\u306b\u9032\u3080\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3068\u540c\u3058\u3088\u3046\u306b\u5b9f\u884c\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>use serde_json::Map;\nuse serde_json::value::Value;\nuse crate::state::write_to_file;\npub trait Delete {\nfn delete(&amp;self, title: &amp;String,\nstate: &amp;mut Map&lt;String, Value&gt;) {\nstate.remove(title);\nwrite_to_file(\"./state.json\", state);\nprintln!(\"\\n\\n{} is being deleted\\n\\n\", title);\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001JSON Map\u3067remove\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3001\u66f4\u65b0\u3055\u308c\u305f\u72b6\u614b\u3092JSON\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3093\u3067\u3044\u308b\u306b\u904e\u304e\u307e\u305b\u3093\u3002\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306f\u7d42\u308f\u308a\u306b\u8fd1\u3065\u3044\u3066\u3044\u307e\u3059\u3002\u3042\u3068\u306f\u3001src/to_do/traits/edit.rs\u30d5\u30a1\u30a4\u30eb\u306b\u3001Edit\u7279\u6027\u306eedit\u95a2\u6570\u3092\u4f5c\u6210\u3059\u308b\u3060\u3051\u3067\u3059\u30022\u3064\u306e\u95a2\u6570\u304c\u3042\u308a\u307e\u3059\u30021\u3064\u306fToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092DONE\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u3082\u30461\u3064\u306e\u95a2\u6570\u306f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092PENDING\u306b\u8a2d\u5b9a\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u3053\u308c\u3089\u306f\u3001\u72b6\u614b\u3092\u66f4\u65b0\u3057\u3001\u66f4\u65b0\u3055\u308c\u305f\u72b6\u614b\u3092JSON\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\u3053\u3068\u3067\u5b9f\u73fe\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u5148\u3092\u8aad\u3080\u524d\u306b\u3001\u81ea\u5206\u3067\u66f8\u3044\u3066\u307f\u308b\u306e\u3082\u3044\u3044\u3067\u3057\u3087\u3046\u3002\u3046\u307e\u304f\u3044\u3051\u3070\u3001\u3042\u306a\u305f\u306e\u30b3\u30fc\u30c9\u306f\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002</p> <pre><code>use serde_json::Map;\nuse serde_json::value::Value;\nuse serde_json::json;\nuse crate::state::write_to_file;\nuse super::super::enums::TaskStatus;\npub trait Edit {\nfn set_to_done(&amp;self, title: &amp;String,\nstate: &amp;mut Map&lt;String, Value&gt;) {\nstate.insert(title.to_string(),\njson!(TaskStatus::DONE.stringify()));\nwrite_to_file(\"./state.json\", state);\nprintln!(\"\\n\\n{} is being set to done\\n\\n\", title);\n}\nfn set_to_pending(&amp;self, title: &amp;String,\nstate: &amp;mut Map&lt;String, Value&gt;) {\nstate.insert(title.to_string(),\njson!(TaskStatus::PENDING.stringify()));\nwrite_to_file(\"./state.json\", state);\nprintln!(\"\\n\\n{} is being set to pending\\n\\n\", title);\n}\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001JSON\u30d5\u30a1\u30a4\u30eb\u3092\u4ecb\u3055\u305a\u306b\u3001\u6700\u521d\u306b\u671b\u3093\u3060\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u3089\u306e\u7279\u6027\u3092\u6700\u521d\u306b\u5b9a\u7fa9\u3057\u305f\u3068\u304d\u306e\u3088\u3046\u306b\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u3067\u3053\u308c\u3089\u306e\u7279\u6027\u3092\u76f4\u63a5\u5229\u7528\u3059\u308b\u3053\u3068\u3092\u59a8\u3052\u308b\u3082\u306e\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u3067\u306f\u62e1\u5f35\u6027\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u3068\u3044\u3046\u306e\u3082\u3001\u79c1\u305f\u3061\u306f\u57fa\u672c\u7684\u306b\u3001\u8907\u6570\u306e\u30d3\u30e5\u30fc\u3068API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u6301\u3064Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u8907\u6570\u306e\u7570\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u3067\u3001\u3053\u308c\u3089\u306e\u7279\u6027\u3084\u30b9\u30c8\u30ec\u30fc\u30b8\u51e6\u7406\u3068\u3084\u308a\u53d6\u308a\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30b3\u30fc\u30c9\u3092\u7e70\u308a\u8fd4\u3059\u3053\u3068\u306a\u304f\u3001\u6a19\u6e96\u5316\u3055\u308c\u305f\u65b9\u6cd5\u3067\u3053\u308c\u3089\u306e\u5f62\u8cea\u3068\u5bfe\u8a71\u3059\u308b\u65b9\u6cd5\u3092\u8003\u3048\u51fa\u3059\u5fc5\u8981\u304c\u3042\u308a\u305d\u3046\u3067\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/InteractingWithTheEnvironment/#_3","title":"\u30c8\u30ec\u30a4\u30c8\u3068\u69cb\u9020\u4f53\u306e\u51e6\u7406","text":"<p>\u79c1\u305f\u3061\u306e\u30b3\u30fc\u30c9\u304c\u30b7\u30f3\u30d7\u30eb\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3068\u5bfe\u8a71\u3057\u3001\u6700\u5c0f\u9650\u306e\u75db\u307f\u3067\u66f4\u65b0\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3001\u7e70\u308a\u8fd4\u3057\u306e\u30b3\u30fc\u30c9\u3068\u305d\u306e\u7d50\u679c\u751f\u3058\u308b\u30a8\u30e9\u30fc\u3092\u6e1b\u3089\u3059\u305f\u3081\u306b\u3001\u56f32.6\u306b\u898b\u3089\u308c\u308b\u3088\u3046\u306b\u3001\u30d7\u30ed\u30bb\u30b9\u5c64\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p>\u56f32.6 - \u30d7\u30ed\u30bb\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4ecb\u3057\u305f\u5f62\u8cea\u8ee2\u63db\u306e\u6d41\u308c</p> <p>\u56f32.6\u3067\u306f\u3001\u69cb\u9020\u4f53\u304c\u7de9\u3084\u304b\u306a\u65b9\u6cd5\u3067trait\u306b\u7d50\u5408\u3055\u308c\u3066\u304a\u308a\u3001JSON\u3068\u306e\u9593\u306e\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc\u304ctrait\u3092\u7d4c\u7531\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001processs\u30e2\u30b8\u30e5\u30fc\u30eb\u306b1\u3064\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u304c\u3042\u308a\u3001\u305d\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u304c\u30b3\u30de\u30f3\u30c9\u3092\u9069\u5207\u306atrait\u306b\u5c0e\u304d\u3001\u305d\u306etrait\u304c\u5fc5\u8981\u306a\u3068\u304d\u306bJSON\u30d5\u30a1\u30a4\u30eb\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3082\u308f\u304b\u308a\u307e\u3059\u3002trait\u306e\u5b9a\u7fa9\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u3042\u3068\u306fprocesss\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u69cb\u7bc9\u3057\u3066trait\u306b\u63a5\u7d9a\u3057\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u306b\u63a5\u7d9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002processs\u30e2\u30b8\u30e5\u30fc\u30eb\u5168\u4f53\u3092src/processes.rs\u30d5\u30a1\u30a4\u30eb1\u3064\u3067\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u30021\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u3057\u3066\u3044\u308b\u306e\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u6271\u3046\u3068\u304d\u306b\u524a\u9664\u3059\u308b\u305f\u3081\u3067\u3059\u3002\u5c06\u6765\u7684\u306b\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u5206\u304b\u3063\u3066\u3044\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u3042\u307e\u308a\u5927\u304d\u306a\u6280\u8853\u7684\u8ca0\u50b5\u3092\u80cc\u8ca0\u3046\u5fc5\u8981\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u3068\u308a\u3042\u3048\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5fc5\u8981\u306a\u69cb\u9020\u4f53\u3068trait\u3092\u3059\u3079\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001processs\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u69cb\u7bc9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002</p> <pre><code>use serde_json::Map;\nuse serde_json::value::Value;\nuse super::to_do::ItemTypes;\nuse super::to_do::structs::done::Done;\nuse super::to_do::structs::pending::Pending;\nuse super::to_do::traits::get::Get;\nuse super::to_do::traits::create::Create;\nuse super::to_do::traits::delete::Delete;\nuse super::to_do::traits::edit::Edit;\n</code></pre> <p>\u3053\u308c\u3067\u3001\u975e\u516c\u958b\u306e\u95a2\u6570\u3092\u69cb\u7bc9\u3057\u59cb\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305a\u3001Pending\u69cb\u9020\u4f53\u3092\u51e6\u7406\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u3081\u307e\u3057\u3087\u3046\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u306b\u3042\u308b\u3088\u3046\u306b\u3001\u4fdd\u7559\u4e2d\u306eToDo\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3001\u4f5c\u6210\u3001\u7de8\u96c6\u3067\u304d\u308b\u3053\u3068\u304c\u5206\u304b\u3063\u3066\u3044\u307e\u3059\u3002</p> <pre><code>fn process_pending(\nitem: Pending,\ncommand: String, state: &amp;Map&lt;String, Value&gt;) {\nlet mut state = state.clone();\nmatch command.as_str() {\n\"get\" =&gt; item.get(&amp;item.super_struct.title, &amp;state),\n\"create\" =&gt; item.create(\n&amp;item.super_struct.title, &amp;item.super_struct.status.stringify(),\n&amp;mut state),\n\"edit\" =&gt; item.set_to_done(\n&amp;item.super_struct.title, &amp;mut state),\n_ =&gt; println!(\"command: {} not supported\", command)\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001Pending\u69cb\u9020\u4f53\u3001\u30b3\u30de\u30f3\u30c9\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u73fe\u5728\u306e\u72b6\u614b\u3092\u53d6\u308a\u8fbc\u3093\u3067\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u30b3\u30de\u30f3\u30c9\u3092\u30de\u30c3\u30c1\u30f3\u30b0\u3057\u3001\u305d\u306e\u30b3\u30de\u30f3\u30c9\u306b\u95a2\u9023\u3059\u308btrait\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u6e21\u3055\u308c\u305f\u30b3\u30de\u30f3\u30c9\u304cget\u3001create\u3001edit\u306e\u3044\u305a\u308c\u3067\u3082\u306a\u3044\u5834\u5408\u306f\u3001\u305d\u308c\u3092\u30b5\u30dd\u30fc\u30c8\u305b\u305a\u3001\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u30b3\u30de\u30f3\u30c9\u3092\u30e6\u30fc\u30b6\u30fc\u306b\u4f1d\u3048\u308b\u30a8\u30e9\u30fc\u3092\u6295\u3052\u307e\u3059\u3002\u3053\u308c\u306f\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u3067\u3059\u3002\u305f\u3068\u3048\u3070\u3001Pending\u69cb\u9020\u4f53\u304cJSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089ToDo\u9805\u76ee\u3092\u524a\u9664\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5834\u5408\u3001Pending\u69cb\u9020\u4f53\u306bDelete trait\u3092\u5b9f\u88c5\u3057\u3066\u3001process_pending\u95a2\u6570\u306bdelete\u30b3\u30de\u30f3\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3088\u3044\u3002\u3053\u308c\u306f\u5408\u8a08\u30672\u884c\u306e\u30b3\u30fc\u30c9\u3067\u6e08\u307f\u3001\u3053\u306e\u5909\u66f4\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5168\u4f53\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u5909\u66f4\u306f\u3001\u30b3\u30de\u30f3\u30c9\u3092\u524a\u9664\u3057\u305f\u5834\u5408\u306b\u3082\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3067\u3001Pending\u69cb\u9020\u4f53\u3092\u67d4\u8edf\u306b\u5b9f\u88c5\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u3053\u3068\u3092\u5ff5\u982d\u306b\u7f6e\u3044\u3066\u3001\u3053\u306e\u5148\u3092\u8aad\u3080\u524d\u306bprocess_done\u95a2\u6570\u3092\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3059\u308b\u3053\u3068\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3082\u3057\u305d\u3046\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u306a\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u307e\u3059\u3002</p> <pre><code>fn process_done(\nitem: Done,\ncommand: String, state: &amp;Map&lt;String, Value&gt;) {\nlet mut state = state.clone();\nmatch command.as_str() {\n\"get\"    =&gt; item.get(&amp;item.super_struct.title, &amp;state),\n\"delete\" =&gt; item.delete(&amp;item.super_struct.title, &amp;mut state),\n\"edit\"   =&gt; item.set_to_pending(&amp;item.super_struct.title, &amp;mut state),\n_        =&gt; println!(\"command: {} not supported\", command)\n}\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001\u4e21\u65b9\u306e\u69cb\u9020\u4f53\u3092\u51e6\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u3053\u3067\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8a2d\u8a08\u3059\u308b\u969b\u306b\u69cb\u9020\u4f53\u306e\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u304c\u6d3b\u304d\u3066\u304d\u307e\u3059\u3002\u30b3\u30de\u30f3\u30c9\u3068\u540c\u69d8\u306b\u3001\u69cb\u9020\u4f53\u3082trait\u3068\u540c\u3058\u3088\u3046\u306b\u30b9\u30bf\u30c3\u30af\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u56f32.7\u306b\u793a\u3059\u3088\u3046\u306b\u3001\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <p>\u56f32.7 \u30d7\u30ed\u30bb\u30b9\u306e\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3</p> <p>\u56f32.7\u304b\u3089\u3001\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306b\u3088\u308b\u7d4c\u8def\u3092\u5897\u3084\u3059\u3053\u3068\u3067\u3001\u69cb\u9020\u4f53\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u62e1\u5f35\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u3053\u3068\u3092\u3088\u308a\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\uff08\u4eca\u56de\u306fpublic\u95a2\u6570\uff09\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002</p> <pre><code>pub fn process_input(item: ItemTypes, command: String, state: &amp;Map&lt;String, Value&gt;) {\nmatch item {\nItemTypes::Pending(item) =&gt; process_pending(item, command, state),\nItemTypes::Done(item) =&gt; process_done(item, command, state)\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001ItemTypes\u5217\u6319\u578b\u3067\u6b63\u3057\u3044\u69cb\u9020\u4f53\u306b\u30eb\u30fc\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u306f\u3001\u65b0\u3057\u3044\u69cb\u9020\u4f53\u3092ItemTypes\u5217\u6319\u578b\u306b\u8ffd\u52a0\u3057\u3001processs\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u305d\u306e\u69cb\u9020\u4f53\u3092\u51e6\u7406\u3059\u308b\u65b0\u3057\u3044\u95a2\u6570\u3092\u8a18\u8ff0\u3057\u3001\u69cb\u9020\u4f53\u306b\u5fc5\u8981\u306a\u7279\u6027\u3092\u9069\u7528\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001\u3055\u3089\u306b\u591a\u304f\u306e\u69cb\u9020\u4f53\u3092\u51e6\u7406\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067processs\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u5b8c\u5168\u306b\u5b8c\u6210\u3057\u305f\u306e\u3067\u3001\u3053\u308c\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306bmain.rs\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</p> <pre><code>mod state;\nmod to_do;\nmod processes;\nuse std::env;\nuse serde_json::value::Value;\nuse serde_json::Map;\nuse state::read_file;\nuse to_do::to_do_factory;\nuse to_do::enums::TaskStatus;\nuse processes::process_input;\n</code></pre> <p>\u3053\u308c\u3089\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u306b\u3088\u308a\u3001JSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u53d6\u308a\u3001to_do_factory\u3092\u4f7f\u7528\u3057\u3066\u74b0\u5883\u304b\u3089\u53ce\u96c6\u3057\u305f\u5165\u529b\u304b\u3089\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3057\u3001\u3053\u308c\u3092processs\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u6e21\u3057\u3066JSON\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u6642\u70b9\u3067\u3001\u8aad\u3080\u306e\u3092\u3084\u3081\u3066\u3001\u81ea\u5206\u3067\u3053\u306e\u51e6\u7406\u3092\u30b3\u30fc\u30c9\u5316\u3057\u3066\u307f\u308b\u306e\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002JSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001ToDo\u9805\u76ee\u306e\u30bf\u30a4\u30c8\u30eb\u304c\u3059\u3067\u306bJSON\u30d5\u30a1\u30a4\u30eb\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002JSON\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30fc\u30bf\u304b\u3089\u30bf\u30a4\u30c8\u30eb\u3092\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3051\u308c\u3070\u3001\u5b8c\u4e86\u3057\u305f\u30bf\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u4fdd\u7559\u72b6\u614b\u306b\u306a\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u65b9\u6cd5\u3092\u9078\u629e\u3057\u305f\u5834\u5408\u3001\u3042\u306a\u305f\u306e\u30b3\u30fc\u30c9\u306f\u3046\u307e\u304f\u3044\u3051\u3070\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>fn main() {\nlet args: Vec&lt;String&gt; = env::args().collect();\nlet command: &amp;String = &amp;args[1];\nlet title: &amp;String = &amp;args[2];\nlet state: Map&lt;String, Value&gt; = read_file(\"./state.json\");\nlet status: String;\nmatch &amp;state.get(*&amp;title) {\nSome(result) =&gt; {\nstatus = result.to_string().replace('\\\"', \"\");\n}\nNone =&gt; {\nstatus = \"pending\".to_owned();\n}\n}\nlet item = to_do_factory(title, TaskStatus::from_string(\nstatus.to_uppercase()));\nprocess_input(item, command.to_string(), &amp;state);\n}\n</code></pre> <p>\u4f55\u304b\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001from_string\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066TaskStatus\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u305f\u3053\u3068\u306b\u304a\u6c17\u3065\u304d\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306d\u3002\u307e\u3060\u3001from_string\u95a2\u6570\u3092\u69cb\u7bc9\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u306e\u6642\u70b9\u3067\u3001impl TaskStatus\u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u3067\u3001\u81ea\u5206\u3067\u69cb\u7bc9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002from_string\u95a2\u6570\u3092\u69cb\u7bc9\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001src/to_do/enums.rs\u30d5\u30a1\u30a4\u30eb\u306b\u3042\u308b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>impl TaskStatus {\n. . .\npub fn from_string(input_string: String) -&gt; Self {\nmatch input_string.as_str() {\n\"DONE\" =&gt; TaskStatus::DONE,\n\"PENDING\" =&gt; TaskStatus::PENDING,\n_ =&gt; panic!(\"input {} not supported\", input_string)\n}\n}\n}\n</code></pre> <p>\u3082\u3057\u3001\u79c1\u305f\u3061\u304c\u4f5c\u6210\u3057\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u5229\u7528\u3057\u3066\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3067\u304d\u305f\u306e\u306a\u3089\u3001\u3088\u304f\u3084\u3063\u305f\u3068\u8a00\u3048\u308b\u3067\u3057\u3087\u3046\u3002\u3053\u308c\u3067\u3001\u30e1\u30a4\u30f3\u95a2\u6570\u3067\u69d8\u3005\u306a\u51e6\u7406\u3092\u7c21\u5358\u306b\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u5bfe\u8a71\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>cargo run create washing\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306b\u300c\u6d17\u6fef\u300d\u3068\u3044\u3046ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3057\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u300c\u4fdd\u7559\u300d\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u307b\u304b\u306b\u3082\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u5b9f\u884c\u3067\u304d\u308b\u6a5f\u80fd\u306f\u3059\u3079\u3066\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306bToDo\u9805\u76ee\u3092\u4fdd\u5b58\u3059\u308b\u57fa\u672c\u7684\u306a\u30b3\u30de\u30f3\u30c9\u30fb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u5358\u306a\u308b\u57fa\u672c\u7684\u306a\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u79c1\u305f\u3061\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u3067\u3001\u62e1\u5f35\u6027\u3068\u67d4\u8edf\u6027\u3092\u6301\u305f\u305b\u3066\u3044\u307e\u3059\u3002  </p>"},{"location":"2_DesigningYourWebApplicationInRust/ManagingASoftwareProjectWithCargo/","title":"2.2 - Cargo\u306b\u3088\u308b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u7ba1\u7406","text":""},{"location":"2_DesigningYourWebApplicationInRust/ManagingASoftwareProjectWithCargo/#cargo","title":"Cargo\u306b\u3088\u308b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u7ba1\u7406","text":"<p>Cargo\u3092\u4f7f\u3063\u3066\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u69cb\u9020\u5316\u3092\u59cb\u3081\u308b\u524d\u306b\u3001\u57fa\u672c\u7684\u306a\u5358\u4e00\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001\u307e\u305a\u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b<code>hello_world.rs</code>\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u62e1\u5f35\u5b50.rs\u306f\u3001\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u304cRust\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308b\u3053\u3068\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002\u6b63\u76f4\u306a\u3068\u3053\u308d\u3001\u62e1\u5f35\u5b50\u304c\u4f55\u3067\u3042\u308b\u304b\u306f\u91cd\u8981\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u5b9f\u884c\u53ef\u80fd\u306aRust\u30b3\u30fc\u30c9\u304c\u66f8\u304b\u308c\u3066\u3044\u308c\u3070\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u4f55\u306e\u554f\u984c\u3082\u306a\u304f\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u62e1\u5f35\u5b50\u304c\u7570\u306a\u308b\u3068\u3001\u4ed6\u306e\u958b\u767a\u8005\u3084\u30b3\u30fc\u30c9\u7de8\u96c6\u8005\u3092\u6df7\u4e71\u3055\u305b\u305f\u308a\u3001\u4ed6\u306eRust\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30b3\u30fc\u30c9\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u969b\u306b\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001Rust\u30d5\u30a1\u30a4\u30eb\u306e\u547d\u540d\u306b\u306f.rs\u3092\u4f7f\u7528\u3059\u308b\u306e\u304c\u30d9\u30b9\u30c8\u3067\u3059\u3002<code>hello_world.rs</code>\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u90e8\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u304c\u3042\u308a\u307e\u3059\u3002</p> hello_world.rs<pre><code>fn main() {\nprintln!(\"hello world\");\n}\n</code></pre> <p>\u3053\u308c\u306f\u3001\u524d\u7ae0\u306e\u6700\u521d\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u3068\u4f55\u3089\u5909\u308f\u308a\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3055\u3066\u3001hello_world.rs\u30d5\u30a1\u30a4\u30eb\u306b\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3092\u5b9a\u7fa9\u3057\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>$ rustc hello_world.rs\n</code></pre> <p>\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u7d42\u4e86\u3059\u308b\u3068\u3001\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5b9f\u884c\u53ef\u80fd\u306a\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002Windows\u4e0a\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d0\u30a4\u30ca\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>.\\hello_world.exe\n</code></pre> <p>Linux\u3084macOS\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>$ ./hello_world\n</code></pre> <p>\u5358\u7d14\u306ahello world\u306e\u4f8b\u3057\u304b\u4f5c\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001hello world\u306f\u305f\u3060\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3055\u308c\u308b\u3060\u3051\u3067\u3059\u3002\u3053\u306e\u65b9\u6cd5\u306f\u30011\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u7c21\u5358\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u5834\u5408\u306b\u306f\u4fbf\u5229\u3067\u3059\u304c\u3001\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u307e\u305f\u304c\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u7ba1\u7406\u3059\u308b\u5834\u5408\u306b\u306f\u63a8\u5968\u3055\u308c\u307e\u305b\u3093\u3002\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u4f9d\u5b58\u3059\u308b\u5834\u5408\u306b\u3082\u304a\u52e7\u3081\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001Cargo\u306e\u51fa\u756a\u3067\u3059\u3002Cargo\u306f\u3001\u5b9f\u884c\u3001\u30c6\u30b9\u30c8\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4f5c\u6210\u3001\u30d3\u30eb\u30c9/\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u88fd\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4f9d\u5b58\u95a2\u4fc2\u306a\u3069\u3001\u3059\u3079\u3066\u3092\u3044\u304f\u3064\u304b\u306e\u7c21\u5358\u306a\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3050\u306b\u7ba1\u7406\u3057\u307e\u3059\u3002\u3053\u306e\u7ae0\u3067\u306f\u3001\u3053\u308c\u3089\u306e\u30b3\u30de\u30f3\u30c9\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002hello world\u306e\u4f8b\u3092\u5b9f\u884c\u3057\u305f\u3068\u304d\u306b\u898b\u305f\u3068\u3053\u308d\u3001\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u9032\u307f\u3001Cargo\u3092\u4f7f\u7528\u3057\u3066\u57fa\u672c\u7684\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/ManagingASoftwareProjectWithCargo/#cargo_1","title":"Cargo\u3092\u4f7f\u3063\u305f\u30d3\u30eb\u30c9","text":"<p>Cargo\u3092\u4f7f\u3063\u305f\u30d3\u30eb\u30c9\u306f\u7c21\u5358\u3067\u3059\u3002\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30d3\u30eb\u30c9\u3057\u305f\u3044\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u3059\u3002</p> <pre><code>$ cargo new web_app\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u57fa\u672c\u7684\u306aCargo Rust\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u69cb\u7bc9\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u63a2\u7d22\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u69cb\u9020\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <pre><code>\u2514\u2500\u2500 web_app\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 Cargo.toml\n\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 src\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u2514\u2500\u2500 main.rs\n</code></pre> <p>Rust\u30d5\u30a1\u30a4\u30eb\u306f1\u3064\u3060\u3051\u3067\u3001\u3053\u308c\u306fsrc\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u53ce\u3081\u3089\u308c\u3066\u3044\u308b<code>main.rs</code>\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002<code>main.rs</code>\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u3068\u3001\u3053\u308c\u306f\u524d\u7bc0\u3067\u4f5c\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u3068\u540c\u3058\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b3\u30fc\u30c9\u304c\u30b3\u30f3\u30bd\u30fc\u30eb\u306bhello world\u3092\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f9d\u5b58\u95a2\u4fc2\u3084\u30e1\u30bf\u30c7\u30fc\u30bf\u306f\u3001<code>Cargo.toml</code>\u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>main.rs</code>\u30d5\u30a1\u30a4\u30eb\u306b\u79fb\u52d5\u3057\u3066rustc\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u4ee3\u308f\u308a\u306b\u3001Cargo\u3092\u4f7f\u7528\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>$ cargo run\n</code></pre> <p>\u3053\u306e\u3088\u3046\u306b\u3059\u308b\u3068\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u3066\u5b9f\u884c\u3055\u308c\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>\u00a0\u00a0Compiling web_app v0.1.0 (/Users/maxwellflitton/Documents/\n\u00a0\u00a0 github/books/Rust-Web_Programming-two/chapter02/web_app)\n\u00a0\u00a0\u00a0\u00a0Finished dev [unoptimized + debuginfo] target(s) in 0.15s\n\u00a0\u00a0\u00a0\u00a0 Running `target/debug/web_app`\nhello world\n</code></pre> <p>\u30d9\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u9055\u3046\u306e\u3067\u3001\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u306f\u5c11\u3057\u9055\u3046\u3067\u3057\u3087\u3046\u3002\u4e00\u756a\u4e0b\u306bhello world\u3068\u8868\u793a\u3055\u308c\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u79c1\u305f\u3061\u304c\u671f\u5f85\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u307e\u305f\u3001\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u306b\u306f\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u6700\u9069\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u3001<code>target/debug/web_app</code>\u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u30d0\u30a4\u30ca\u30ea\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u5834\u6240\u306a\u306e\u3067\u3001\u524d\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u884c\u3063\u305f\u306e\u3068\u540c\u3058\u3088\u3046\u306b\u3001<code>target/debug/web_app</code>\u30d0\u30a4\u30ca\u30ea\u306b\u76f4\u63a5\u79fb\u52d5\u3057\u3066\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002target\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u308a\u3001\u5b9f\u884c\u3057\u305f\u308a\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u305f\u308a\u3059\u308b\u305f\u3081\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u307e\u3059\u3002GitHub\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u30b3\u30fc\u30c9\u3092\u6dfb\u4ed8\u3059\u308b\u5834\u5408\u306f\u3001<code>.gitignore</code>\u30d5\u30a1\u30a4\u30eb\u306b\u30bf\u30fc\u30b2\u30c3\u30c8\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8a18\u8ff0\u3057\u3066\u3001GitHub\u306b\u7121\u8996\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4eca\u3001\u79c1\u305f\u3061\u306f\u6700\u9069\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u51e6\u7406\u901f\u5ea6\u306f\u9045\u3044\u3067\u3059\u304c\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u901f\u3044\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u958b\u767a\u4e2d\u306b\u4f55\u5ea6\u3082\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u305f\u3081\u3001\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u6700\u9069\u5316\u3055\u308c\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <pre><code>$ cargo run --release\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3057\u305f\u3002</p> <pre><code>\u00a0\u00a0\u00a0\u00a0Finished release [optimized] target(s) in 2.63s\n\u00a0\u00a0\u00a0\u00a0 Running `target/release/web_app`\nhello world\n</code></pre> <p>\u5148\u306e\u51fa\u529b\u3067\u306f\u3001\u6700\u9069\u5316\u3055\u308c\u305f\u30d0\u30a4\u30ca\u30ea\u304c<code>target/release/web_app</code>\u306e\u30d1\u30b9\u306b\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u3067\u57fa\u672c\u7684\u306a\u30d3\u30eb\u30c9\u306f\u5b8c\u4e86\u3057\u305f\u306e\u3067\u3001\u6b21\u306fCargo\u3092\u4f7f\u3063\u3066\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u30af\u30ec\u30fc\u30c8\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/ManagingASoftwareProjectWithCargo/#cargo_2","title":"Cargo\u3067\u30af\u30ec\u30fc\u30c8\u3092\u51fa\u8377\u3059\u308b","text":"<p>\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u30af\u30ec\u30fc\u30c8\u3068\u547c\u3070\u308c\u307e\u3059\u3002Cargo\u3067\u3053\u308c\u3089\u3092\u8ffd\u52a0\u3057\u3001\u7ba1\u7406\u3059\u308b\u306e\u306f\u7c21\u5358\u3067\u3059\u3002\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001https://rust-random.github.io/rand/rand/index.html \u306b\u3042\u308b rand crate \u3092\u5229\u7528\u3057\u3066\u3001\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u63a2\u308a\u307e\u3059\u3002\u3053\u306e\u30af\u30ec\u30fc\u30c8\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u3001\u69cb\u9020\u4f53\u3001trait\u3001\u304a\u3088\u3073\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u306e\u30ea\u30f3\u30af\u304c\u660e\u78ba\u3067\u3088\u304f\u69cb\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u7559\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001rand\u30af\u30ec\u30fc\u30c8\u305d\u306e\u3082\u306e\u3092\u53cd\u6620\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u53d6\u308a\u4e0a\u3052\u308bRust\u306e\u6a19\u6e96\u7684\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u3059\u3002\u3053\u306e\u30af\u30ec\u30fc\u30c8\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u3001<code>Cargo.toml</code>\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b[dependencies]\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u4e0b\u306brand crate\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002</p> Cargo.toml<pre><code>[dependencies]\nrand = \"0.7.3\"\n</code></pre> <p>\u4f9d\u5b58\u95a2\u4fc2\u306e\u5b9a\u7fa9\u304c\u3067\u304d\u305f\u306e\u3067\u3001rand crate\u3092\u4f7f\u3063\u3066\u4e71\u6570\u751f\u6210\u5668\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <pre><code>use rand::prelude::*;\nfn generate_float(generator: &amp;mut ThreadRng) -&gt; f64 {\nlet placeholder: f64 = generator.gen();\nreturn placeholder * 10.0\n}\nfn main() {\nlet mut rng: ThreadRng = rand::thread_rng();\nlet random_number = generate_float(&amp;mut rng);\nprintln!(\"{}\", random_number);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001generate_float\u3068\u3044\u3046\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3001\u30af\u30ec\u30fc\u30c8\u3092\u4f7f\u3063\u30660\u304b\u308910\u307e\u3067\u306efloat\u3092\u751f\u6210\u3057\u3066\u8fd4\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u306f\u30010\u304b\u308910\u307e\u3067\u306e\u6d6e\u52d5\u5c0f\u6570\u70b9\u3092\u751f\u6210\u3057\u3066\u8fd4\u3059\u3082\u306e\u3067\u3001\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u305d\u306e\u6570\u5024\u3092\u8868\u793a\u3057\u307e\u3059\u3002rand\u30af\u30ec\u30fc\u30c8\u306e\u5b9f\u88c5\u306f\u3001rand\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u6271\u308f\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306euse\u6587\u306frand crate\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002rand\u30af\u30ec\u30fc\u30c8\u3092\u4f7f\u3063\u3066float\u3092\u751f\u6210\u3059\u308b\u5834\u5408\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306frand::prelude\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u30a4\u30f3\u30dd\u30fc\u30c8(*)\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3055\u308c\u3066\u304a\u308a\u3001crate\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8(https://rust-random.github.io/rand/rand/prelude/index.html)\u306b\u3042\u308b\u3088\u3046\u306b\u3001\u5171\u901a\u9805\u76ee\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u304c\u7c21\u7565\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>ThreadRng struct\u306f\u30010\u304b\u30891\u306e\u9593\u306ef64\u5024\u3092\u751f\u6210\u3059\u308b\u4e71\u6570\u751f\u6210\u5668\u3067\u3059\u3002rand crate documentation https://rust-random.github.io/rand/rand/rngs/struct.ThreadRng.html \u3067\u8a73\u3057\u304f\u89e3\u8aac\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u3055\u3066\u3001\u6b21\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u5a01\u529b\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002rand\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u7d39\u4ecb\u30da\u30fc\u30b8\u3092\u6570\u56de\u30af\u30ea\u30c3\u30af\u3059\u308b\u3060\u3051\u3067\u3001\u30c7\u30e2\u3067\u4f7f\u7528\u3057\u305f\u69cb\u9020\u4f53\u3084\u95a2\u6570\u306e\u5ba3\u8a00\u3092\u6398\u308a\u4e0b\u3052\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u30b3\u30fc\u30c9\u304c\u30d3\u30eb\u30c9\u3055\u308c\u305f\u306e\u3067\u3001cargo run \u30b3\u30de\u30f3\u30c9\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Cargo\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3044\u308b\u9593\u3001rand\u30af\u30ec\u30fc\u30c8\u304b\u3089\u30b3\u30fc\u30c9\u3092\u53d6\u308a\u51fa\u3057\u3001\u305d\u308c\u3092\u30d0\u30a4\u30ca\u30ea\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001cargo.lock \u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002cargo.toml\u306f\u4f9d\u5b58\u95a2\u4fc2\u3092\u8a18\u8ff0\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u304c\u3001cargo.lock\u306fCargo\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u6b63\u78ba\u306a\u60c5\u5831\u3092\u542b\u3093\u3067\u3044\u308b\u306e\u3067\u3001\u81ea\u5206\u3067\u7de8\u96c6\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u3088\u3046\u306a\u30b7\u30fc\u30e0\u30ec\u30b9\u306a\u6a5f\u80fd\u3068\u4f7f\u3044\u3084\u3059\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u7d44\u307f\u5408\u308f\u305b\u306f\u3001Rust\u304c\u8a00\u8a9e\u306e\u54c1\u8cea\u3060\u3051\u3067\u306a\u304f\u3001\u958b\u767a\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u3092\u4ecb\u3057\u3066\u9650\u754c\u307e\u3067\u958b\u767a\u30d7\u30ed\u30bb\u30b9\u3092\u5411\u4e0a\u3055\u305b\u308b\u3053\u3068\u3092\u793a\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u3088\u3046\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u308b\u5229\u76ca\u306f\u3001\u7d14\u7c8b\u306b\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u304f\u3001\u79c1\u305f\u3061\u81ea\u8eab\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u81ea\u52d5\u751f\u6210\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/ManagingASoftwareProjectWithCargo/#cargo_3","title":"Cargo\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b","text":"<p>Rust\u306e\u3088\u3046\u306a\u65b0\u3057\u3044\u8a00\u8a9e\u3092\u9078\u3093\u3067\u958b\u767a\u3059\u308b\u30e1\u30ea\u30c3\u30c8\u306f\u3001\u30b9\u30d4\u30fc\u30c9\u3068\u5b89\u5168\u6027\u3060\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u306e\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306f\u3001\u9577\u5e74\u306b\u308f\u305f\u3063\u3066\u5b66\u3073\u3001\u6210\u9577\u3057\u7d9a\u3051\u3066\u3044\u307e\u3059\u3002\u512a\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u3088\u3046\u306a\u5358\u7d14\u306a\u3053\u3068\u304c\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u6210\u5426\u3092\u5de6\u53f3\u3059\u308b\u3053\u3068\u3082\u3042\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u3092\u5b9f\u8a3c\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067Rust\u30d5\u30a1\u30a4\u30eb\u5185\u306bMarkdown\u8a00\u8a9e\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>/// This function generates a float number using a number\n/// generator passed into the function.\n///\n/// # Arguments\n/// * generator (&amp;mut ThreadRng): the random number\n/// generator to generate the random number\n///\n/// # Returns\n/// (f64): random number between 0 -&gt; 10\nfn generate_float(generator: &amp;mut ThreadRng) -&gt; f64 {\nlet placeholder: f64 = generator.gen();\nreturn placeholder * 10.0\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001Markdown\u3092///\u30de\u30fc\u30ab\u30fc\u3067\u8868\u8a18\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30b3\u30fc\u30c9\u3092\u898b\u305f\u4ed6\u306e\u958b\u767a\u8005\u306b\u3053\u306e\u95a2\u6570\u304c\u4f55\u3092\u3059\u308b\u3082\u306e\u304b\u3092\u4f1d\u3048\u308b\u3053\u3068\u3068\u3001\u81ea\u52d5\u751f\u6210\u3067Markdown\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u3053\u3068\u306e2\u3064\u3092\u76ee\u7684\u3068\u3057\u3066\u3044\u307e\u3059\u3002document\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001\u57fa\u672c\u7684\u306a\u30e6\u30fc\u30b6\u30fc\u69cb\u9020\u4f53\u3068\u57fa\u672c\u7684\u306a\u30e6\u30fc\u30b6\u30fc\u7279\u6027\u3092\u5b9a\u7fa9\u3057\u3066\u6587\u66f8\u5316\u3057\u3001\u3053\u308c\u3089\u304c\u3069\u306e\u3088\u3046\u306b\u6587\u66f8\u5316\u3055\u308c\u308b\u304b\u3092\u793a\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <pre><code>/// This trait defines the struct to be a user.\ntrait IsUser {\n/// This function proclaims that the struct is a user.\n///\n/// # Arguments\n/// None\n///\n/// # Returns\n/// (bool) true if user, false if not\nfn is_user() -&gt; bool {\nreturn true\n}\n}\n/// This struct defines a user\n///\n/// # Attributes\n/// * name (String): the name of the user\n/// * age (i8): the age of the user\nstruct User {\nname: String,\nage: i8\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001\u3055\u307e\u3056\u307e\u306a\u69cb\u9020\u3092\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5316\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u81ea\u52d5\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5316\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>cargo doc --open\n</code></pre> <p>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304crand crate\u3068\u540c\u3058\u3088\u3046\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <p>\u56f32.1 - \u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30d3\u30e5\u30fc</p> <p>\u5148\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3067\u306f\u3001web_app\u304c\u30af\u30ec\u30fc\u30c8\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001rand\u30af\u30ec\u30fc\u30c8\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u95a2\u4e0e\u3057\u3066\u3044\u308b\u3053\u3068\u3082\u308f\u304b\u308a\u307e\u3059\uff08\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u306e\u5de6\u4e0b\u3092\u898b\u308b\u3068\u3001web_app\u30af\u30ec\u30fc\u30c8\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u3059\u3050\u4e0a\u306brand\u30af\u30ec\u30fc\u30c8\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\uff09\u3002User\u69cb\u9020\u4f53\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u6b21\u306e\u56f3\u306e\u3088\u3046\u306b\u3001\u69cb\u9020\u4f53\u306e\u5ba3\u8a00\u3001\u5c5e\u6027\u306e\u305f\u3081\u306b\u66f8\u3044\u305fMarkdown\u3001\u304a\u3088\u3073trait\u306e\u610f\u5473\u5408\u3044\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p>\u56f32.2 - struct\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8</p> <p>\u306a\u304a\u3001\u672c\u66f8\u306e\u4eca\u5f8c\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u53ef\u8aad\u6027\u3092\u7dad\u6301\u3059\u308b\u305f\u3081\u306b\u3001\u30b3\u30fc\u30c9\u30b9\u30cb\u30da\u30c3\u30c8\u306bMarkdown\u3092\u542b\u3081\u306a\u3044\u4e88\u5b9a\u3067\u3059\u3002\u305f\u3060\u3057\u3001Markdown\u3067\u6587\u66f8\u5316\u3055\u308c\u305f\u30b3\u30fc\u30c9\u306f\u3001\u672c\u66f8\u306eGitHub\u30ec\u30dd\u3067\u63d0\u4f9b\u3055\u308c\u307e\u3059\u3002\u3055\u3066\u3001\u5341\u5206\u306b\u6587\u66f8\u5316\u3055\u308c\u3001\u5b9f\u884c\u53ef\u80fd\u306aCargo\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u5fdc\u3058\u3066\u7570\u306a\u308b\u8a2d\u5b9a\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/ManagingASoftwareProjectWithCargo/#cargo_4","title":"Cargo\u3068\u306e\u9023\u643a","text":"<p>\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5165\u529b\u3092\u901a\u3058\u3066Rust\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u5bfe\u8a71\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u5fdc\u3058\u305f\u67d4\u8edf\u6027\u3092\u6301\u3064\u3088\u3046\u306b\u3059\u308b\u306b\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8ffd\u8de1\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001std\uff08\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\uff09\u8b58\u5225\u5b50\u3092\u4f7f\u7528\u3057\u3066\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use std::env;\nfn main() {\nlet args: Vec&lt;String&gt; = env::args().collect();\nprintln!(\"{:?}\", args);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3055\u308c\u305f\u5f15\u6570\u3092\u30d9\u30af\u30c8\u30eb\u306b\u96c6\u3081\u3001\u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u3067\u5f15\u6570\u3092\u51fa\u529b\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <pre><code>cargo run one two three\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>[\"target/debug/interacting_with_cargo\", \"one\", \"two\", \"three\"]\n</code></pre> <p>\u3053\u3053\u3067\u3001args\u30d9\u30af\u30c8\u30eb\u306b\u306f\u3001\u79c1\u305f\u3061\u304c\u6e21\u3057\u305f\u5f15\u6570\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u4ed6\u306e\u591a\u304f\u306e\u8a00\u8a9e\u3067\u3082\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3055\u308c\u308b\u5f15\u6570\u3092\u53d7\u3051\u5165\u308c\u308b\u306e\u3067\u3001\u3053\u308c\u306f\u9a5a\u304f\u3079\u304d\u3053\u3068\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305f\u3001\u30d0\u30a4\u30ca\u30ea\u3078\u306e\u30d1\u30b9\u3082\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3053\u3053\u3067\u306f\u3001interacting_with_cargo\u3068\u3044\u3046\u5225\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3063\u3066\u3044\u308b\u305f\u3081\u3001target/debug/interacting_with_cargo\u3068\u3044\u3046\u30d1\u30b9\u304c\u3042\u308b\u3053\u3068\u3082\u5f37\u8abf\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u304b\u3089\u3001\u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3067\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30ea\u30ea\u30fc\u30b9\u7248\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <pre><code>cargo run --release one two three\n</code></pre> <p>\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>[\"target/release/interacting_with_cargo\", \"one\", \"two\", \"three\"]\n</code></pre> <p>\u5148\u306e\u51fa\u529b\u304b\u3089\u3001--release\u306f\u6211\u3005\u306e\u30d9\u30af\u30c8\u30eb\u306b\u306f\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308b\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u3053\u3068\u306f\u3001\u79c1\u305f\u3061\u304c\u904a\u3076\u305f\u3081\u306e\u4f59\u5206\u306a\u6a5f\u80fd\u3092\u4e0e\u3048\u3066\u304f\u308c\u308b\u3002\u4f8b\u3048\u3070\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u306e\u7a2e\u985e\u306b\u3088\u3063\u3066\u7570\u306a\u308b\u30d7\u30ed\u30bb\u30b9\u3092\u5b9f\u884c\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308b\u3002\u3053\u308c\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u7c21\u5358\u306b\u5b9f\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002</p> <pre><code>let args: Vec&lt;String&gt; = env::args().collect();\nlet path: &amp;str = &amp;args[0];\nif path.contains(\"/debug/\") {\nprintln!(\"Debug is running\");\n}\nelse if path.contains(\"/release/\") {\nprintln!(\"release is running\");\n}\nelse {\npanic!(\"The setting is neither debug or release\");\n}\n</code></pre> <p>\u3057\u304b\u3057\u3001\u5148\u306e\u30b7\u30f3\u30d7\u30eb\u306a\u89e3\u6c7a\u7b56\u306f\u3001\u30d1\u30c3\u30c1\u30ef\u30fc\u30af\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3059\u3002\u62bd\u51fa\u3059\u308b\u30d1\u30b9\u306f\u3001Cargo\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u5834\u5408\u306e\u307f\u4e00\u8cab\u6027\u304c\u3042\u308a\u307e\u3059\u3002Cargo\u30b3\u30de\u30f3\u30c9\u306f\u30d3\u30eb\u30c9\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4f5c\u6210\u306b\u306f\u6700\u9069\u3067\u3059\u304c\u3001\u672c\u756a\u3067\u305d\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u3059\u3079\u3066\u6301\u3061\u904b\u3076\u306e\u306f\u610f\u5473\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u5b9f\u969b\u3001\u9759\u7684\u306a\u30d0\u30a4\u30ca\u30ea\u3092\u62bd\u51fa\u3057\u3066\u3001\u305d\u308c\u3092\u5b8c\u5168\u306b\u5358\u4f53\u3067Docker\u30b3\u30f3\u30c6\u30ca\u306b\u5305\u307f\u3001\u30d0\u30a4\u30ca\u30ea\u3092\u76f4\u63a5\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001Docker\u30a4\u30e1\u30fc\u30b8\u306e\u30b5\u30a4\u30ba\u30921.5GB\u304b\u3089200MB\u306b\u524a\u6e1b\u3067\u304d\u308b\u3068\u3044\u3046\u5229\u70b9\u304c\u3042\u308a\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u3053\u308c\u306f\u4e00\u898b\u624b\u3063\u53d6\u308a\u65e9\u3044\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u304c\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u969b\u306b\u30b3\u30fc\u30c9\u3092\u58ca\u3057\u3066\u3057\u307e\u3046\u3053\u3068\u306b\u3064\u306a\u304c\u308b\u306e\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u3053\u308c\u304c\u672c\u756a\u306b\u5230\u9054\u3057\u3066\u3042\u306a\u305f\u304c\u77e5\u3089\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u304c\u306a\u3044\u3088\u3046\u306b\u3001\u6700\u5f8c\u306b\u30d1\u30cb\u30c3\u30af\u30de\u30af\u30ed\u3092\u5165\u308c\u308b\u3053\u3068\u304c\u4e0d\u53ef\u6b20\u3067\u3059\u3002</p> <p>\u3053\u308c\u307e\u3067\u306f\u3001\u57fa\u672c\u7684\u306a\u30b3\u30de\u30f3\u30c9\u3092\u6e21\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u3067\u306f\u5f79\u306b\u7acb\u3061\u307e\u305b\u3093\u3057\u3001\u62e1\u5f35\u6027\u3082\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305f\u3001\u30e6\u30fc\u30b6\u30fc\u5411\u3051\u306e\u30d8\u30eb\u30d7\u30ac\u30a4\u30c9\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306b\u3001\u591a\u304f\u306e\u5b9a\u578b\u7684\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u62e1\u5f35\u3059\u308b\u305f\u3081\u306b\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3055\u308c\u308b\u5f15\u6570\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306bclap crate\u306b\u4f9d\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>[dependencies]\nclap = \"3.0.14\"\n</code></pre> <p>\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u306e\u7406\u89e3\u3092\u6df1\u3081\u308b\u305f\u3081\u306b\u3001\u3044\u304f\u3064\u304b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u53d6\u308a\u8fbc\u307f\u3001\u305d\u308c\u3092\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3060\u3051\u306e\u304a\u3082\u3061\u3083\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067clap crate\u304b\u3089\u5fc5\u8981\u306a\u3082\u306e\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use clap::{Arg, App};\n</code></pre> <p>\u3055\u3066\u3001\u6b21\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9a\u7fa9\u306b\u79fb\u308a\u307e\u3059\u3002</p> <ol> <li>\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30e1\u30a4\u30f3\u95a2\u6570\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u95a2\u3059\u308b\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u53ce\u5bb9\u3057\u307e\u3059\u3002</li> </ol> <pre><code>fn main() {\nlet app = App::new(\"booking\")\n.version(\"1.0\")\n.about(\"Books in a user\")\n.author(\"Maxwell Flitton\");\n...\n</code></pre> <p>clap\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u898b\u308b\u3068\u3001App struct\u306b\u76f4\u63a5\u5f15\u6570\u3092\u30d0\u30a4\u30f3\u30c9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u919c\u304f\u3001\u304d\u3064\u3044\u30d0\u30a4\u30f3\u30c9\u306b\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u4ee3\u308f\u308a\u306b\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u5225\u3005\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p> <ol> <li>\u4eca\u56de\u306e\u304a\u3082\u3061\u3083\u30a2\u30d7\u30ea\u3067\u306f\u3001\u59d3\u3001\u540d\u3001\u5e74\u9f62\u3092\u53d6\u308a\u8fbc\u3093\u3067\u304a\u308a\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002</li> </ol> <pre><code>    let first_name = Arg::new(\"first name\")\n.long(\"f\")\n.takes_value(true)\n.help(\"first name of user\")\n.required(true);\nlet last_name = Arg::new(\"last name\")\n.long(\"l\")\n.takes_value(true)\n.help(\"first name of user\")\n.required(true);\nlet age = Arg::new(\"age\")\n.long(\"a\")\n.takes_value(true)\n.help(\"age of the user\")\n.required(true);\n</code></pre> <p>\u5f15\u6570\u3092\u7a4d\u307f\u91cd\u306d\u7d9a\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u4eca\u306f\u307e\u3060\u3001\u4f55\u306b\u3082\u675f\u7e1b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u3055\u3066\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u5f15\u6570\u3092\u6e21\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <ol> <li>\u5165\u529b\u306e\u30d0\u30a4\u30f3\u30c9\u3001\u53d6\u5f97\u3001\u89e3\u6790\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>    let app = app.arg(first_name).arg(last_name).arg(age);\nlet matches = app.get_matches();\nlet name = matches.value_of(\"first name\")\n.expect(\"First name is required\");\nlet surname = matches.value_of(\"last name\")\n.expect(\"Surname is required\");\nlet age: i8 = matches.value_of(\"age\")\n.expect(\"Age is required\").parse().unwrap();\nprintln!(\"{:?}\", name);\nprintln!(\"{:?}\", surname);\nprintln!(\"{:?}\", age);\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u306e\u6e21\u3057\u65b9\u306e\u5b9f\u7528\u4f8b\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8868\u793a\u65b9\u6cd5\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>cargo run -- --help\u00a0\u00a0</code></pre> <p>\u771f\u3093\u4e2d\u306e--before --help\u306f\u3001Cargo\u306b\u5bfe\u3057\u3066\u3001--\u306e\u5f8c\u306e\u5f15\u6570\u3092\u3059\u3079\u3066clap\u306b\u6e21\u3059\u3088\u3046\u306b\u6307\u793a\u3057\u307e\u3059\u3002\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>booking 1.0\nMaxwell Flitton\nBooks in a user\nUSAGE:\n\u00a0\u00a0\u00a0\u00a0interacting_with_cargo --f &lt;first name&gt; --l &lt;last name&gt; \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 --a &lt;age&gt;\nOPTIONS:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0--a &lt;age&gt;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 age of the user\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0--f &lt;first name&gt;\u00a0\u00a0\u00a0\u00a0first name of user\n\u00a0\u00a0\u00a0\u00a0-h, --help\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Print help information\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0--l &lt;last name&gt;\u00a0\u00a0\u00a0\u00a0 first name of user\n\u00a0\u00a0\u00a0\u00a0-V, --version\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 Print version information\n</code></pre> <p>\u5148\u306e\u51fa\u529b\u3067\u306f\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u76f4\u63a5\u64cd\u4f5c\u3059\u308b\u65b9\u6cd5\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u7d20\u6575\u306a\u30d8\u30eb\u30d7\u30e1\u30cb\u30e5\u30fc\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002Cargo\u3068\u5bfe\u8a71\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>cargo run -- --f first --l second --a 32\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u3055\u308c\u307e\u3059\u3002</p> <pre><code>\"first\"\n\"second\"\n32\n</code></pre> <p>2\u3064\u306e\u6587\u5b57\u5217\u30681\u3064\u306e\u6574\u6570\u304c\u3042\u308b\u306e\u3067\u3001\u30d1\u30fc\u30b8\u30f3\u30b0\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002clap\u306e\u3088\u3046\u306a\u30af\u30ec\u30fc\u30c8\u304c\u6709\u7528\u306a\u7406\u7531\u306f\u3001\u57fa\u672c\u7684\u306b\u81ea\u5df1\u6587\u66f8\u5316\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3067\u3059\u3002\u958b\u767a\u8005\u306f\u30b3\u30fc\u30c9\u3092\u898b\u3066\u3001\u3069\u306e\u3088\u3046\u306a\u5f15\u6570\u304c\u53d7\u3051\u53d6\u3089\u308c\u3066\u3044\u308b\u306e\u304b\u3092\u77e5\u308a\u3001\u305d\u306e\u5468\u308a\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u306f\u3001help\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059\u3060\u3051\u3067\u3001\u5165\u529b\u306b\u95a2\u3059\u308b\u30d8\u30eb\u30d7\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306f\u3001\u5b9f\u884c\u3059\u308b\u30b3\u30fc\u30c9\u306b\u57cb\u3081\u8fbc\u307e\u308c\u308b\u305f\u3081\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u53e4\u304f\u306a\u308b\u30ea\u30b9\u30af\u3092\u6e1b\u3089\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u3092\u53d7\u3051\u53d6\u308b\u5834\u5408\u306f\u3001clap\u306e\u3088\u3046\u306a\u30af\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u3055\u3066\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30fb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u69cb\u9020\u5316\u3057\u3066\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u307e\u3057\u305f\u304c\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u308f\u305f\u308b\u30b3\u30fc\u30c9\u3092\u69cb\u9020\u5316\u3057\u3066\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u307e\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/StructuringCode/","title":"2.3 - \u30b3\u30fc\u30c9\u306e\u69cb\u9020\u5316","text":""},{"location":"2_DesigningYourWebApplicationInRust/StructuringCode/#_1","title":"\u30b3\u30fc\u30c9\u306e\u69cb\u9020\u5316","text":"<p>\u3053\u308c\u3067\u3001Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u65c5\u306b\u51fa\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u7ae0\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3067\u306f\u3001Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u89e6\u308c\u305f\u308a\u3001HTTP\u30ea\u30b9\u30ca\u30fc\u3092\u69cb\u7bc9\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u6b21\u7ae0\u3067\u884c\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001JSON\u30d5\u30a1\u30a4\u30eb\u3068\u5bfe\u8a71\u3059\u308bToDo\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3001\u6700\u5c0f\u9650\u306e\u52b4\u529b\u3067\u69cb\u7bc9\u3057\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u633f\u5165\u3067\u304d\u308b\u3088\u3046\u306a\u69cb\u9020\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306eToDo\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u306f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u3001\u66f4\u65b0\u3001\u524a\u9664\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3092\u4f7f\u3063\u3066\u3053\u308c\u3092\u64cd\u4f5c\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306e\u30d7\u30ed\u30bb\u30b9\u306f\u3001\u62e1\u5f35\u6027\u3068\u67d4\u8edf\u6027\u3092\u5099\u3048\u305f\u3001\u69cb\u9020\u5316\u3055\u308c\u305f\u30b3\u30fc\u30c9\u3092\u69cb\u7bc9\u3059\u308b\u65b9\u6cd5\u3092\u63a2\u308b\u3053\u3068\u3067\u3059\u3002\u3053\u306e\u3053\u3068\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3001\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u69cb\u7bc9\u3092\u6b21\u306e\u3088\u3046\u306a\u30c1\u30e3\u30f3\u30af\u306b\u5206\u89e3\u3057\u3066\u3044\u304d\u307e\u3059\u3002</p> <ol> <li>\u4fdd\u7559\u4e2d\u306eToDo\u9805\u76ee\u3068\u5b8c\u4e86\u3057\u305fToDo\u9805\u76ee\u306b\u5bfe\u3059\u308b\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002</li> <li>\u69cb\u9020\u4f53\u3092\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u3067\u6700\u5c0f\u9650\u306e\u30af\u30ea\u30fc\u30f3\u306a\u5165\u529b\u3067\u69cb\u7bc9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u3002</li> <li>\u69cb\u9020\u4f53\u304cToDo\u9805\u76ee\u3092\u524a\u9664\u3001\u4f5c\u6210\u3001\u7de8\u96c6\u3001\u53d6\u5f97\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306etrait\u3092\u69cb\u7bc9\u3059\u308b\u3002</li> <li>ToDo\u30a2\u30a4\u30c6\u30e0\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306e\u8aad\u307f\u66f8\u304d\u53ef\u80fd\u306a\u30d5\u30a1\u30a4\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u69cb\u7bc9\u3059\u308b\uff08\u5f8c\u306e\u7ae0\u3067\u9069\u5207\u306a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u7f6e\u304d\u63db\u3048\u308b\u4e88\u5b9a\u3067\u3059\uff09\u3002</li> <li>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u5909\u6570\u306b\u57fa\u3065\u3044\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u52d5\u4f5c\u3092\u5909\u66f4\u3067\u304d\u308bconfig\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u69cb\u7bc9\u3059\u308b\u3002</li> </ol> <p>\u3053\u308c\u3089\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u53d6\u308a\u639b\u304b\u308b\u524d\u306b\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u683c\u7d0d\u3057\u305f\u3044\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u3001todo_app\u3068\u3044\u3046\u65b0\u3057\u3044Cargo\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\u3053\u306e\u5f8c\u3001to_do\u30e2\u30b8\u30e5\u30fc\u30eb\u306bToDo\u30a2\u30a4\u30c6\u30e0\u306e\u7ba1\u7406\u3092\u884c\u3046\u30ed\u30b8\u30c3\u30af\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u4ee5\u4e0b\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u306e\u3088\u3046\u306b\u3001to_do\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d9\u30fc\u30b9\u306bmod.rs\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</p> <pre><code>\u251c\u2500\u2500 main.rs\n\u2514\u2500\u2500 to_do\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 mod.rs\n</code></pre> <p>\u3053\u306e\u69cb\u9020\u4f53\u3092\u4f7f\u3063\u3066\u3001to_do\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u69cb\u9020\u4f53\u304b\u3089\u69cb\u7bc9\u3057\u3066\u3044\u304d\u307e\u3059\u3002To_do\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3044\u3066\u306f\u3001\u6700\u521d\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u3001\u5b8c\u4e86\u3057\u305fTo_do\u9805\u76ee\u3068\u4fdd\u7559\u4e2d\u306eTo_do\u9805\u76ee\u306e\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u4eca\u306f\u6c17\u306b\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/StructuringCode/#todo","title":"ToDo\u69cb\u9020\u4f53\u306e\u69cb\u7bc9","text":"<p>\u73fe\u5728\u3001ToDo\u306e\u69cb\u9020\u4f53\u3068\u3057\u3066\u306f\u3001\u5b9f\u884c\u5f85\u3061\u306e\u3082\u306e\u3068\u5b9f\u884c\u6e08\u307f\u306e\u3082\u306e\u306e2\u3064\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u4ed6\u306e\u30ab\u30c6\u30b4\u30ea\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u30d0\u30c3\u30af\u30ed\u30b0\u30ab\u30c6\u30b4\u30ea\u3092\u8ffd\u52a0\u3057\u305f\u308a\u3001\u958b\u59cb\u3055\u308c\u305f\u3082\u306e\u306e\u4f55\u3089\u304b\u306e\u7406\u7531\u3067\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u308b\u30bf\u30b9\u30af\u306e\u305f\u3081\u306e\u4fdd\u7559\u30bf\u30b9\u30af\u3092\u8ffd\u52a0\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u9593\u9055\u3044\u3084\u30b3\u30fc\u30c9\u306e\u7e70\u308a\u8fd4\u3057\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001Base\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u69cb\u9020\u4f53\u3092\u4ed6\u306e\u69cb\u9020\u4f53\u3067\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Base\u69cb\u9020\u4f53\u306b\u306f\u3001\u5171\u901a\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u95a2\u6570\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u307e\u3059\u3002Base\u69cb\u9020\u4f53\u3092\u5909\u66f4\u3059\u308b\u3068\u3001\u4ed6\u306e\u3059\u3079\u3066\u306eToDo\u69cb\u9020\u4f53\u306b\u3082\u4f1d\u642c\u3057\u307e\u3059\u3002\u307e\u305f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u7a2e\u985e\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002pending\u3068done\u306b\u6587\u5b57\u5217\u3092\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u62e1\u5f35\u6027\u304c\u306a\u304f\u3001\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3084\u3059\u3044\u3068\u3044\u3046\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001enum\u3092\u4f7f\u3063\u3066ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u7a2e\u985e\u3092\u5206\u985e\u3057\u3001\u30d7\u30ec\u30bc\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u3001\u6b21\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u69cb\u9020\u3092\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>\u251c\u2500\u2500 main.rs\n\u2514\u2500\u2500 to_do\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 enums.rs\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 mod.rs\n\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 structs\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 base.rs\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 done.rs\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 mod.rs\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 pending.rs\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u30012\u3064\u306emod.rs\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u3053\u3068\u306b\u6c17\u3065\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u57fa\u672c\u7684\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5ba3\u8a00\u3059\u308b\u5834\u6240\u3067\u3042\u308a\u3001\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e\u4ed6\u306e\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u3001\u305d\u306e\u4e2d\u3067\u5b9a\u7fa9\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u307e\u305f\u3001mod.rs\u30d5\u30a1\u30a4\u30eb\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u516c\u958b\u3059\u308c\u3070\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5916\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u524d\u306b\u3001\u56f32.3\u3067\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u306e\u30c7\u30fc\u30bf\u306e\u6d41\u308c\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002  </p> <p>\u56f32.3-ToDo\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u304a\u3051\u308b\u30c7\u30fc\u30bf\u306e\u6d41\u308c</p> <p>Base\u69cb\u9020\u4f53\u306f\u3001\u4ed6\u306eToDo\u69cb\u9020\u4f53\u304b\u3089\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002Base\u69cb\u9020\u4f53\u3092\u5ba3\u8a00\u3057\u306a\u3051\u308c\u3070\u3001\u4ed6\u306eToDo\u69cb\u9020\u4f53\u306fBase\u69cb\u9020\u4f53\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001to_do/structs\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5916\u306b\u306fBase\u69cb\u9020\u4f53\u3092\u53c2\u7167\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u306a\u3044\u306e\u3067\u3001public\u5ba3\u8a00\u3067\u3042\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u3055\u3066\u3001\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc\u3092\u7406\u89e3\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u56f32.3\u3092\u632f\u308a\u8fd4\u3063\u3066\u3001\u6700\u521d\u306b\u53d6\u308a\u7d44\u3080\u3079\u304d\u3053\u3068\u3092\u6574\u7406\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5217\u6319\u578b\u306b\u306f\u4f9d\u5b58\u95a2\u4fc2\u304c\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u5b9f\u969b\u3001\u3053\u306eenum\u306f\u3059\u3079\u3066\u306e\u69cb\u9020\u4f53\u3092\u4f9b\u7d66\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001/to_do/enums.rs\u30d5\u30a1\u30a4\u30eb\u306b\u3042\u308benum\u304b\u3089\u59cb\u3081\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u3053\u306eenum\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30bf\u30b9\u30af\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>pub enum TaskStatus {\nDONE,\nPENDING\n}\n</code></pre> <p>\u3053\u308c\u306f\u3001\u30bf\u30b9\u30af\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u3068\u3001\u30b3\u30fc\u30c9\u4e0a\u3067\u6a5f\u80fd\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u66f8\u304d\u8fbc\u3080\u5834\u5408\u306f\u3001\u5217\u6319\u578b\u3092\u6587\u5b57\u5217\u3067\u8868\u73fe\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067TaskStatus\u5217\u6319\u578b\u306estringify\u95a2\u6570\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002  </p> <pre><code>impl TaskStatus {\npub fn stringify(&amp;self) -&gt; String {\nmatch &amp;self {\n&amp;Self::DONE =&gt; {\"DONE\".to_string()},\n&amp;Self::PENDING =&gt; {\"PENDING\".to_string()}\n}\n}\n}\n</code></pre> <p>\u3053\u308c\u3092\u547c\u3073\u51fa\u3059\u3068\u3001ToDo\u30bf\u30b9\u30af\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u51fa\u529b\u3057\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b\u3002</p> <p>\u5099\u8003</p> <p>stringify\u95a2\u6570\u306f\u52d5\u4f5c\u3057\u307e\u3059\u304c\u3001enum\u306e\u5024\u3092\u6587\u5b57\u5217\u306b\u5909\u63db\u3059\u308b\u5225\u306e\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u3002\u6587\u5b57\u5217\u5909\u63db\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u306f\u3001TaskStatus\u306eDisplay trait\u3092\u5b9f\u88c5\u3059\u308c\u3070\u3088\u3044\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067format\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use std::fmt;\n</code></pre> <p>\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067TaskStatus struct\u306eDisplay trait\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>impl fmt::Display for TaskStatus {\nfn fmt(&amp;self, f: &amp;mut fmt::Formatter) -&gt; fmt::Result {\nmatch &amp;self {\n&amp;Self::DONE =&gt; {write!(f, \"DONE\")},\n&amp;Self::PENDING =&gt; {write!(f, \"PENDING\")}\n}\n}\n}\n</code></pre> <p>\u3053\u306etrait\u306e\u5b9f\u88c5\u306f\u3001\u79c1\u305f\u3061\u306estringify\u95a2\u6570\u3068\u540c\u3058\u30ed\u30b8\u30c3\u30af\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u306etrait\u306f\u5fc5\u8981\u306a\u3068\u304d\u306b\u5229\u7528\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>println!(\"{}\", TaskStatus::DONE);\nprintln!(\"{}\", TaskStatus::PENDING);\nlet outcome = TaskStatus::DONE.to_string();\nprintln!(\"{}\", outcome);\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5370\u5237\u3055\u308c\u307e\u3059\u3002</p> <pre><code>DONE\nPENDING\nDONE\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001TaskStatus\u3092println\uff01\u306b\u6e21\u3059\u3068\u3001\u81ea\u52d5\u7684\u306bDisplay trait\u304c\u5229\u7528\u3055\u308c\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <p>\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u3001/to_do/mod.rs\u30d5\u30a1\u30a4\u30eb\u5185\u3067enum\u3092\u516c\u958b\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002</p> <pre><code>pub mod enums;\n</code></pre> <p>\u3053\u3053\u3067\u3001\u56f32.3\u3092\u53c2\u7167\u3057\u3066\u3001\u6b21\u306b\u69cb\u7bc9\u3067\u304d\u308b\u3082\u306e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u305d\u308c\u306fBase\u69cb\u9020\u4f53\u3067\u3059\u3002Base\u69cb\u9020\u4f53\u306f\u3001/to_do/structs/base.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use super::super::enums::TaskStatus;\npub struct Base {\npub title: String,\npub status: TaskStatus\n}\n</code></pre> <p>\u30d5\u30a1\u30a4\u30eb\u5148\u982d\u306eimport\u304b\u3089\u3001super::super\u3092\u4f7f\u3063\u3066TaskStatus enum\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002TaskStatus\u5217\u6319\u578b\u306f\u4e0a\u4f4d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u3053\u3068\u304b\u3089\u3001super\u3092\u4f7f\u3048\u3070\u3001\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306emod.rs\u30d5\u30a1\u30a4\u30eb\u3067\u5ba3\u8a00\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3053\u3068\u304c\u63a8\u6e2c\u3067\u304d\u308b\u3002\u3064\u307e\u308a\u3001/to_do/structs/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3067super::super\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001/to_do/mod.rs\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u3053\u308c\u3067\u3001/to_do/structs/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u304a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067Base struct\u3092\u5ba3\u8a00\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002</p> <pre><code>mod base;\n</code></pre> <p>Base\u69cb\u9020\u4f53\u306f/to_do/structs/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5916\u3067\u306f\u30a2\u30af\u30bb\u30b9\u3055\u308c\u306a\u3044\u306e\u3067\u3001public\u3068\u3057\u3066\u5ba3\u8a00\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3055\u3066\u3001\u56f32.3\u3092\u632f\u308a\u8fd4\u308b\u3068\u3001Pending\u69cb\u9020\u4f53\u3068Done\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u3068\u304d\u3001/to_do/structs/pending.rs\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067Base\u69cb\u9020\u4f53\u3092\u5229\u7528\u3059\u308b\u30b3\u30f3\u30dd\u30b8\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>use super::base::Base;\nuse super::super::enums::TaskStatus;\npub struct Pending {\npub super_struct: Base\n}\nimpl Pending {\npub fn new(input_title: &amp;str) -&gt; Self {\nlet base = Base {\ntitle: input_title.to_string(),\nstatus: TaskStatus::PENDING\n};\nreturn Pending{super_struct: base}\n}\n}\n</code></pre> <p>\u5148\u307b\u3069\u306e\u30b3\u30fc\u30c9\u3067\u3001super_struct\u30d5\u30a3\u30fc\u30eb\u30c9\u306bBase\u69cb\u9020\u4f53\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u3053\u3067\u306f\u3001enum\u3092\u5229\u7528\u3057\u3066\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3092pending\u3068\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u30bf\u30a4\u30c8\u30eb\u3092\u6e21\u3059\u3060\u3051\u3067\u3001\u30bf\u30a4\u30c8\u30eb\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u304cpending\u306e\u69cb\u9020\u4f53\u304c\u3067\u304d\u3042\u304c\u308a\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u8003\u3048\u308b\u3068\u3001Done\u69cb\u9020\u4f53\u306e\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306f\u3001/to_do/structs/done.rs\u30d5\u30a1\u30a4\u30eb\u306e\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u7c21\u5358\u306b\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>use super::base::Base;\nuse super::super::enums::TaskStatus;\npub struct Done {\npub super_struct: Base\n}\nimpl Done {\npub fn new(input_title: &amp;str) -&gt; Self {\nlet base = Base {\ntitle: input_title.to_string(),\nstatus: TaskStatus::DONE\n};\nreturn Done{super_struct: base}\n}\n}\n</code></pre> <p>TaskStatus\u5217\u6319\u578b\u306bDONE\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u3042\u308b\u3053\u3068\u3092\u9664\u3051\u3070\u3001Pending\u69cb\u9020\u4f53\u306e\u5b9a\u7fa9\u3068\u5927\u304d\u306a\u9055\u3044\u306f\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u3001/to_do/structs/mod.rs\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5916\u3067\u3082\u69cb\u9020\u4f53\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002</p> <pre><code>mod base;\npub mod done;\npub mod pending;\n</code></pre> <p>\u6b21\u306b\u3001/to_do/mod.rs\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u69cb\u9020\u4f53\u3092\u5ba3\u8a00\u3059\u308b\u3053\u3068\u3067\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u69cb\u9020\u4f53\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>pub mod structs;\npub mod enums;\n</code></pre> <p>\u3053\u308c\u3067\u3001\u57fa\u672c\u7684\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u3001main.rs \u30d5\u30a1\u30a4\u30eb\u306b\u516c\u958b\u3057\u307e\u3057\u305f\u3002\u3068\u308a\u3042\u3048\u305a\u3001\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u3001\u4fdd\u7559\u4e2d\u306e\u30bf\u30b9\u30af\u3068\u5b8c\u4e86\u3057\u305f\u30bf\u30b9\u30af\u3092\u4f5c\u6210\u3059\u308b\u57fa\u672c\u7684\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</p> <pre><code>mod to_do;\nuse to_do::structs::done::Done;\nuse to_do::structs::pending::Pending;\nfn main() {\nlet done = Done::new(\"shopping\");\nprintln!(\"{}\", done.super_struct.title);\nprintln!(\"{}\", done.super_struct.status.stringify());\nlet pending = Pending::new(\"laundry\");\nprintln!(\"{}\", pending.super_struct.title);\nprintln!(\"{}\", pending.super_struct.status.stringify()\n);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001to_do\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5ba3\u8a00\u3057\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u69cb\u9020\u4f53\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001pending\u69cb\u9020\u4f53\u3068done\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\u3053\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>shopping\nDONE\nlaundry\nPENDING\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u304c\u904e\u5270\u306a\u30b3\u30fc\u30c9\u3067\u8ca0\u8377\u304c\u304b\u304b\u308b\u306e\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3082\u3057\u3001\u4fdd\u7559\u30a2\u30a4\u30c6\u30e0\u3084\u30d0\u30c3\u30af\u30ed\u30b0\u30a2\u30a4\u30c6\u30e0\u306a\u3069\u3001\u4f5c\u6210\u3067\u304d\u308b\u30a2\u30a4\u30c6\u30e0\u306e\u7a2e\u985e\u3092\u5897\u3084\u305d\u3046\u3068\u3059\u308b\u3068\u3001main.rs\u306e\u30b3\u30fc\u30c9\u306f\u81a8\u308c\u4e0a\u304c\u3063\u3066\u3057\u307e\u3046\u3067\u3057\u3087\u3046\u3002\u305d\u3053\u3067\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u8aac\u660e\u3059\u308b\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306e\u51fa\u756a\u3067\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/StructuringCode/#_2","title":"\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3067\u69cb\u9020\u4f53\u3092\u7ba1\u7406\u3059\u308b","text":"<p>\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u30d1\u30bf\u30fc\u30f3\u306f\u3001\u69cb\u9020\u4f53\u306e\u69cb\u7bc9\u3092\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306b\u62bd\u8c61\u5316\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u79c1\u305f\u3061\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f32.4 - ToDo\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306e\u6d41\u308c</p> <p>\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u304c\u884c\u3046\u3053\u3068\u306f\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u62bd\u8c61\u5316\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u79c1\u305f\u3061\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u69cb\u7bc9\u3092\u697d\u3057\u3093\u3067\u3044\u307e\u3059\u304c\u3001\u4ed6\u306e\u958b\u767a\u8005\u304c\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3044\u305f\u3044\u3068\u601d\u3063\u305f\u3068\u304d\u3001\u30b7\u30f3\u30d7\u30eb\u306a\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3068\u512a\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u3042\u308c\u3070\u3001\u958b\u767a\u8005\u306e\u6642\u9593\u3092\u5927\u5e45\u306b\u7bc0\u7d04\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u958b\u767a\u8005\u304c\u3059\u3079\u304d\u3053\u3068\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3057\u3066\u3001\u69cb\u7bc9\u3055\u308c\u305f\u69cb\u9020\u4f53\u3092enum\u306b\u5305\u3093\u3067\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u304b\u3089\u53d6\u308a\u51fa\u3059\u3053\u3068\u3060\u3051\u3067\u3059\u3002\u3082\u3057\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5185\u90e8\u3092\u5909\u66f4\u3057\u305f\u308a\u3001\u3088\u308a\u8907\u96d1\u306b\u306a\u3063\u305f\u3068\u3057\u3066\u3082\u3001\u3053\u308c\u306f\u554f\u984c\u306b\u306f\u306a\u3089\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u4ed6\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3053\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u3066\u3082\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u306e\u4e00\u8cab\u6027\u3092\u4fdd\u3066\u3070\u3001\u5909\u66f4\u306b\u3088\u3063\u3066\u4ed6\u306e\u30b3\u30fc\u30c9\u304c\u58ca\u308c\u308b\u3053\u3068\u306f\u306a\u3044\u3002\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u306b\u306f\u3001/to_do/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>pub mod structs;\npub mod enums;\nuse enums::TaskStatus;\nuse structs::done::Done;\nuse structs::pending::Pending;\npub enum ItemTypes {\nPending(Pending),\nDone(Done)\n}\npub fn to_do_factory(title: &amp;str, status: TaskStatus) -&gt; ItemTypes {\nmatch status {\nTaskStatus::DONE =&gt; {\nItemTypes::Done(Done::new(title))\n},\nTaskStatus::PENDING =&gt; {\nItemTypes::Pending(Pending::new(title))\n}\n}\n}\n</code></pre> <p>\u524d\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001ItemTypes\u3068\u3044\u3046enum\u3092\u5b9a\u7fa9\u3057\u3001\u69cb\u7bc9\u3055\u308c\u305f\u30bf\u30b9\u30af\u69cb\u9020\u4f53\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3057\u3066\u3044\u307e\u3059\u3002\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u95a2\u6570\u306f\u3001\u57fa\u672c\u7684\u306b\u5165\u529b\u3055\u308c\u305f\u30bf\u30a4\u30c8\u30eb\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306f\u5165\u529b\u3055\u308c\u305f\u30b9\u30c6\u30fc\u30bf\u30b9\u306b\u30de\u30c3\u30c1\u3057\u307e\u3059\u3002\u5165\u529b\u3055\u308c\u305f\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u3069\u306e\u3088\u3046\u306a\u3082\u306e\u304b\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\u305d\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u306b\u30de\u30c3\u30c1\u3057\u305f\u30bf\u30b9\u30af\u3092\u69cb\u7bc9\u3057\u3001ItemTypes enum\u3067\u56f2\u307f\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u3069\u3093\u3069\u3093\u8907\u96d1\u306b\u306a\u3063\u3066\u3044\u304d\u307e\u3059\u304c\u3001\u30e1\u30a4\u30f3\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u95a2\u4fc2\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092main.rs\u30d5\u30a1\u30a4\u30eb\u306b\u5b9f\u88c5\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>mod to_do;\nuse to_do::to_do_factory;\nuse to_do::enums::TaskStatus;\nuse to_do::ItemTypes;\nfn main() {\nlet to_do_item = to_do_factory(\"washing\", TaskStatus::DONE);\nmatch to_do_item {\nItemTypes::Done(item) =&gt; {\nprintln!(\"{}\", item.super_struct.status.stringify());\nprintln!(\"{}\", item.super_struct.title);\n},\nItemTypes::Pending(item) =&gt; {\nprintln!(\"{}\", item.super_struct.status.stringify());\nprintln!(\"{}\", item.super_struct.title);\n}\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001ToDo\u9805\u76ee\u306b\u5bfe\u3057\u3066\u4f5c\u6210\u3057\u305f\u3044\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306b\u6e21\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u30de\u30c3\u30c1\u30f3\u30b0\u3057\u3066\u9805\u76ee\u306e\u5c5e\u6027\u3092\u30d7\u30ea\u30f3\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002main.rs\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u3055\u3089\u306b\u591a\u304f\u306e\u30b3\u30fc\u30c9\u304c\u5c0e\u5165\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u8fd4\u3055\u308c\u305fenum\u306e\u30e9\u30c3\u30d7\u3092\u89e3\u9664\u3057\u3066\u5c5e\u6027\u3092\u51fa\u529b\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30e2\u3092\u884c\u3046\u305f\u3081\u3067\u3059\u3002\u901a\u5e38\u3001\u3053\u306e\u30e9\u30c3\u30d7\u3055\u308c\u305fenum\u3092\u4ed6\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u6e21\u3057\u3066\u51e6\u7406\u3055\u305b\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306a1\u884c\u306e\u30b3\u30fc\u30c9\u304c\u5fc5\u8981\u306a\u3060\u3051\u3067\u3059\u3002</p> <pre><code>let to_do_item = to_do_factory(\"washing\", TaskStatus::DONE);\n</code></pre> <p>\u3064\u307e\u308a\u3001ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3057\u3001enum\u306b\u5305\u307e\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u307b\u3068\u3093\u3069\u624b\u9593\u3092\u304b\u3051\u305a\u306b\u53d7\u3051\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002\u4ed6\u306e\u95a2\u6570\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3001enum\u3092\u53d7\u3051\u5165\u308c\u308c\u3070\u3088\u3044\u306e\u3067\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001\u67d4\u8edf\u6027\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001Base\u69cb\u9020\u4f53\u3001Done\u69cb\u9020\u4f53\u3001Pending\u69cb\u9020\u4f53\u3092\u5ec3\u6b62\u3057\u3066\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3068\u30bf\u30a4\u30c8\u30eb\u3092\u53d7\u3051\u53d6\u308b1\u3064\u306e\u69cb\u9020\u4f53\u3060\u3051\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3046\u3059\u308c\u3070\u3001\u30b3\u30fc\u30c9\u304c\u5c11\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u67d4\u8edf\u6027\u306f\u5931\u308f\u308c\u307e\u3059\u3002\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u69cb\u9020\u4f53\u306btrait\u3092\u8ffd\u52a0\u3057\u3066\u6a5f\u80fd\u3092\u30ed\u30c3\u30af\u30c0\u30a6\u30f3\u3057\u3001\u5b89\u5168\u6027\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/StructuringCode/#_3","title":"\u30c8\u30ec\u30a4\u30c8\u306b\u3088\u308b\u6a5f\u80fd\u5b9a\u7fa9","text":"<p>\u73fe\u5728\u3001\u3053\u306e\u69cb\u9020\u4f53\u306f\u3001\u30bf\u30b9\u30af\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3084\u30bf\u30a4\u30c8\u30eb\u3092\u4fdd\u6301\u3059\u308b\u4ee5\u5916\u306b\u306f\u4f55\u3082\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u69cb\u9020\u4f53\u306b\u306f\u3055\u307e\u3056\u307e\u306a\u6a5f\u80fd\u3092\u6301\u305f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u308f\u3056\u308f\u3056\u500b\u5225\u306e\u69cb\u9020\u4f53\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u3053\u3053\u3067\u306fToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3059\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3069\u306e\u3088\u3046\u306b\u69cb\u6210\u3059\u308b\u304b\u306f\u6700\u7d42\u7684\u306b\u3042\u306a\u305f\u6b21\u7b2c\u3067\u3059\u304c\u3001\u5b8c\u4e86\u3057\u305f\u30bf\u30b9\u30af\u3092\u4f5c\u6210\u3067\u304d\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u306e\u306f\u7121\u7406\u306a\u3053\u3068\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u4f8b\u306f\u4e9b\u7d30\u306a\u3053\u3068\u306b\u601d\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u672c\u66f8\u3067\u306f\u3001\u89e3\u6c7a\u3059\u308b\u554f\u984c\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u3059\u308b\u305f\u3081\u306bToDo\u30ea\u30b9\u30c8\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u89e3\u6c7a\u3059\u308b\u554f\u984c\u306e\u7406\u89e3\u306b\u6642\u9593\u3092\u304b\u3051\u305a\u306b\u3001Rust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3059\u308b\u305f\u3081\u306e\u6280\u8853\u7684\u306a\u5074\u9762\u306b\u96c6\u4e2d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u9280\u884c\u53d6\u5f15\u3092\u51e6\u7406\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u306e\u3088\u3046\u306a\u3001\u3088\u308a\u8981\u6c42\u306e\u53b3\u3057\u3044\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30ed\u30b8\u30c3\u30af\u306e\u5b9f\u88c5\u65b9\u6cd5\u3092\u53b3\u5bc6\u306b\u3057\u3001\u671b\u307e\u3057\u304f\u306a\u3044\u51e6\u7406\u304c\u8d77\u3053\u308b\u53ef\u80fd\u6027\u3092\u30ed\u30c3\u30af\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u3092\u8a8d\u8b58\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002ToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u5404\u30d7\u30ed\u30bb\u30b9\u306b\u500b\u5225\u306etrait\u3092\u4f5c\u6210\u3057\u3001\u305d\u308c\u3092\u5fc5\u8981\u306a\u30bf\u30b9\u30af\u69cb\u9020\u4f53\u306b\u5272\u308a\u5f53\u3066\u308b\u3053\u3068\u3067\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001to_do\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u306btrait\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u305d\u308c\u305e\u308c\u306etrait\u306b\u5bfe\u5fdc\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff08\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u306a\u308a\u307e\u3059\uff09\u3002</p> <pre><code>\u251c\u2500\u2500 mod.rs\n\u2514\u2500\u2500 traits\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 create.rs\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 delete.rs\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 edit.rs\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 get.rs\n\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 mod.rs\n</code></pre> <p>\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067to_do/traits/mod.rs\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u3059\u3079\u3066\u306e\u7279\u6027\u3092\u516c\u958b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub mod create;\npub mod delete;\npub mod edit;\npub mod get;\n</code></pre> <p>\u307e\u305f\u3001to_do/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u304a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u7279\u5fb4\u3092\u516c\u7684\u306b\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>pub mod traits;\n</code></pre> <p>\u3053\u308c\u3067\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u306b\u3059\u3079\u3066\u306e trait \u30d5\u30a1\u30a4\u30eb\u304c\u914d\u7f6e\u3055\u308c\u305f\u306e\u3067\u3001trait \u306e\u69cb\u7bc9\u3092\u958b\u59cb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305a\u3001to_do/traits/get.rs \u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067 Get trait \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>pub trait Get {\nfn get(&amp;self, title: &amp;str) {\nprintln!(\"{} is being fetched\", title);\n}\n}\n</code></pre> <p>\u3053\u308c\u306f\u5358\u306btrait\u306e\u9069\u7528\u65b9\u6cd5\u3092\u793a\u3059\u3082\u306e\u306a\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u304b\u3092\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3060\u3051\u306b\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u3053\u308c\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308btrait\u306eget\u95a2\u6570\u3092\u4e0a\u66f8\u304d\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u3067\u3059\u3002Edit\u3068\u3044\u3046trait\u306b\u95a2\u3057\u3066\u306f\u3001to_do/traits/edit.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u72b6\u614b\u3092\u5909\u66f4\u3059\u308b\u95a2\u6570\u30922\u3064\u7528\u610f\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub trait Edit {\nfn set_to_done(&amp;self, title: &amp;str) {\nprintln!(\"{} is being set to done\", title);\n}\nfn set_to_pending(&amp;self, title: &amp;str) {\nprintln!(\"{} is being set to pending\", title);\n}\n}\n</code></pre> <p>\u3053\u3053\u3067\u30d1\u30bf\u30fc\u30f3\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u5ff5\u306e\u305f\u3081\u3001Create \u7279\u6027\u306f to_do/traits/create.rs \u30d5\u30a1\u30a4\u30eb\u3067\u6b21\u306e\u3088\u3046\u306a\u5f62\u5f0f\u3092\u3068\u308a\u307e\u3059\u3002</p> <pre><code>pub trait Create {\nfn create(&amp;self, title: &amp;str) {\nprintln!(\"{} is being created\", title);\n}\n}\n</code></pre> <p>Delete\u7279\u6027\u306f\u3001to_do/traits/delete.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <pre><code>pub trait Delete {\nfn delete(&amp;self, title: &amp;str) {\nprintln!(\"{} is being deleted\", title);\n}\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001\u5fc5\u8981\u306a\u7279\u6027\u306f\u3059\u3079\u3066\u5b9a\u7fa9\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u3092\u5229\u7528\u3057\u3066\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u69cb\u9020\u4f53\u306e\u52d5\u4f5c\u3092\u5b9a\u7fa9\u3057\u3001\u30ed\u30c3\u30af\u30c0\u30a6\u30f3\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Done\u69cb\u9020\u4f53\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067to_do/structs/done.rs\u30d5\u30a1\u30a4\u30eb\u306btrait\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use super::super::traits::get::Get;\nuse super::super::traits::delete::Delete;\nuse super::super::traits::edit::Edit;\n</code></pre> <p>\u305d\u3057\u3066\u3001Done struct\u306e\u5b9a\u7fa9\u5f8c\u306e\u540c\u3058\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067Done struct\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>impl Get for Done {}\nimpl Delete for Done {}\nimpl Edit for Done {}\n</code></pre> <p>\u3053\u308c\u3067\u3001Done\u69cb\u9020\u4f53\u306f\u3001ToDo\u9805\u76ee\u3092\u53d6\u5f97\u3001\u7de8\u96c6\u3001\u524a\u9664\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u3053\u3067\u3001\u7b2c1\u7ae0\u300cRust\u5165\u9580\u300d\u3067\u5f37\u8abf\u3057\u305f\u3088\u3046\u306b\u3001trait\u306e\u5a01\u529b\u3092\u5b9f\u611f\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002trait\u306f\u3001\u7c21\u5358\u306b\u7a4d\u307f\u91cd\u306d\u305f\u308a\u524a\u9664\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u5b8c\u4e86\u3057\u305fToDo\u9805\u76ee\u3092\u4f5c\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u306b\u306f\u3001Create for Done;\u3068\u3044\u3046\u5358\u7d14\u306a\u30a4\u30f3\u30d7\u30ea\u30e1\u30f3\u30c8\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002Done\u69cb\u9020\u4f53\u306b\u5fc5\u8981\u306atrait\u3092\u5b9a\u7fa9\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306bPending\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3057\u3001to_do/structs/pending.rs\u30d5\u30a1\u30a4\u30eb\u306b\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002</p> <pre><code>use super::super::traits::get::Get;\nuse super::super::traits::edit::Edit;\nuse super::super::traits::create::Create;\n</code></pre> <p>\u305d\u3057\u3066\u3001Pending struct\u306e\u5b9a\u7fa9\u306e\u5f8c\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u3053\u308c\u3089\u306e\u7279\u5fb4\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>impl Get for Pending {}\nimpl Edit for Pending {}\nimpl Create for Pending {}\n</code></pre> <p>\u524d\u8ff0\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001Pending\u69cb\u9020\u4f53\u306f\u53d6\u5f97\u3001\u7de8\u96c6\u3001\u4f5c\u6210\u304c\u53ef\u80fd\u3067\u3059\u304c\u3001\u524a\u9664\u306f\u3067\u304d\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u3053\u308c\u3089\u306e\u7279\u6027\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3001Pending\u69cb\u9020\u4f53\u3068Done\u69cb\u9020\u4f53\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3053\u3068\u306a\u304f\u7d50\u3073\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001Edit\u7279\u6027\u3092\u5b9f\u88c5\u3057\u305f\u69cb\u9020\u4f53\u3092\u53d7\u3051\u5165\u308c\u305f\u5834\u5408\u3001\u305d\u306e\u69cb\u9020\u4f53\u306fPending\u69cb\u9020\u4f53\u3068Done\u69cb\u9020\u4f53\u306e\u4e21\u65b9\u3092\u53d7\u3051\u5165\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001Delete\u7279\u6027\u3092\u5b9f\u88c5\u3057\u305f\u69cb\u9020\u4f53\u3092\u53d7\u3051\u5165\u308c\u308b\u95a2\u6570\u3092\u4f5c\u6210\u3059\u308b\u3068\u3001Done\u69cb\u9020\u4f53\u306f\u53d7\u3051\u5165\u308c\u3089\u308c\u307e\u3059\u304c\u3001Pending\u69cb\u9020\u4f53\u306f\u62d2\u5426\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001\u7a4d\u6975\u7684\u306a\u578b\u30c1\u30a7\u30c3\u30af\u3068\u67d4\u8edf\u6027\u304c\u898b\u4e8b\u306b\u8abf\u548c\u3057\u3066\u304a\u308a\u3001\u307e\u3055\u306bRust\u306e\u8a2d\u8a08\u306e\u771f\u4fa1\u304c\u767a\u63ee\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u69cb\u9020\u4f53\u306b\u5fc5\u8981\u306a\u7279\u6027\u304c\u3059\u3079\u3066\u63c3\u3063\u305f\u306e\u3067\u3001\u3053\u308c\u3092\u5229\u7528\u3057\u3066main.rs\u30d5\u30a1\u30a4\u30eb\u3092\u5b8c\u5168\u306b\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</p> <pre><code>mod to_do;\nuse to_do::to_do_factory;\nuse to_do::enums::TaskStatus;\nuse to_do::ItemTypes;\nuse crate::to_do::traits::get::Get;\nuse crate::to_do::traits::delete::Delete;\nuse crate::to_do::traits::edit::Edit;\n</code></pre> <p>\u4eca\u56de\u6ce8\u610f\u3059\u3079\u304d\u306f\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u3059\u3002\u305b\u3063\u304b\u304f\u69cb\u9020\u4f53\u306btrait\u3092\u5b9f\u88c5\u3057\u305f\u306e\u306b\u3001\u305d\u308c\u3092\u4f7f\u7528\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306b\u306ftrait\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u5c11\u3057\u5206\u304b\u308a\u306b\u304f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\u3001\u69cb\u9020\u4f53\u3092\u521d\u671f\u5316\u3057\u305f\u5f8c\u306bGet trait\u304b\u3089get\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3068\u3001item.get(&amp;item.super_struct.title);\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308b\u3002get\u95a2\u6570\u306f\u3001\u521d\u671f\u5316\u3055\u308c\u305f\u69cb\u9020\u4f53\u306b\u7d10\u3065\u3044\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u76f4\u611f\u7684\u306b\u306f\u3001trait\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u306e\u306f\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001trait\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u306a\u3044\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u3084IDE\u304b\u3089\u300cget\u3068\u3044\u3046\u540d\u524d\u306e\u95a2\u6570\u304c\u69cb\u9020\u4f53\u306e\u4e2d\u306b\u898b\u3064\u304b\u3089\u306a\u3044\u300d\u3068\u3044\u3046\u4e0d\u89aa\u5207\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u5c06\u6765\u7684\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30ec\u30fc\u30c8\u3084Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306etrait\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u69cb\u9020\u4f53\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u3053\u308c\u3089\u306etrait\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u91cd\u8981\u3067\u3059\u3002\u30a4\u30f3\u30dd\u30fc\u30c8\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067main\u95a2\u6570\u306e\u4e2d\u3067trait\u3068factory\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>fn main() {\nlet to_do_items = to_do_factory(\"washing\", TaskStatus::DONE);\nmatch to_do_items {\nItemTypes::Done(item) =&gt; {\nitem.get(&amp;item.super_struct.title);\nitem.delete(&amp;item.super_struct.title);\n},\nItemTypes::Pending(item) =&gt; {\nitem.get(&amp;item.super_struct.title);\nitem.set_to_done(&amp;item.super_struct.title);\n}\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>washing is being fetched\nwashing is being deleted\n</code></pre> <p>\u3053\u3053\u3067\u884c\u3063\u305f\u3053\u3068\u306f\u3001\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3092\u542b\u3080\u72ec\u81ea\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u69cb\u7bc9\u3057\u305f\u3053\u3068\u3067\u3059\u3002\u305d\u3057\u3066\u3001\u305d\u308c\u3092main\u95a2\u6570\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u5b9f\u884c\u3057\u307e\u3057\u305f\u3002\u3055\u3066\u3001\u57fa\u672c\u7684\u306a\u69cb\u9020\u306f\u69cb\u7bc9\u3055\u308c\u3001\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u5f79\u306b\u7acb\u3064\u3088\u3046\u306b\u3001\u5909\u6570\u3092\u6e21\u3057\u305f\u308a\u3001\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3093\u3060\u308a\u3057\u3066\u3001\u74b0\u5883\u3068\u76f8\u4e92\u4f5c\u7528\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/Summary/","title":"2.5 - \u307e\u3068\u3081","text":""},{"location":"2_DesigningYourWebApplicationInRust/Summary/#_1","title":"\u307e\u3068\u3081","text":"<p>\u3053\u306e\u7ae0\u3067\u79c1\u305f\u3061\u304c\u672c\u8cea\u7684\u306b\u884c\u3063\u305f\u3053\u3068\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5165\u529b\u3092\u53d7\u3051\u3001\u30d5\u30a1\u30a4\u30eb\u3068\u5bfe\u8a71\u3057\u3001\u30b3\u30de\u30f3\u30c9\u3068\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u30c7\u30fc\u30bf\u306b\u5fdc\u3058\u3066\u7de8\u96c6\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u69cb\u7bc9\u3057\u305f\u3053\u3068\u3067\u3059\u3002\u30c7\u30fc\u30bf\u306f\u5358\u7d14\u3067\u3001\u30bf\u30a4\u30c8\u30eb\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u3067\u3059\u3002\u3053\u308c\u3092\u3059\u3079\u3066main\u95a2\u6570\u5185\u3067\u3001\u8907\u6570\u306ematch\u6587\u3068if\u3001else if\u3001else\u30d6\u30ed\u30c3\u30af\u3092\u4f7f\u3063\u3066\u5b9f\u73fe\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u305f\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u3067\u306f\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001\u4ed6\u306e\u69cb\u9020\u4f53\u3092\u7d99\u627f\u3057\u305f\u69cb\u9020\u4f53\u3092\u4f5c\u308a\u3001\u305d\u306e\u69cb\u9020\u4f53\u306btrait\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u305d\u3057\u3066\u3001\u3053\u308c\u3089\u306e\u69cb\u9020\u4f53\u306e\u69cb\u7bc9\u3092\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3057\u3001\u4ed6\u306e\u30d5\u30a1\u30a4\u30eb\u304c1\u884c\u306e\u30b3\u30fc\u30c9\u3067\u3059\u3079\u3066\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002</p> <p>\u305d\u3057\u3066\u3001\u30b3\u30de\u30f3\u30c9\u5165\u529b\u3001\u72b6\u614b\u3001\u69cb\u9020\u4f53\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306e\u51e6\u7406\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u69cb\u7bc9\u3057\u3001\u6570\u884c\u306e\u30b3\u30fc\u30c9\u3067\u4f59\u5206\u306a\u6a5f\u80fd\u3092\u7a4d\u307f\u4e0a\u3052\u305f\u308a\u3001\u51e6\u7406\u306e\u6d41\u308c\u3092\u5909\u3048\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u30e1\u30a4\u30f3\u6a5f\u80fd\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u306e\u53ce\u96c6\u3068\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u30fb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u547c\u3073\u51fa\u3057\u30bf\u30a4\u30df\u30f3\u30b0\u306e\u8abf\u6574\u306e\u307f\u306b\u96c6\u4e2d\u3059\u308c\u3070\u3088\u3044\u3002Rust\u304c\u3069\u306e\u3088\u3046\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7ba1\u7406\u3059\u308b\u306e\u304b\u304c\u308f\u304b\u308a\u3001\u6280\u8853\u7684\u8ca0\u50b5\u3084\u81a8\u308c\u4e0a\u304c\u308b\u30e1\u30a4\u30f3\u95a2\u6570\u306b\u60a9\u307e\u3055\u308c\u308b\u3053\u3068\u306a\u304f\u3001\u554f\u984c\u3092\u89e3\u6c7a\u3057\u6a5f\u80fd\u3092\u8ffd\u52a0\u3067\u304d\u308b\u5b9f\u4e16\u754c\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u30d3\u30eb\u30c7\u30a3\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u3092\u624b\u306b\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u3067\u3001\u6210\u9577\u3067\u304d\u308b\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306aWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u7bc9\u3092\u958b\u59cb\u3059\u308b\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u3002\u6b21\u306e\u7ae0\u3067\u306f\u3001Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u3064\u3044\u3066\u5b66\u3073\u3001\u57fa\u672c\u7684\u306aWeb\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"2_DesigningYourWebApplicationInRust/TechnicalRequirements/","title":"2.1 - \u6280\u8853\u8981\u4ef6","text":""},{"location":"2_DesigningYourWebApplicationInRust/TechnicalRequirements/#_1","title":"\u6280\u8853\u8981\u4ef6","text":"<p>Rust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u88fd\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u983c\u308b\u5fc5\u8981\u304c\u51fa\u3066\u304d\u307e\u3059\u3002Rust\u306f\u3001Cargo\u3068\u3044\u3046\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u3067\u4f9d\u5b58\u95a2\u4fc2\u3092\u7ba1\u7406\u3057\u307e\u3059\u3002Cargo\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u3001\u6b21\u306eURL\u304b\u3089Rust\u3092\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059: https://www.rust-lang.org/tools/install.</p> <p>\u3053\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9eRust\u3068\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3Cargo\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u30b3\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u306fGitHub\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter02</p>"},{"location":"3_HandlingHTTPRequests/","title":"HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406","text":"<p>\u3053\u3053\u307e\u3067\u3067\u3001ToDo\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u67d4\u8edf\u3067\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u3001\u304b\u3064\u518d\u5229\u7528\u53ef\u80fd\u306a\u65b9\u6cd5\u3067\u69cb\u6210\u3057\u3066\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u3067\u306fWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u9762\u3067\u306f\u3001\u3053\u3053\u307e\u3067\u3057\u304b\u3067\u304d\u307e\u305b\u3093\u3002ToDo\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u81ea\u5206\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306bRust\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u8907\u6570\u306e\u4eba\u306b\u7d20\u65e9\u304f\u5c4a\u304f\u3088\u3046\u306b\u3057\u305f\u3044\u306e\u3067\u3059\u3002\u3053\u308c\u306f\u3001Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u3048\u3070\u53ef\u80fd\u3067\u3059\u3002Rust\u306b\u306f\u305f\u304f\u3055\u3093\u306e\u9b45\u529b\u304c\u3042\u308a\u307e\u3059\u3002\u6700\u521d\u306f\u3001Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u30e1\u30a4\u30f3\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p> <p>\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u30d3\u30e5\u30fc\u3092\u30e2\u30b8\u30e5\u30fc\u30eb\u65b9\u5f0f\u3067\u69cb\u7bc9\u3057\u307e\u3059\u3002ToDo\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u6700\u5c0f\u9650\u306e\u52b4\u529b\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u7d44\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306f\u3001\u975e\u540c\u671f\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u52d5\u4f5c\u3092\u3088\u308a\u6df1\u304f\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3001\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3082\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002</p> <p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u9805\u76ee\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p> <ul> <li>Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u7d39\u4ecb</li> <li>\u57fa\u672c\u7684\u306aActix Web\u30b5\u30fc\u30d0\u30fc\u306e\u7acb\u3061\u4e0a\u3052</li> <li>\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u7406\u89e3\u3059\u308b</li> <li>\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u7406\u89e3</li> <li>Web\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3067async\u3068await\u3092\u7406\u89e3\u3059\u308b</li> <li>Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u305f\u30d3\u30e5\u30fc\u306e\u7ba1\u7406</li> </ul>"},{"location":"3_HandlingHTTPRequests/ExploringAsyncAndAwaitWithWebProgramming/","title":"3.7 - Web\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3067async\u3068await\u3092\u63a2\u6c42\u3059\u308b","text":""},{"location":"3_HandlingHTTPRequests/ExploringAsyncAndAwaitWithWebProgramming/#webasyncawait","title":"Web\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3067async\u3068await\u3092\u63a2\u6c42\u3059\u308b","text":"<p>\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u3064\u3044\u3066\u77e5\u3063\u3066\u3044\u308b\u3053\u3068\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u3001Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30e1\u30a4\u30f3\u95a2\u6570\u3092\u9055\u3063\u305f\u89d2\u5ea6\u304b\u3089\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <pre><code>#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\nHttpServer::new(|| {\nApp::new()\n.route(\"/\", web::get().to(greet))\n.route(\"/{name}\", web::get().to(greet))\n.route(\"/say/hello\", web::get().to(|| async { \"Hello Again!\" }))\n})\n.bind(\"127.0.0.1:8080\")?\n.workers(3)\n.run()\n.await\n}\n</code></pre> <p>greet\u95a2\u6570\u306f\u975e\u540c\u671f\u95a2\u6570\u3067\u3042\u308a\u3001\u3057\u305f\u304c\u3063\u3066future\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001/say/hello\u30d3\u30e5\u30fc\u306b\u6e21\u3059\u30af\u30ed\u30fc\u30b8\u30e3\u3082async\u69cb\u6587\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001HttpServer::new\u95a2\u6570\u304casync fn main()\u306e\u4e2d\u3067await\u69cb\u6587\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3082\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001HttpServer::new\u95a2\u6570\u306f\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u3067\u3042\u308b\u3068\u63a8\u8ad6\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001#[actix_web::main]\u30de\u30af\u30ed\u3092\u524a\u9664\u3057\u3066\u3057\u307e\u3046\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>`main` function is not allowed to be `async`\n</code></pre> <p>\u3053\u308c\u306f\u3001\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3067\u3042\u308bmain\u95a2\u6570\u304c\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u306e\u3068\u306f\u5bfe\u7167\u7684\u306bfuture\u3092\u8fd4\u3059\u304b\u3089\u3067\u3059\u3002#actix_web::main]\u306f\u30e9\u30f3\u30bf\u30a4\u30e0\u5b9f\u88c5\u3067\u3001\u3059\u3079\u3066\u3092\u73fe\u5728\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002actix_web::main]\u30de\u30af\u30ed\u306f\u3001Actix\u30b7\u30b9\u30c6\u30e0\u306b\u3088\u3063\u3066\u5b9f\u884c\u3055\u308c\u308b\u975e\u540c\u671f\u95a2\u6570\uff08\u3053\u306e\u5834\u5408\u3001main\u95a2\u6570\u3067\u3042\u308b\uff09\u3092\u30de\u30fc\u30af\u3057\u307e\u3059\u3002</p> <p>\u5099\u8003</p> <p>\u3053\u3053\u3067\u96d1\u8ac7\u306b\u306a\u308a\u307e\u3059\u304c\u3001Actix crate\u306f\u30a2\u30af\u30bf\u30fc\u30e2\u30c7\u30eb\u306b\u57fa\u3065\u3044\u3066\u4e26\u884c\u8a08\u7b97\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u30a2\u30af\u30bf\u30fc\u304c\u8a08\u7b97\u6a5f\u3067\u3042\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\u30a2\u30af\u30bf\u30fc\u306f\u4e92\u3044\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u53d7\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30a2\u30af\u30bf\u30fc\u306f\u81ea\u5206\u306e\u72b6\u614b\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u901a\u3057\u3066\u306e\u307f\u4ed6\u306e\u30a2\u30af\u30bf\u30fc\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u30ed\u30c3\u30af\u30d9\u30fc\u30b9\u306e\u540c\u671f\u306e\u5fc5\u8981\u6027\u304c\u306a\u304f\u306a\u308a\u307e\u3059\uff08\u4eca\u56de\u53d6\u308a\u4e0a\u3052\u305f\u30df\u30e5\u30fc\u30c6\u30c3\u30af\u30b9\u306f\u30ed\u30c3\u30af\u30d9\u30fc\u30b9\u3067\u3059\uff09\u3002\u3053\u306e\u30e2\u30c7\u30eb\u3092\u3055\u3089\u306b\u63a2\u6c42\u3057\u3066\u3082\u3001\u57fa\u672c\u7684\u306aWeb\u30a2\u30d7\u30ea\u3092\u958b\u767a\u3059\u308b\u306e\u306b\u306f\u5f79\u7acb\u305f\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u3057\u304b\u3057\u3001Actix\u30af\u30ec\u30fc\u30c8\u306b\u306f\u3001Actix\u3092\u4f7f\u3063\u305f\u4e26\u884c\u30b7\u30b9\u30c6\u30e0\u306e\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306b\u95a2\u3059\u308b\u826f\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u3042\u308a\u307e\u3059\uff08https://actix.rs/book/actix.</p> <p>\u3053\u3053\u3067\u306f\u3001\u591a\u304f\u306e\u3053\u3068\u3092\u53d6\u308a\u4e0a\u3052\u307e\u3057\u305f\u3002\u5168\u90e8\u306f\u899a\u3048\u3066\u3044\u306a\u3044\u3068\u611f\u3058\u3066\u3082\u3001\u30b9\u30c8\u30ec\u30b9\u3092\u611f\u3058\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u307e\u3064\u308f\u308b\u3055\u307e\u3056\u307e\u306a\u30c8\u30d4\u30c3\u30af\u3092\u7c21\u5358\u306b\u53d6\u308a\u4e0a\u3052\u307e\u3057\u305f\u3002Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u30d9\u30fc\u30b9\u3068\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u7bc9\u3092\u958b\u59cb\u3059\u308b\u305f\u3081\u306b\u3001\u305d\u308c\u3092\u5fb9\u5e95\u7684\u306b\u7406\u89e3\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u307e\u305f\u3001\u3053\u308c\u307e\u3067\u53d6\u308a\u4e0a\u3052\u3066\u304d\u305f\u5185\u5bb9\u304c\u904e\u5270\u3060\u3063\u305f\u3068\u611f\u3058\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\u3001\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3061\u4e0a\u3052\u3066\u3001\u5fc5\u8981\u306a\u3068\u304d\u306basync\u69cb\u6587\u3092\u4f7f\u3044\u3001\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u306e\u304b\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u307e\u307e\u3001\u5358\u306b\u30d3\u30e5\u30fc\u3092\u30d1\u30f3\u30c1\u30a2\u30a6\u30c8\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u305f\u3067\u3057\u3087\u3046\u3002\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u306e\u304b\u3092\u7406\u89e3\u305b\u305a\u3068\u3082\u3001\u3069\u3053\u306basync\u3092\u7f6e\u304f\u3079\u304d\u304b\u3092\u77e5\u3063\u3066\u3044\u308c\u3070\u3001\u304a\u3082\u3061\u3083\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306b\u901f\u5ea6\u3092\u843d\u3068\u3059\u3053\u3068\u306f\u306a\u304b\u3063\u305f\u3067\u3057\u3087\u3046\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u7b1b\u5439\u304d\u30c4\u30a2\u30fc\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30d0\u30c3\u30b0\u3057\u305f\u308a\u8a2d\u8a08\u3057\u305f\u308a\u3059\u308b\u969b\u306b\u306f\u3001\u975e\u5e38\u306b\u8cb4\u91cd\u306a\u3082\u306e\u3067\u3059\u3002\u3053\u308c\u3092\u78ba\u7acb\u3059\u308b\u305f\u3081\u306b\u3001\u91ce\u751f\u306e\u4f8b\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u30021\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u8907\u6570\u306e\u30b5\u30fc\u30d0\u30fc\u3092\u5b9f\u884c\u3059\u308b\u3001\u3053\u306e\u30b9\u30de\u30fc\u30c8\u306aStack Overflow\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059: https://stackoverflow.com/questions/59642576/run-multiple-actix-app-on-different-ports.</p> <p>Stack Overflow\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30fc\u30c9\u306f\u3001\u57fa\u672c\u7684\u306b1\u3064\u306e\u30e9\u30f3\u30bf\u30a4\u30e0\u30672\u3064\u306e\u30b5\u30fc\u30d0\u30fc\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002\u307e\u305a\u3001\u5f7c\u3089\u306f\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>use actix_web::{web, App, HttpServer, Responder};\nuse futures::future;\nasync fn utils_one() -&gt; impl Responder {\n\"Utils one reached\\n\"\n}\nasync fn health() -&gt; impl Responder {\n\"All good\\n\"\n}\n</code></pre> <p>\u30d3\u30e5\u30fc\u304c\u5b9a\u7fa9\u3055\u308c\u308b\u3068\u30012\u3064\u306e\u30b5\u30fc\u30d0\u30fc\u304c\u30e1\u30a4\u30f3\u95a2\u6570\u3067\u5b9a\u7fa9\u3055\u308c\u307e\u3059\u3002</p> <pre><code>#[actix_rt::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\nlet s1 = HttpServer::new(move || {\nApp::new()\n.service(web::scope(\"/utils\")\n.route(\"/one\", web::get().to(utils_one)))\n})\n.bind(\"0.0.0.0:3006\")?\n.run();\nlet s2 = HttpServer::new(move || {\nApp::new()\n.service(web::resource(\"/health\")\n.route(web::get().to(health)))\n})\n.bind(\"0.0.0.0:8080\")?\n.run();\nfuture::try_join(s1, s2).await?;\nOk(())\n}\n</code></pre> <p>\u3053\u306e\u30b3\u30fc\u30c9\u306b\u306f\u4f55\u306e\u8868\u8a18\u3082\u52a0\u3048\u3066\u3044\u306a\u3044\u304c\u3001\u3042\u306a\u305f\u3092\u8105\u304b\u3059\u3053\u3068\u306f\u306a\u3044\u3060\u308d\u3046\u3002s1\u3068s2\u304crun\u95a2\u6570\u304c\u8fd4\u3059future\u3067\u3042\u308b\u3053\u3068\u306f\u78ba\u4fe1\u3092\u6301\u3063\u3066\u63a8\u8ad6\u3067\u304d\u308b\u3002\u305d\u3057\u3066\u3001\u3053\u306e2\u3064\u306e\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3092\u7d50\u5408\u3057\u3066\u3001\u7d42\u4e86\u3092\u5f85\u3061\u307e\u3059\u3002\u307e\u305f\u3001\u79c1\u305f\u3061\u306e\u30b3\u30fc\u30c9\u3068Stack Overflow\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30fc\u30c9\u306b\u306f\u3001\u82e5\u5e72\u306e\u9055\u3044\u304c\u3042\u308a\u307e\u3059\u3002\u79c1\u305f\u3061\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001await? \u3092\u5229\u7528\u3057\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u30b9\u30cb\u30da\u30c3\u30c8\u3067Ok\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <pre><code>\u00a0\u00a0\u00a0\u00a0future::try_join(s1, s2).await?;\nOk(())\n}\n</code></pre> <p>\u3053\u308c\u306f\u3001?\u6f14\u7b97\u5b50\u304c\u672c\u8cea\u7684\u306b\u30c8\u30e9\u30a4\u30de\u30c3\u30c1\u3060\u304b\u3089\u3067\u3059\u3002 join(s1, s2).await? \u306f\u3001\u304a\u304a\u3088\u305d\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u5c55\u958b\u3055\u308c\u307e\u3059\u3002</p> <pre><code>match join(s1, s2).await {\nOk(v) =&gt; v,\nErr(e) =&gt; return Err(e.into()),\n}\n</code></pre> <p>\u6f14\u7b97\u5b50\u300c\uff1f\u300d\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3001\u30e1\u30a4\u30f3\u95a2\u6570\u304cResult\u3092\u8fd4\u3059\u305f\u3081\u3001\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3059\u308b\u5074\u306f\u6700\u5f8c\u306bOk\u3092\u633f\u5165\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u304c\u89e3\u6d88\u3055\u308c\u307e\u3057\u305f\u3002  </p> <p>\u3053\u306e\u3088\u3046\u306b\u3001\u91ce\u751f\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u304a\u3044\u3066\u3001Stack Overflow\u306f\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u30ab\u30d0\u30fc\u3059\u308b\u3053\u3068\u306e\u91cd\u8981\u6027\u3092\u5b9f\u8a3c\u3057\u3066\u3044\u307e\u3059\u3002\u79c1\u305f\u3061\u306f\u3001\u91ce\u751f\u306e\u30b3\u30fc\u30c9\u3092\u898b\u3066\u3001\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u306e\u304b\u3001Stack Overflow\u306e\u6295\u7a3f\u8005\u304c\u3069\u306e\u3088\u3046\u306b\u9054\u6210\u3067\u304d\u305f\u306e\u304b\u3092\u89e3\u660e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u79c1\u305f\u3061\u81ea\u8eab\u304c\u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u306b\u306a\u308c\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3082\u3042\u308a\u307e\u3059\u30023\u3064\u306e\u30b5\u30fc\u30d0\u3092\u4f5c\u308a\u3001\u305d\u308c\u3092\u30e1\u30a4\u30f3\u95a2\u6570\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u3092\u6b62\u3081\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u3053\u305dRust\u306e\u771f\u9aa8\u9802\u3067\u3059\u3002Rust\u306e\u5b66\u7fd2\u306b\u6642\u9593\u3092\u304b\u3051\u308b\u3053\u3068\u3067\u3001\u4f4e\u30ec\u30d9\u30eb\u306e\u9818\u57df\u306b\u5b89\u5168\u306b\u98db\u3073\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u3001\u81ea\u5206\u306e\u884c\u52d5\u3092\u3088\u308a\u7d30\u304b\u304f\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001Rust\u3092\u4f7f\u3063\u305f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u3069\u306e\u5206\u91ce\u3067\u3082\u8a00\u3048\u308b\u3053\u3068\u3067\u3057\u3087\u3046\u3002</p> <p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u524d\u306b\u3001\u3082\u30461\u3064\u8abf\u67fb\u3059\u3079\u304d\u6982\u5ff5\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u308c\u306f\u30e9\u30f3\u30bf\u30a4\u30e0\u3067\u3059\u3002\u30e1\u30a4\u30f3\u95a2\u6570\u3092future\u306b\u3059\u308b\u305f\u3081\u306b\u3001Actix Web\u30de\u30af\u30ed\u304c\u5fc5\u8981\u306a\u3053\u3068\u306f\u5206\u304b\u3063\u3066\u3044\u307e\u3059\u3002Tokio\u30af\u30ec\u30fc\u30c8\u3092\u898b\u3066\u307f\u308b\u3068\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u66f8\u304f\u306e\u306b\u5fc5\u8981\u306a\u30d3\u30eb\u30c7\u30a3\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3067\u3001Rust\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u7528\u306e\u975e\u540c\u671f\u30e9\u30f3\u30bf\u30a4\u30e0\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002Tokio\u306e\u4ed5\u7d44\u307f\u306f\u8907\u96d1\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u30e9\u30f3\u30bf\u30a4\u30e0\u306e\u9ad8\u901f\u5316\u306b\u95a2\u3059\u308bTokio\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u898b\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u56f3\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f3 3.3 - \u30c8\u30ad\u30aa\u306e\u30e9\u30f3\u30bf\u30a4\u30e0\u3092\u9ad8\u901f\u5316\u3059\u308b [source:\u30c8\u30ad\u30aa \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8(2019) (https://tokio.rs/blog/2019-10-scheduler)] \u3092\u53c2\u7167\u3002</p> <p>\u5148\u306e\u56f3\u3067\u306f\u3001\u30ad\u30e5\u30fc\u306b\u5165\u308c\u3089\u308c\u305f\u30bf\u30b9\u30af\u3068\u305d\u308c\u3092\u51e6\u7406\u3059\u308b\u30d7\u30ed\u30bb\u30c3\u30b5\u30fc\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u5148\u307b\u3069\u306e\u30bf\u30b9\u30af\u306e\u51e6\u7406\u3067\u3001\u898b\u899a\u3048\u304c\u3042\u308b\u306f\u305a\u3067\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u8003\u3048\u308b\u3068\u3001Actix Web\u30de\u30af\u30ed\u306e\u4ee3\u308f\u308a\u306bTokio\u3092\u4f7f\u3063\u3066\u30b5\u30fc\u30d0\u3092\u52d5\u304b\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u306f\u3001\u305d\u308c\u307b\u3069\u885d\u6483\u7684\u306a\u3053\u3068\u3067\u306f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306b\u6b21\u306e\u30b3\u30fc\u30c9\u3067Tokio\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>tokio = { version = \"1.17.0\", features = [\"full\"] }\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30de\u30af\u30ed\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <pre><code>#[tokio::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\nHttpServer::new(|| {\nApp::new()\n.route(\"/\", web::get().to(greet))\n.route(\"/{name}\", web::get().to(greet))\n})\n.bind(\"127.0.0.1:8080\")?\n.bind(\"127.0.0.1:8081\")?\n.workers(3)\n.run()\n.await\n}\n</code></pre> <p>\u3053\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30b5\u30fc\u30d0\u30fc\u3092\u5b9f\u884c\u3057\u305f\u306e\u3068\u540c\u3058\u7d50\u679c\u304c\u5f97\u3089\u308c\u307e\u3059\u3002Actix\u306e\u30e9\u30f3\u30bf\u30a4\u30e0\u30de\u30af\u30ed\u306e\u4ee3\u308f\u308a\u306bTokio\u3092\u4f7f\u7528\u3057\u305f\u5834\u5408\u3001\u3044\u304f\u3064\u304b\u306e\u77db\u76fe\u304c\u751f\u3058\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u81ea\u4fe1\u3092\u6301\u3063\u3066\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u6210\u3067\u304d\u308b\u3053\u3068\u3092\u793a\u3059\u8208\u5473\u6df1\u3044\u7d50\u679c\u3067\u3059\u304c\u3001Actix\u3067ToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3059\u308b\u5834\u5408\u3001\u3053\u306e\u672c\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3067\u306fActix\u30e9\u30f3\u30bf\u30a4\u30e0\u30de\u30af\u30ed\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002Tokio\u306b\u3064\u3044\u3066\u306f\u3001\u7b2c14\u7ae0\u300cTokio\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u63a2\u7d22\u300d\u3067\u518d\u78ba\u8a8d\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002</p> <p>\u3053\u3053\u307e\u3067\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u3068\u3001\u30b5\u30fc\u30d0\u30fc\u304c\u3069\u306e\u3088\u3046\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3059\u308b\u304b\u306b\u3064\u3044\u3066\u3001\u5341\u5206\u306b\u8aac\u660e\u3057\u307e\u3057\u305f\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30d3\u30e5\u30fc\u306e\u5b9a\u7fa9\u3068\u305d\u306e\u51e6\u7406\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"3_HandlingHTTPRequests/IntroducingTheActixWebFramework/","title":"3.2 - Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u7d39\u4ecb","text":""},{"location":"3_HandlingHTTPRequests/IntroducingTheActixWebFramework/#actix-web","title":"Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u7d39\u4ecb","text":"<p>\u3053\u306e\u8a18\u4e8b\u3092\u66f8\u3044\u3066\u3044\u308b\u6642\u70b9\u3067\u306f\u3001GitHub\u30da\u30fc\u30b8\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u304b\u3089\u308f\u304b\u308b\u3088\u3046\u306b\u3001Actix Web\u306f\u6700\u3082\u4eba\u6c17\u306e\u3042\u308bRust Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002Rocket\u306e\u3088\u3046\u306a\u4eba\u9593\u5de5\u5b66\u306b\u57fa\u3065\u3044\u305f\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3084\u3001Hyper\u306e\u3088\u3046\u306a\u9ad8\u901f\u3067\u8efd\u91cf\u306a\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u98db\u3073\u3064\u304d\u305f\u304f\u306a\u308b\u3053\u3068\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3053\u308c\u3089\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u3064\u3044\u3066\u306f\u3001\u672c\u66f8\u306e\u5f8c\u534a\u3067\u3055\u307e\u3056\u307e\u306a\u7ae0\u306b\u308f\u305f\u3063\u3066\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u79c1\u305f\u3061\u306f\u307e\u305aRust\u3067Web\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u7406\u89e3\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u5fd8\u308c\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002Rust\u3068Web\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u521d\u5fc3\u8005\u3067\u3042\u308b\u3053\u3068\u3092\u8003\u616e\u3059\u308b\u3068\u3001Actix Web\u306f\u7d20\u6674\u3089\u3057\u3044\u30b9\u30bf\u30fc\u30c8\u3067\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u3067\u69d8\u3005\u306a\u30d3\u30e5\u30fc\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3001\u8a8d\u8a3c\u306a\u3069\u3092\u51e6\u7406\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u3042\u307e\u308a\u306b\u4f4e\u30ec\u30d9\u30eb\u306a\u305f\u3081\u8ffd\u3044\u3064\u304b\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u4eba\u6c17\u304c\u3042\u308a\u3001\u5b89\u5b9a\u3057\u3066\u304a\u308a\u3001\u591a\u304f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u3053\u306e\u672c\u306e\u5185\u5bb9\u3092\u8d85\u3048\u3066\u3001\u81ea\u5206\u81ea\u8eab\u306e\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3057\u3088\u3046\u3068\u3059\u308b\u5834\u5408\u3001\u5feb\u9069\u306a\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u4f53\u9a13\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u4ed6\u306eWeb\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u79fb\u884c\u3059\u308b\u524d\u306b\u3001Actix Web\u306b\u6163\u308c\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001Actix Web\u304c\u6700\u9ad8\u3067\u3001\u4ed6\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u304c\u3059\u3079\u3066\u3072\u3069\u3044\u3068\u8a00\u3046\u308f\u3051\u3067\u306f\u306a\u304f\u3001\u5b66\u7fd2\u3068\u958b\u767a\u3092\u30b9\u30e0\u30fc\u30ba\u306b\u884c\u3046\u305f\u3081\u3067\u3059\u3002\u3053\u306e\u3053\u3068\u3092\u5ff5\u982d\u306b\u7f6e\u3044\u3066\u3001\u6700\u521d\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u9032\u307f\u3001\u57fa\u672c\u7684\u306aWeb\u30b5\u30fc\u30d0\u30fc\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002</p>"},{"location":"3_HandlingHTTPRequests/LaunchingABasicActixWebServer/","title":"3.3 - \u57fa\u672c\u7684\u306aActix Web\u30b5\u30fc\u30d0\u30fc\u306e\u7acb\u3061\u4e0a\u3052","text":""},{"location":"3_HandlingHTTPRequests/LaunchingABasicActixWebServer/#actix-web","title":"\u57fa\u672c\u7684\u306aActix Web\u30b5\u30fc\u30d0\u30fc\u306e\u7acb\u3061\u4e0a\u3052","text":"<p>Cargo\u3092\u4f7f\u3063\u305f\u30d3\u30eb\u30c9\u306f\u7c21\u5358\u3067\u3059\u3002\u5fc5\u8981\u306a\u306e\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30d3\u30eb\u30c9\u3057\u305f\u3044\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3060\u3051\u3067\u3059\u3002</p> <pre><code>$ cargo new web_app\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u57fa\u672c\u7684\u306aCargo Rust\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u69cb\u7bc9\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u63a2\u7d22\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>\u2514\u2500\u2500 web_app\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 Cargo.toml\n\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 src\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 main.rs\n</code></pre> <p>\u3053\u308c\u3067\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067Actix Web\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>[dependencies]\nactix-web = \"4.0.1\"\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u306e\u7d50\u679c\u3001Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u7bc9\u306b\u79fb\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067src/main.rs\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u3079\u3066\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002</p> <pre><code>use actix_web::{web, App, HttpServer, Responder, HttpRequest};\nasync fn greet(req: HttpRequest) -&gt; impl Responder {\nlet name = req.match_info().get(\"name\").unwrap_or(\"World\");\nformat!(\"Hello {}!\", name)\n}\n#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\nHttpServer::new(|| {\nApp::new()\n.route(\"/\", web::get().to(greet))\n.route(\"/{name}\", web::get().to(greet))\n.route(\"/say/hello\", web::get().to(|| async { \"Hello Again!\" }))\n})\n.bind(\"127.0.0.1:8080\")?\n.run()\n.await\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001actix_web crate\u304b\u3089\u5fc5\u8981\u306a\u69cb\u9020\u4f53\u3068trait\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306b\u3001\u3044\u304f\u3064\u304b\u306e\u7570\u306a\u308b\u65b9\u6cd5\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u95a2\u6570\u3092\u69cb\u7bc9\u3057\u3066\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001HttpRequest\u69cb\u9020\u4f53\u3092\u53d6\u308a\u8fbc\u307f\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u304b\u3089\u540d\u524d\u3092\u53d6\u5f97\u3057\u3001actix_web\u30af\u30ec\u30fc\u30c8\u306eResponder trait\u3092\u5b9f\u88c5\u3057\u305f\u5909\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\u30ec\u30b9\u30dd\u30f3\u30c0\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u578b\u3092HTTP\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u5909\u63db\u3057\u307e\u3059\u3002.route(\"/\", web::get().to(greet)) \u30b3\u30de\u30f3\u30c9\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u30fc\u7528\u306b\u4f5c\u6210\u3057\u305f\u3053\u306egreet\u95a2\u6570\u3092\u30eb\u30fc\u30c8\u30d3\u30e5\u30fc\u3068\u3057\u3066\u5272\u308a\u5f53\u3066\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001.route(\"/{name}\", web::get().to(greet)) \u30b3\u30de\u30f3\u30c9\u3067\u3001URL\u304b\u3089\u540d\u524d\u3092greet\u95a2\u6570\u306b\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\u6700\u5f8c\u306b\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u6700\u7d42\u30eb\u30fc\u30c8\u306b\u6e21\u3057\u307e\u3059\u3002\u3053\u306e\u69cb\u6210\u3067\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <pre><code>$ cargo run\n</code></pre> <p>\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>Finished dev [unoptimized + debuginfo] target(s) in 0.21s\n Running `target/debug/web_app`\n</code></pre> <p>\u5148\u306e\u51fa\u529b\u3067\u3001\u4eca\u306f\u30ed\u30ae\u30f3\u30b0\u304c\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u60f3\u5b9a\u5185\u306e\u3053\u3068\u3067\u3001\u5f8c\u3067\u30ed\u30ae\u30f3\u30b0\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u3055\u3066\u3001\u30b5\u30fc\u30d0\u30fc\u304c\u7a3c\u52d5\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306eURL\u5165\u529b\u306e\u305d\u308c\u305e\u308c\u306b\u3064\u3044\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u5bfe\u5fdc\u3059\u308b\u51fa\u529b\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002</p> <ul> <li>Input: http://127.0.0.1:8080/</li> <li>Output: Hello World!</li> <li>Input: http://127.0.0.1:8080/maxwell</li> <li>Output: Hello maxwell!</li> <li>Input: http://127.0.0.1:8080/say/hello</li> <li>Output: Hello Again!</li> </ul> <p>src/main.rs\u30d5\u30a1\u30a4\u30eb\u306e\u524d\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u4eca\u307e\u3067\u51fa\u4f1a\u3063\u305f\u3053\u3068\u306e\u306a\u3044\u65b0\u3057\u3044\u69cb\u6587\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002main\u95a2\u6570\u3092#[actix_web::main]\u30de\u30af\u30ed\u3067\u88c5\u98fe\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u975e\u540c\u671f\u30e1\u30a4\u30f3\u95a2\u6570\u3092Actix Web\u30b7\u30b9\u30c6\u30e0\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u30de\u30fc\u30af\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u3053\u308c\u3067\u3001\u95a2\u6570\u304c\u975e\u540c\u671f\u3067\u3042\u308b\u3053\u3068\u3068\u3001\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u306e2\u3064\u306e\u30b3\u30f3\u30bb\u30d7\u30c8\u306f\u3001\u6b21\u306e\u6570\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u8abf\u67fb\u3057\u3066\u3001\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u306e\u304b\u3092\u672c\u5f53\u306b\u7406\u89e3\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"3_HandlingHTTPRequests/ManagingViewsUsingTheActixWebFramework/","title":"3.8 - Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u305f\u30d3\u30e5\u30fc\u306e\u7ba1\u7406","text":""},{"location":"3_HandlingHTTPRequests/ManagingViewsUsingTheActixWebFramework/#actix-web","title":"Actix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u305f\u30d3\u30e5\u30fc\u306e\u7ba1\u7406","text":"<p>\u3053\u308c\u307e\u3067\u306e\u3068\u3053\u308d\u3001main.rs \u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3079\u3066\u306e\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3057\u3066\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u5927\u304d\u304f\u306a\u308b\u306b\u3064\u308c\u3001\u3053\u306e\u65b9\u6cd5\u3067\u306f\u3046\u307e\u304f\u62e1\u5f35\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u9069\u5207\u306a\u30d3\u30e5\u30fc\u3092\u898b\u3064\u3051\u308b\u306e\u306f\u96e3\u3057\u3044\u3067\u3059\u3057\u3001\u30d3\u30e5\u30fc\u3092\u66f4\u65b0\u3059\u308b\u3068\u30df\u30b9\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u524a\u9664\u3057\u305f\u308a\u3001Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u633f\u5165\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u3082\u96e3\u3057\u304f\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u3059\u3079\u3066\u306e\u30d3\u30e5\u30fc\u30921\u3064\u306e\u30da\u30fc\u30b8\u3067\u5b9a\u7fa9\u3059\u308b\u5834\u5408\u3001\u3088\u308a\u5927\u304d\u306a\u30c1\u30fc\u30e0\u304c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3059\u308b\u5834\u5408\u3001\u591a\u304f\u306e\u30de\u30fc\u30b8\u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u3092\u5f15\u304d\u8d77\u3053\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u30d3\u30e5\u30fc\u306e\u30ed\u30b8\u30c3\u30af\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u683c\u7d0d\u3057\u305f\u65b9\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u3053\u3053\u3067\u306f\u3001\u8a8d\u8a3c\u3092\u884c\u3046\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u306e\u554f\u984c\u3092\u89e3\u6c7a\u3057\u307e\u3059\u3002\u3053\u306e\u7ae0\u3067\u306f\u3001\u8a8d\u8a3c\u306b\u95a2\u3059\u308b\u30ed\u30b8\u30c3\u30af\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30d3\u30e5\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u69cb\u9020\u3092\u7ba1\u7406\u3059\u308b\u65b9\u6cd5\u3092\u691c\u8a0e\u3059\u308b\u969b\u306b\u4f7f\u7528\u3059\u308b\u3001\u308f\u304b\u308a\u3084\u3059\u3044\u4f8b\u3068\u3057\u3066\u3001\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u6700\u9069\u3067\u3059\u3002\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u524d\u306b\u3001\u3053\u306e\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u6b21\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u30ec\u30a4\u30a2\u30a6\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>\u251c\u2500\u2500 main.rs\n\u2514\u2500\u2500 views\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 auth\n\u00a0\u00a0\u00a0\u00a0\u2502\u00a0\u00a0\u00a0\u251c\u2500\u2500 login.rs\n\u00a0\u00a0\u00a0\u00a0\u2502\u00a0\u00a0\u00a0\u251c\u2500\u2500 logout.rs\n\u00a0\u00a0\u00a0\u00a0\u2502\u00a0\u00a0\u00a0\u2514\u2500\u2500 mod.rs\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 mod.rs\n</code></pre> <p>\u5404\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u306e\u30b3\u30fc\u30c9\u3092\u8aac\u660e\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> main.rs              \u30b5\u30fc\u30d0\u30fc\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8 views/auth/login.rs  \u30ed\u30b0\u30a4\u30f3\u3059\u308b\u305f\u3081\u306e\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u30b3\u30fc\u30c9 views/auth/logout.rs \u30ed\u30b0\u30a2\u30a6\u30c8\u306e\u305f\u3081\u306e\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u30b3\u30fc\u30c9 views/auth/mod.rs    auth\u7528\u306e\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u30d5\u30a1\u30af\u30c8\u30ea\u30fc views/mod.rs         \u30a2\u30d7\u30ea\u5168\u4f53\u306e\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u30d5\u30a1\u30af\u30c8\u30ea\u30fc <p>\u307e\u305a\u3001\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u3066\u3001\u4f59\u8a08\u306a\u3082\u306e\u304c\u306a\u3044\u57fa\u672c\u7684\u306aWeb\u30b5\u30fc\u30d0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <pre><code>use actix_web::{App, HttpServer};\nmod views;\n#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\nHttpServer::new(|| {\nlet app = App::new();\nreturn app\n})\n.bind(\"127.0.0.1:8000\")?\n.run()\n.await\n}\n</code></pre> <p>\u3053\u306e\u524d\u306e\u30b3\u30fc\u30c9\u306f\u308f\u304b\u308a\u3084\u3059\u304f\u3001\u9a5a\u304f\u3088\u3046\u306a\u3053\u3068\u306f\u306a\u3044\u306f\u305a\u3067\u3059\u3002\u5f8c\u3067\u30b3\u30fc\u30c9\u3092\u5909\u66f4\u3057\u3001\u30d3\u30e5\u30fc\u306e\u5b9a\u7fa9\u306b\u79fb\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u7ae0\u3067\u306f\u3001\u30d3\u30e5\u30fc\u304c\u4f55\u3067\u3042\u308b\u304b\u3092\u793a\u3059\u6587\u5b57\u5217\u3092\u8fd4\u3057\u305f\u3044\u3060\u3051\u3067\u3059\u3002\u3053\u308c\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u6210\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3067\u3057\u3087\u3046\u3002\u57fa\u672c\u7684\u306a\u30ed\u30b0\u30a4\u30f3\u30d3\u30e5\u30fc\u306f\u3001views/auth/login.rs \u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub async fn login() -&gt; String {\nformat!(\"Login view\")\n}\n</code></pre> <p>\u3055\u3066\u3001views/auth/logout.rs\u30d5\u30a1\u30a4\u30eb\u306elogout\u30d3\u30e5\u30fc\u304c\u6b21\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u3001\u9a5a\u304f\u3053\u3068\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u3002</p> <pre><code>pub async fn logout() -&gt; String {\nformat!(\"Logout view\")\n}\n</code></pre> <p>\u30d3\u30e5\u30fc\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001\u3042\u3068\u306fmod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u5b9a\u7fa9\u3057\u3066\u3001\u30b5\u30fc\u30d0\u30fc\u304c\u30d3\u30e5\u30fc\u3092\u63d0\u4f9b\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u5f62\u3067\u30a2\u30d7\u30ea\u306e\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <p>\u56f33.4 - \u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc</p> <p>\u56f3 3.4 \u3092\u898b\u308b\u3068\u3001\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u9023\u7d50\u3059\u308b\u3053\u3068\u3067\u3001\u591a\u304f\u306e\u67d4\u8edf\u6027\u304c\u5f97\u3089\u308c\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u3059\u3079\u3066\u306e\u8a8d\u8a3c\u30d3\u30e5\u30fc\u3092\u524a\u9664\u3057\u305f\u3044\u5834\u5408\u3001\u30e1\u30a4\u30f3\u306e\u30d3\u30e5\u30fc\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3067\u30b3\u30fc\u30c9\u3092\u4e00\u884c\u524a\u9664\u3059\u308b\u3060\u3051\u3067\u3001\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u518d\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u8907\u6570\u306e\u30b5\u30fc\u30d0\u30fc\u3067auth\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001auth views\u30e2\u30b8\u30e5\u30fc\u30eb\u306egit\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u3001\u305d\u308c\u3092\u4ed6\u306e\u30b5\u30fc\u30d0\u30fc\u3067\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002auth\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u30d3\u30e5\u30fc\u306f\u3001views/auth/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>mod login;\nmod logout;\nuse actix_web::web::{ServiceConfig, get, scope};\npub fn auth_views_factory(app: &amp;mut ServiceConfig) {\napp.service(scope(\"v1/auth\")\n.route(\"login\", get().to(login::login))\n.route(\"logout\", get().to(logout::logout))\n);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001ServiceConfig\u69cb\u9020\u4f53\u306emutable\u306a\u53c2\u7167\u3092\u6e21\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u30d3\u30e5\u30fc\u306a\u3069\u3092\u7570\u306a\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u69cb\u9020\u4f53\u306b\u95a2\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f\u3001\u5927\u898f\u6a21\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u8a2d\u5b9a\u3092\u7570\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u306b\u5206\u5272\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3068\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001ServiceConfig\u69cb\u9020\u4f53\u306b\u30b5\u30fc\u30d3\u30b9\u3092\u9069\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u30b5\u30fc\u30d3\u30b9\u306b\u3088\u3063\u3066\u3001\u30b9\u30b3\u30fc\u30d7\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u304c\u3059\u3079\u3066\u5165\u529b\u3055\u308c\u308b\u30d3\u30e5\u30fc\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u7c21\u5358\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u3001\u4eca\u306e\u3068\u3053\u308dget\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u660e\u8a18\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u3001views/mod.rs\u30d5\u30a1\u30a4\u30eb\u306e\u30e1\u30a4\u30f3\u30d3\u30e5\u30fc\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067auth\u30d3\u30e5\u30fc\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u5dee\u3057\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>mod auth;\nuse auth::auth_views_factory;\nuse actix_web::web::ServiceConfig;\npub fn views_factory(app: &amp;mut ServiceConfig) {\nauth_views_factory(app);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u305f\u3063\u305f1\u884c\u306e\u30b3\u30fc\u30c9\u3067views\u30e2\u30b8\u30e5\u30fc\u30eb\u5168\u4f53\u3092\u5207\u308a\u5206\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u597d\u304d\u306a\u3060\u3051\u9023\u9396\u3055\u305b\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001auth\u30d3\u30e5\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e2d\u306b\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f5c\u308a\u305f\u3044\u5834\u5408\u3001auth\u30b5\u30d6\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092auth\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306b\u9001\u308a\u8fbc\u3080\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3059\u3002\u307e\u305f\u30011\u3064\u306e\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3067\u8907\u6570\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002main.rs\u306f\u3001configure\u95a2\u6570\u304c\u8ffd\u52a0\u3055\u308c\u305f\u3060\u3051\u3067\u3001\u307b\u307c\u540c\u3058\u5185\u5bb9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff08\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u53c2\u7167\uff09\u3002</p> <pre><code>use actix_web::{App, HttpServer};\nmod views;\n#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\nHttpServer::new(|| {\nlet app = App::new().configure(views::views_factory);\nreturn app\n})\n.bind(\"127.0.0.1:8000\")?\n.run()\n.await\n}\n</code></pre> <p>App\u69cb\u9020\u4f53\u3067configure\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3068\u3001configure\u95a2\u6570\u306bviews\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u304c\u6e21\u3055\u308c\u3001views\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306fconfig\u69cb\u9020\u4f53\u3092\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u95a2\u6570\u306b\u6e21\u3057\u3066\u304f\u308c\u308b\u3002configure\u95a2\u6570\u306fSelf\uff08\u3064\u307e\u308aApp\u69cb\u9020\u4f53\uff09\u3092\u8fd4\u3059\u306e\u3067\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u6700\u5f8c\u306b\u7d50\u679c\u3092\u8fd4\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u7d50\u679c\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u56f33.5 \u30ed\u30b0\u30a4\u30f3\u753b\u9762</p> <p>\u671f\u5f85\u901a\u308a\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u6301\u3064\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u81ea\u4fe1\u3092\u6301\u3063\u3066HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306e\u57fa\u672c\u7684\u306a\u3053\u3068\u306f\u3059\u3079\u3066\u7db2\u7f85\u3067\u304d\u307e\u3057\u305f\u3002</p>"},{"location":"3_HandlingHTTPRequests/Summary/","title":"3.9 - \u307e\u3068\u3081","text":""},{"location":"3_HandlingHTTPRequests/Summary/#_1","title":"\u307e\u3068\u3081","text":"<p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u30b9\u30ec\u30c3\u30c9\u3001\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3001\u975e\u540c\u671f\u95a2\u6570\u306e\u57fa\u672c\u3092\u8aac\u660e\u3057\u307e\u3057\u305f\u3002\u305d\u306e\u7d50\u679c\u3001\u30de\u30eb\u30c1\u30b5\u30fc\u30d0\u30fc\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u969b\u306b\u898b\u3066\u3001\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u306e\u304b\u3092\u78ba\u4fe1\u3092\u6301\u3063\u3066\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u3092\u8e0f\u307e\u3048\u3066\u3001\u524d\u7ae0\u3067\u5b66\u3093\u3060\u6982\u5ff5\u3092\u57fa\u306b\u3001\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002\u3055\u3089\u306b\u3001\u30d3\u30e5\u30fc\u3092\u305d\u306e\u5834\u3067\u69cb\u7bc9\u3057\u3066\u30b5\u30fc\u30d0\u30fc\u306b\u8ffd\u52a0\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u9023\u9396\u3055\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u3053\u306e\u9023\u9396\u3059\u308b\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306e\u4ed5\u7d44\u307f\u306b\u3088\u308a\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u69cb\u7bc9\u6642\u306b\u30d3\u30e5\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u5168\u4f53\u3092\u69cb\u6210\u304b\u3089\u51fa\u3057\u5165\u308c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <p>\u307e\u305f\u3001\u30d1\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3057\u3001\u30d3\u30e5\u30fc\u306e\u30bb\u30c3\u30c8\u306b\u5bfe\u3059\u308bURL\u306e\u5b9a\u7fa9\u3092\u6a19\u6e96\u5316\u3057\u307e\u3057\u305f\u3002\u4eca\u5f8c\u306e\u7ae0\u3067\u306f\u3001\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u4f7f\u3063\u3066\u3001\u8a8d\u8a3c\u3001JSON\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u69cb\u7bc9\u3057\u3066\u3044\u304f\u4e88\u5b9a\u3067\u3059\u3002\u3053\u3053\u307e\u3067\u306e\u5185\u5bb9\u3067\u3001\u6b21\u306e\u7ae0\u3067\u306f\u3001\u3055\u307e\u3056\u307e\u306a\u65b9\u6cd5\u3067\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u3066\u8fd4\u3059\u30d3\u30e5\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u3059\u308b\u3053\u3068\u3067\u3001\u30ed\u30b8\u30c3\u30af\u304c\u5206\u96e2\u3055\u308c\u8a2d\u5b9a\u53ef\u80fd\u3067\u3001\u30b3\u30fc\u30c9\u3092\u7ba1\u7406\u3057\u3084\u3059\u304f\u8ffd\u52a0\u3067\u304d\u308bRust\u3067\u3001\u5b9f\u4e16\u754c\u306eWeb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u5f37\u529b\u306a\u57fa\u76e4\u3092\u624b\u306b\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u6b21\u306e\u7ae0\u3067\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3068\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u51e6\u7406\u306b\u53d6\u308a\u7d44\u307f\u307e\u3059\u3002params\u3001body\u3001header\u3001form\u3092\u30d3\u30e5\u30fc\u306b\u6e21\u3057\u3001JSON\u3092\u8fd4\u3059\u3053\u3068\u3067\u51e6\u7406\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002\u3053\u306e\u65b0\u3057\u3044\u30e1\u30bd\u30c3\u30c9\u3092\u3001\u524d\u7ae0\u3067\u4f5c\u6210\u3057\u305fToDo\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u7528\u3057\u3001\u30b5\u30fc\u30d0\u30fc\u30d3\u30e5\u30fc\u3092\u901a\u3058\u3066ToDo\u30a2\u30a4\u30c6\u30e0\u3068\u306e\u3084\u308a\u53d6\u308a\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"3_HandlingHTTPRequests/TechnicalRequirements/","title":"3.1 - \u6280\u8853\u8981\u4ef6","text":""},{"location":"3_HandlingHTTPRequests/TechnicalRequirements/#_1","title":"\u6280\u8853\u8981\u4ef6","text":"<p>Rust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u88fd\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u983c\u308b\u5fc5\u8981\u304c\u51fa\u3066\u304d\u307e\u3059\u3002Rust\u306f\u3001Cargo\u3068\u3044\u3046\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u3067\u4f9d\u5b58\u95a2\u4fc2\u3092\u7ba1\u7406\u3057\u307e\u3059\u3002Cargo\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u3001\u6b21\u306eURL\u304b\u3089Rust\u3092\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059: https://www.rust-lang.org/tools/install.</p> <p>\u3053\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u306f\u3001Rust\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u3068Cargo\u304c\u63d0\u4f9b\u3055\u308c\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u30b3\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u306fGitHub\uff08https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter03\uff09\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"3_HandlingHTTPRequests/UnderstandingAsyncAndAwait/","title":"3.6 - async\u3068await\u3092\u7406\u89e3\u3059\u308b","text":""},{"location":"3_HandlingHTTPRequests/UnderstandingAsyncAndAwait/#asyncawait","title":"async\u3068await\u3092\u7406\u89e3\u3059\u308b","text":"<p>async\u3068await\u306e\u69cb\u6587\u306f\u3001\u524d\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8aac\u660e\u3057\u305f\u306e\u3068\u540c\u3058\u6982\u5ff5\u3092\u7ba1\u7406\u3059\u308b\u3082\u306e\u3067\u3059\u304c\u3001\u3044\u304f\u3064\u304b\u306e\u30cb\u30e5\u30a2\u30f3\u30b9\u304c\u3042\u308a\u307e\u3059\u3002\u5358\u306b\u30b9\u30ec\u30c3\u30c9\u3092\u751f\u6210\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3092\u4f5c\u6210\u3057\u3001\u5fc5\u8981\u306a\u6642\u306b\u5fc5\u8981\u306a\u5206\u3060\u3051\u64cd\u4f5c\u3057\u307e\u3059\u3002</p> <p>\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30b5\u30a4\u30a8\u30f3\u30b9\u306b\u304a\u3044\u3066\u3001\u672a\u6765\u3068\u306f\u3001\u672a\u51e6\u7406\u306e\u8a08\u7b97\u306e\u3053\u3068\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u307e\u3060\u7d50\u679c\u304c\u5f97\u3089\u308c\u3066\u3044\u306a\u3044\u72b6\u614b\u3067\u3059\u304c\u3001\u547c\u3073\u51fa\u3057\u305f\u308a\u5f85\u3063\u305f\u308a\u3059\u308b\u3068\u3001\u672a\u6765\u306b\u8a08\u7b97\u306e\u7d50\u679c\u304c\u5165\u529b\u3055\u308c\u307e\u3059\u3002\u5225\u306e\u8868\u73fe\u3067\u306f\u3001\u672a\u6765\u306f\u307e\u3060\u6e96\u5099\u304c\u3067\u304d\u3066\u3044\u306a\u3044\u5024\u3092\u8868\u73fe\u3059\u308b\u65b9\u6cd5\u3067\u3042\u308b\u3068\u3082\u8a00\u3048\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u3001\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u306f\u6b63\u78ba\u306b\u306f\u30b9\u30ec\u30c3\u30c9\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u5b9f\u969b\u3001\u30b9\u30ec\u30c3\u30c9\u306f\u305d\u306e\u53ef\u80fd\u6027\u3092\u6700\u5927\u9650\u306b\u5f15\u304d\u51fa\u3059\u305f\u3081\u306b\u3001\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u3044\u304f\u3064\u304b\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u304c\u3042\u308b\u3068\u3057\u307e\u3059\u3002\u305d\u308c\u305e\u308c\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u306b\u5bfe\u3057\u3066\u3001\u500b\u5225\u306e\u30b9\u30ec\u30c3\u30c9\u3092\u7528\u610f\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u3059\u3079\u3066\u306e\u63a5\u7d9a\u3092\u9806\u6b21\u51e6\u7406\u3059\u308b\u3088\u308a\u3082\u512a\u308c\u3066\u3044\u307e\u3059\u3002\u9045\u3044\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u306f\u3001\u305d\u308c\u81ea\u8eab\u304c\u51e6\u7406\u3055\u308c\u308b\u307e\u3067\u3001\u4ed6\u306e\u901f\u3044\u63a5\u7d9a\u306e\u51e6\u7406\u3092\u59a8\u3052\u308b\u3053\u3068\u306b\u306a\u308a\u3001\u7d50\u679c\u3068\u3057\u3066\u5168\u4f53\u3068\u3057\u3066\u51e6\u7406\u6642\u9593\u304c\u9045\u304f\u306a\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3059\u3079\u3066\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u306b\u5bfe\u3057\u3066\u30b9\u30ec\u30c3\u30c9\u3092\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u3053\u3068\u306f\u3001\u7121\u6599\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u3054\u3068\u306b\u672a\u6765\u3092\u7528\u610f\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u306f\u3001\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u306e\u6e96\u5099\u304c\u3067\u304d\u305f\u3068\u304d\u306b\u3001\u30b9\u30ec\u30c3\u30c9\u30d7\u30fc\u30eb\u304b\u3089\u30b9\u30ec\u30c3\u30c9\u3067\u51e6\u7406\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u540c\u6642\u63a5\u7d9a\u304c\u591a\u3044Web\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u304a\u3044\u3066\u3001future\u304c\u4f7f\u308f\u308c\u308b\u7406\u7531\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <p>\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u306f\u3001\u7d04\u675f\u3001\u9045\u5ef6\u3001\u5ef6\u671f\u3068\u3082\u547c\u3070\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3092\u63a2\u6c42\u3059\u308b\u305f\u3081\u306b\u3001\u65b0\u3057\u3044Cargo\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306b\u4f5c\u6210\u3055\u308c\u305f\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p> <pre><code>[dependencies]\nfutures = \"0.3.21\"\n</code></pre> <p>\u5148\u884c\u3059\u308bcrate\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u3063\u3066main.rs\u3067\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use futures::executor::block_on;\nuse std::{thread, time};\n</code></pre> <p>async\u69cb\u6587\u3092\u4f7f\u3046\u3060\u3051\u3067\u3001future\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002block_on\u95a2\u6570\u306f\u3001\u5b9a\u7fa9\u3057\u305ffuture\u304c\u5b9f\u884c\u3055\u308c\u308b\u307e\u3067\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30d6\u30ed\u30c3\u30af\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067do_something\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>async fn do_something(number: i8) -&gt; i8 {\nprintln!(\"number {} is running\", number);\nlet two_seconds = time::Duration::new(2, 0);\nthread::sleep(two_seconds);\nreturn 2\n}\n</code></pre> <p>do_something\u95a2\u6570\u306f\u3001\u57fa\u672c\u7684\u306b\u30b3\u30fc\u30c9\u306b\u66f8\u3044\u3066\u3042\u308b\u901a\u308a\u3001\u4f55\u756a\u304b\u3092\u51fa\u529b\u3057\u30012\u79d2\u9593\u30b9\u30ea\u30fc\u30d7\u3057\u3066\u3001\u6574\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u3092\u76f4\u63a5\u547c\u3073\u51fa\u3059\u3068\u3001i8\u306f\u5f97\u3089\u308c\u306a\u3044\u3002\u4ee3\u308f\u308a\u306b\u3001do_something\u95a2\u6570\u3092\u76f4\u63a5\u547c\u3073\u51fa\u3059\u3068\u3001Future\u304c\u5f97\u3089\u308c\u307e\u3059\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u3001main\u95a2\u6570\u5185\u3067future\u3092\u5b9f\u884c\u3057\u3001\u6642\u9593\u3092\u8a08\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 <pre><code>fn main() {\nlet now = time::Instant::now();\nlet future_one = do_something(1);\nlet outcome = block_on(future_one);\nprintln!(\"time elapsed {:?}\", now.elapsed());\nprintln!(\"Here is the outcome: {}\", outcome);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>number 1 is running\ntime elapsed 2.00018789s\nHere is the outcome: 2\n</code></pre> <p>\u3053\u308c\u306f\u671f\u5f85\u3055\u308c\u308b\u3082\u306e\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067block_on\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u524d\u306b\u4f59\u5206\u306asleep\u95a2\u6570\u3092\u5165\u529b\u3059\u308b\u3068\u3069\u3046\u306a\u308b\u304b\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <pre><code>fn main() {\nlet now = time::Instant::now();\nlet future_one = do_something(1);\nlet two_seconds = time::Duration::new(2, 0);\nthread::sleep(two_seconds);\nlet outcome = block_on(future_one);\nprintln!(\"time elapsed {:?}\", now.elapsed());\nprintln!(\"Here is the outcome: {}\", outcome);\n}\n</code></pre> <p>\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>number 1 is running\ntime elapsed 4.000269667s\nHere is the outcome: 2\n</code></pre> <p>\u3053\u306e\u3088\u3046\u306b\u3001block_on\u95a2\u6570\u3092\u4f7f\u3063\u3066\u30a8\u30af\u30bc\u30ad\u30e5\u30fc\u30bf\u3092\u9069\u7528\u3059\u308b\u307e\u3067\u306f\u3001\u672a\u6765\u306f\u5b9f\u884c\u3055\u308c\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <p>\u540c\u3058\u95a2\u6570\u306e\u4e2d\u3067\u5f8c\u3067\u5b9f\u884c\u3067\u304d\u308b\u672a\u6765\u304c\u6b32\u3057\u3044\u3060\u3051\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u3001\u3053\u308c\u306f\u5c11\u3057\u624b\u9593\u304c\u304b\u304b\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u306b\u306f\u3001async/await\u69cb\u6587\u304c\u5fc5\u8981\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u3001do_something\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001main\u95a2\u6570\u5185\u3067await\u69cb\u6587\u3092\u4f7f\u3063\u3066\u7d42\u308f\u308b\u307e\u3067\u30b3\u30fc\u30c9\u3092\u30d6\u30ed\u30c3\u30af\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>let future_two = async {\nreturn do_something(2).await\n};\nlet future_two = block_on(future_two);\nprintln!(\"Here is the outcome: {:?}\", future_two);\n</code></pre> <p>async\u30d6\u30ed\u30c3\u30af\u304c\u884c\u3046\u3053\u3068\u306f\u3001future\u3092\u8fd4\u3059\u3053\u3068\u3067\u3059\u3002\u3053\u306e\u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u3067\u3001do_something\u95a2\u6570\u3092await\u5f0f\u3092\u4f7f\u3063\u3066\u3001do_something\u95a2\u6570\u304c\u89e3\u6c7a\u3055\u308c\u308b\u307e\u3067async\u30d6\u30ed\u30c3\u30af\u3092\u30d6\u30ed\u30c3\u30af\u3057\u3066\u547c\u3073\u51fa\u3059\u306e\u3067\u3059\u3002\u305d\u3057\u3066\u3001future_two future\u306bblock_on\u95a2\u6570\u3092\u9069\u7528\u3057\u307e\u3059\u3002</p> <p>\u5148\u307b\u3069\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u3092\u898b\u308b\u3068\u3001do_something\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066block_on\u95a2\u6570\u306b\u6e21\u3059\u3068\u3044\u3046\u305f\u3063\u305f2\u884c\u306e\u30b3\u30fc\u30c9\u3067\u3067\u304d\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u5c11\u3057\u904e\u5270\u306b\u611f\u3058\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3053\u306e\u5834\u5408\u3001\u904e\u5270\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u306e\u547c\u3073\u51fa\u3057\u65b9\u306b\u3064\u3044\u3066\u3088\u308a\u67d4\u8edf\u6027\u3092\u6301\u305f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067do_something\u95a2\u6570\u30922\u56de\u547c\u3073\u51fa\u3057\u3001\u305d\u308c\u3092return\u3068\u3057\u3066\u8db3\u3057\u5408\u308f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>let future_three = async {\nlet outcome_one = do_something(2).await;\nlet outcome_two = do_something(3).await;\nreturn outcome_one + outcome_two\n};\nlet future_outcome = block_on(future_three);\nprintln!(\"Here is the outcome: {:?}\", future_outcome);\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3092main\u95a2\u6570\u306b\u8ffd\u52a0\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>number 2 is running\nnumber 3 is running\nHere is the outcome: 4\n</code></pre> <p>\u5148\u306e\u51fa\u529b\u306f\u671f\u5f85\u901a\u308a\u306e\u7d50\u679c\u3067\u3059\u304c\u3001\u3053\u308c\u3089\u306e\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u306f\u9806\u6b21\u5b9f\u884c\u3055\u308c\u308b\u305f\u3081\u3001\u3053\u306e\u30b3\u30fc\u30c9\u306e\u30d6\u30ed\u30c3\u30af\u306e\u5408\u8a08\u6642\u9593\u306f4\u79d2\u5f37\u306b\u306a\u308b\u3053\u3068\u304c\u5206\u304b\u3063\u3066\u3044\u307e\u3059\u3002join\u3092\u4f7f\u3048\u3070\u3001\u3053\u308c\u3092\u9ad8\u901f\u5316\u3067\u304d\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002join\u306f\u540c\u6642\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u30b9\u30ec\u30c3\u30c9\u3092\u30b9\u30d4\u30fc\u30c9\u30a2\u30c3\u30d7\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u3092\u898b\u3066\u304d\u307e\u3057\u305f\u3002Join\u304c\u5148\u7269\u306e\u30b9\u30d4\u30fc\u30c9\u30a2\u30c3\u30d7\u306b\u5f79\u7acb\u3064\u3053\u3068\u306f\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u307e\u305a\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067join\u30de\u30af\u30ed\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use futures::join\n</code></pre> <p>\u3053\u308c\u3067\u5148\u7269\u306bjoin\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u88c5\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u8a08\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>let future_four = async {\nlet outcome_one = do_something(2);\nlet outcome_two = do_something(3);\nlet results = join!(outcome_one, outcome_two);\nreturn results.0 + results.1\n};\nlet now = time::Instant::now();\nlet result = block_on(future_four);\nprintln!(\"time elapsed {:?}\", now.elapsed());\nprintln!(\"here is the result: {:?}\", result);\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001join\u30de\u30af\u30ed\u304c\u7d50\u679c\u306e\u30bf\u30d7\u30eb\u3092\u8fd4\u3057\u3001\u305d\u306e\u30bf\u30d7\u30eb\u3092\u30a2\u30f3\u30d1\u30c3\u30af\u3057\u3066\u540c\u3058\u7d50\u679c\u3092\u5f97\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u671b\u3080\u7d50\u679c\u304c\u5f97\u3089\u308c\u308b\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001\u672a\u6765\u306e\u5b9f\u884c\u901f\u5ea6\u304c\u4e0a\u304c\u3089\u305a\u30014\u79d2\u5f37\u3067\u6b62\u307e\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001async\u30bf\u30b9\u30af\u3092\u4f7f\u3063\u3066future\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3067\u3059\u3002\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u306e\u5b9f\u884c\u3092\u9ad8\u901f\u5316\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u975e\u540c\u671f\u30bf\u30b9\u30af\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b9\u30c6\u30c3\u30d7\u3092\u8e0f\u3093\u3067\u304f\u3060\u3055\u3044\u3002</p> <ol> <li>\u5fc5\u8981\u306a\u5148\u7269\u3092\u4f5c\u308b\u3002</li> <li>\u305d\u308c\u3092\u30d9\u30af\u30bf\u30fc\u306b\u5165\u308c\u308b\u3002</li> <li>\u30d9\u30af\u30c8\u30eb\u3092\u30eb\u30fc\u30d7\u3057\u3001\u30d9\u30af\u30c8\u30eb\u5185\u306e\u5404\u672a\u6765\u306b\u5bfe\u3057\u3066\u30bf\u30b9\u30af\u3092\u30b9\u30d4\u30f3\u30aa\u30d5\u3055\u305b\u308b\u3002</li> <li>\u975e\u540c\u671f\u30bf\u30b9\u30af\u3092\u7d50\u5408\u3057\u3001\u30d9\u30af\u30c8\u30eb\u3092\u5408\u8a08\u3059\u308b\u3002</li> </ol> <p>\u3053\u308c\u3092\u8996\u899a\u7684\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u3068\u3001\u6b21\u306e\u56f3\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u56f33.2-\u8907\u6570\u306e\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3092\u540c\u6642\u306b\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u624b\u9806</p> <p>\u3059\u3079\u3066\u306e\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3092\u540c\u6642\u306b\u7d50\u5408\u3059\u308b\u306b\u306f\u3001\u5225\u306ecrate\u3092\u4f7f\u7528\u3057\u3066\u3001async_std crate\u3092\u4f7f\u7528\u3057\u3066\u72ec\u81ea\u306e\u975e\u540c\u671f\u7d50\u5408\u95a2\u6570\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30af\u30ec\u30fc\u30c8\u3092Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>async-std = \"1.11.0\"\n</code></pre> <p>async_std\u30af\u30ec\u30fc\u30c8\u304c\u624b\u306b\u5165\u3063\u305f\u306e\u3067\u3001\u56f33.2\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3082\u306e\u3092\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u3067\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use std::vec::Vec;\nuse async_std;\nuse futures::future::join_all;\n</code></pre> <p>main\u95a2\u6570\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u672a\u6765\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <pre><code>let async_outcome = async {\n// 1.\nlet mut futures_vec = Vec::new();\nlet future_four = do_something(4);\nlet future_five = do_something(5);\n// 2.\nfutures_vec.push(future_four);\nfutures_vec.push(future_five);\n// 3. \nlet handles = futures_vec.into_iter().map(\nasync_std::task::spawn).collect::&lt;Vec&lt;_&gt;&gt;();\n// 4.\nlet results = join_all(handles).await;\nreturn results.into_iter().sum::&lt;i8&gt;();\n};\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u5148\u7269\u3092\u5b9a\u7fa9\u3057\uff081\uff09\u3001\u305d\u308c\u3092\u30d9\u30af\u30c8\u30eb\u306b\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\uff082\uff09\u3002\u6b21\u306b\u3001into_iter\u95a2\u6570\u3092\u4f7f\u3063\u3066vector\u5185\u306efuture\u3092\u30eb\u30fc\u30d7\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001async_std::task::spawn\u3092\u4f7f\u3063\u3066\u3001\u5404\u672a\u6765\u306b\u5bfe\u3057\u3066\u30b9\u30ec\u30c3\u30c9\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u3053\u308c\u306fstd::task::spawn\u3068\u4f3c\u3066\u3044\u307e\u3059\u3002\u3067\u306f\u3001\u306a\u305c\u3053\u306e\u3088\u3046\u306a\u4f59\u8a08\u306a\u624b\u9593\u3092\u304b\u3051\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\u30d9\u30af\u30c8\u30eb\u3092\u30eb\u30fc\u30d7\u3057\u3066\u3001\u5404\u30bf\u30b9\u30af\u306b\u5bfe\u3057\u3066\u30b9\u30ec\u30c3\u30c9\u3092\u751f\u6210\u3059\u308c\u3070\u3044\u3044\u306e\u3067\u3059\u3002\u3053\u3053\u3067\u306e\u9055\u3044\u306f\u3001async_std::task::spawn\u95a2\u6570\u304c\u3001\u540c\u3058\u30b9\u30ec\u30c3\u30c9\u3067\u975e\u540c\u671f\u30bf\u30b9\u30af\u3092\u30b9\u30d4\u30f3\u30aa\u30d5\u3057\u3066\u3044\u308b\u3053\u3068\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u540c\u3058\u30b9\u30ec\u30c3\u30c9\u3067\u4e21\u65b9\u306e\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3092\u540c\u6642\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u3059\u3079\u3066\u306e\u30cf\u30f3\u30c9\u30eb\u3092\u7d50\u5408\u3057\u3066\u3001\u3053\u308c\u3089\u306e\u30bf\u30b9\u30af\u306e\u7d42\u4e86\u3092\u5f85\u3061\u3001\u3059\u3079\u3066\u306e\u30b9\u30ec\u30c3\u30c9\u306e\u5408\u8a08\u3092\u8fd4\u3057\u307e\u3059\u3002\u3053\u308c\u3067async_outcome\u672a\u6765\u304c\u5b9a\u7fa9\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3057\u3001\u6642\u9593\u3092\u8a08\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002]]</p> <pre><code>let now = time::Instant::now();\nlet result = block_on(async_outcome);\nprintln!(\"time elapsed for join vec {:?}\", now.elapsed());\nprintln!(\"Here is the result: {:?}\", result);\n</code></pre> <p>\u8ffd\u52a0\u3057\u305f\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u8ffd\u52a0\u30d7\u30ea\u30f3\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>number 4 is running\nnumber 5 is running\ntime elapsed for join vec 2.007713458s\nHere is the result: 4\n</code></pre> <p>\u3046\u307e\u304f\u3044\u3063\u3066\u307e\u3059\u306d\u3002\u540c\u3058\u30b9\u30ec\u30c3\u30c9\u30672\u3064\u306e\u975e\u540c\u671f\u30bf\u30b9\u30af\u3092\u540c\u6642\u306b\u5b9f\u884c\u3055\u305b\u308b\u3053\u3068\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002\u305d\u306e\u7d50\u679c\u3001\u4e21\u65b9\u306e\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u304c2\u79d2\u5f37\u3067\u5b9f\u884c\u3055\u308c\u307e\u3057\u305f</p> <p>\u3053\u306e\u3088\u3046\u306b\u3001Rust\u3067\u306f\u30b9\u30ec\u30c3\u30c9\u3084\u975e\u540c\u671f\u30bf\u30b9\u30af\u306e\u751f\u6210\u306f\u7c21\u5358\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u30b9\u30ec\u30c3\u30c9\u3084\u975e\u540c\u671f\u30bf\u30b9\u30af\u306b\u5909\u6570\u3092\u6e21\u3059\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002Rust\u306e\u501f\u7528\u6a5f\u69cb\u306f\u30e1\u30e2\u30ea\u5b89\u5168\u6027\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002\u30b9\u30ec\u30c3\u30c9\u306b\u30c7\u30fc\u30bf\u3092\u6e21\u3059\u969b\u306b\u306f\u3001\u4f59\u5206\u306a\u624b\u9806\u3092\u8e0f\u307e\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u30b9\u30ec\u30c3\u30c9\u9593\u306e\u30c7\u30fc\u30bf\u5171\u6709\u306e\u4e00\u822c\u7684\u306a\u6982\u5ff5\u306b\u3064\u3044\u3066\u3055\u3089\u306b\u8b70\u8ad6\u3059\u308b\u3053\u3068\u306f\u3001\u4eca\u56de\u306eWeb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u306f\u9069\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u3069\u306e\u3088\u3046\u306a\u578b\u304c\u30c7\u30fc\u30bf\u3092\u5171\u6709\u3067\u304d\u308b\u304b\u3092\u7c21\u5358\u306b\u8aac\u660e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <ul> <li>std::sync::Arc: \u30b9\u30ec\u30c3\u30c9\u304c\u5916\u90e8\u30c7\u30fc\u30bf\u3092\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u30bf\u30a4\u30d7\u3067\u3059\u3002</li> </ul> <pre><code>use std::sync::Arc;\nuse std::thread;\nlet names = Arc::new(vec![\"dave\", \"chloe\", \"simon\"]);\nlet reference_data = Arc::clone(&amp;names);\nlet new_thread = thread::spawn(move || {\nprintln!(\"{}\", reference_data[1]);\n});\n</code></pre> <ul> <li>std::sync::Mutex\u3067\u3059\u3002\u3053\u306e\u578b\u306f\u3001\u30b9\u30ec\u30c3\u30c9\u304c\u5916\u90e8\u30c7\u30fc\u30bf\u3092\u5909\u7570\u3055\u305b\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002</li> </ul> <pre><code>use std::sync::Mutex;\nuse std::thread;\nlet count = Mutex::new(0);\nlet new_thread = thread::spawn(move || {\ncount.lock().unwrap() += 1;\n});\n</code></pre> <p>\u3053\u3053\u306e\u30b9\u30ec\u30c3\u30c9\u5185\u90e8\u3067\u306f\u3001\u30ed\u30c3\u30af\u306e\u7d50\u679c\u3092\u30c7\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3057\u3001\u305d\u308c\u3092\u30a2\u30f3\u30e9\u30c3\u30d7\u3057\u3001\u5909\u7570\u3055\u305b\u308b\u3002\u6ce8\u610f\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u306f\u3001\u5171\u6709\u72b6\u614b\u306f\u30ed\u30c3\u30af\u304c\u4fdd\u6301\u3055\u308c\u3066\u3044\u308b\u3068\u304d\u306b\u3057\u304b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u3053\u3068\u3067\u3059\u3002</p> <p>\u3053\u308c\u3067\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306f\u5341\u5206\u7406\u89e3\u3067\u304d\u305f\u306e\u3067\u3001Web\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u623b\u308a\u307e\u3057\u3087\u3046\u3002\u4e26\u884c\u51e6\u7406\u306b\u3064\u3044\u3066\u306f\u30011\u518a\u306e\u672c\u3067\u30ab\u30d0\u30fc\u3067\u304d\u308b\u5185\u5bb9\u3067\u3059\u3002\u300c\u3055\u3089\u306b\u8aad\u3080\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u3001\u305d\u306e\u3046\u3061\u306e1\u518a\u3092\u53c2\u7167\u3057\u307e\u3057\u305f\u3002Rust\u306e\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u77e5\u8b58\u304c\u3001Actix Web\u30b5\u30fc\u30d0\u30fc\u306e\u7406\u89e3\u306b\u3069\u306e\u3088\u3046\u306b\u5f71\u97ff\u3059\u308b\u306e\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u4eca\u306fWeb\u958b\u767a\u306b\u304a\u3051\u308bRust\u306e\u63a2\u6c42\u306b\u623b\u3089\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002</p>"},{"location":"3_HandlingHTTPRequests/UnderstandingAsynchronousProgramming/","title":"3.5 - \u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u7406\u89e3","text":""},{"location":"3_HandlingHTTPRequests/UnderstandingAsynchronousProgramming/#_1","title":"\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u7406\u89e3","text":"<p>\u3053\u306e\u7ae0\u307e\u3067\u3001\u79c1\u305f\u3061\u306f\u30b3\u30fc\u30c9\u3092\u9010\u6b21\u7684\u306b\u66f8\u3044\u3066\u304d\u307e\u3057\u305f\u3002\u6a19\u6e96\u7684\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3042\u308c\u3070\u3053\u308c\u3067\u5341\u5206\u3067\u3059\u3002\u3057\u304b\u3057\u3001Web\u958b\u767a\u3067\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u4f55\u5ea6\u3082\u3042\u3063\u305f\u308a\u3001API\u547c\u3073\u51fa\u3057\u3067\u30a2\u30a4\u30c9\u30eb\u30bf\u30a4\u30e0\u304c\u767a\u751f\u3057\u305f\u308a\u3059\u308b\u305f\u3081\u3001\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u304c\u91cd\u8981\u3067\u3059\u3002Python\u306a\u3069\u306e\u4ed6\u306e\u8a00\u8a9e\u3067\u306f\u3001\u975e\u540c\u671f\u306e\u6982\u5ff5\u306b\u89e6\u308c\u308b\u3053\u3068\u306a\u304fWeb\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3067\u304d\u308b\u3082\u306e\u3082\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3089\u306eWeb\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u306f\u3001\u975e\u540c\u671f\u306e\u6982\u5ff5\u306f\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306e\u3001\u305d\u306e\u5b9f\u88c5\u306f\u30dc\u30f3\u30cd\u30c3\u30c8\u306e\u4e2d\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3002\u3053\u308c\u306fRust\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306eRocket\u306b\u3082\u8a00\u3048\u308b\u3053\u3068\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u307e\u3067\u898b\u3066\u304d\u305f\u3088\u3046\u306b\u3001Actix Web\u3067\u306f\u76f4\u63a5\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u975e\u540c\u671f\u30b3\u30fc\u30c9\u3092\u6d3b\u7528\u3059\u308b\u5834\u5408\u3001\u79c1\u305f\u3061\u304c\u7406\u89e3\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u4e3b\u306a\u6982\u5ff5\u306f2\u3064\u3042\u308a\u307e\u3059\u3002</p> \u30d7\u30ed\u30bb\u30b9\u30d7\u30ed\u30bb\u30b9\u3068\u306f\u3001\u5b9f\u884c\u4e2d\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u3053\u3068\u3067\u3059\u3002\u72ec\u81ea\u306e\u30e1\u30e2\u30ea\u30b9\u30bf\u30c3\u30af\u3001\u5909\u6570\u7528\u30ec\u30b8\u30b9\u30bf\u3001\u30b3\u30fc\u30c9\u3092\u6301\u3064\u3002 \u30b9\u30ec\u30c3\u30c9\u30b9\u30ec\u30c3\u30c9\u306f\u3001\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306b\u3088\u3063\u3066\u72ec\u7acb\u3057\u3066\u7ba1\u7406\u3055\u308c\u308b\u8efd\u91cf\u306a\u30d7\u30ed\u30bb\u30b9\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u30b9\u30ec\u30c3\u30c9\u306f\u4ed6\u306e\u30b9\u30ec\u30c3\u30c9\u3084\u30e1\u30a4\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u30c7\u30fc\u30bf\u3001\u30b3\u30fc\u30c9\u3001\u30d2\u30fc\u30d7\u3092\u5171\u6709\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u30b9\u30ec\u30c3\u30c9\u306f\u30b9\u30bf\u30c3\u30af\u3092\u5171\u6709\u3057\u307e\u305b\u3093\u3002 <p>\u3053\u308c\u3092\u793a\u3059\u306e\u304c\u3001\u6b21\u306e\u3088\u3046\u306a\u53e4\u5178\u7684\u306a\u56f3\u3067\u3042\u308b\u3002</p> <p>\u56f33.1 \u30b9\u30ec\u30c3\u30c9\u3068\u30d7\u30ed\u30bb\u30b9\u306e\u95a2\u4fc2 [source:Cburnett (2007) (https://commons.wikimedia.org/wiki/File:Multithreaded_process.svg), CC BY-SA 3.0 (https://creativecommons.org/licenses/by-sa/3.0/deed.en)].</p> <p>\u30b9\u30ec\u30c3\u30c9\u3068\u306f\u4f55\u304b\u3001\u30b9\u30ec\u30c3\u30c9\u304c\u30b3\u30fc\u30c9\u3068\u3069\u306e\u3088\u3046\u306a\u95a2\u4fc2\u306b\u3042\u308b\u306e\u304b\u3092\u9ad8\u30ec\u30d9\u30eb\u3067\u7406\u89e3\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u30b3\u30fc\u30c9\u306b\u30b9\u30ec\u30c3\u30c9\u3092\u6d3b\u7528\u3059\u308b\u65b9\u6cd5\u3092\u7406\u89e3\u3057\u3001\u30b9\u30ec\u30c3\u30c9\u306e\u52b9\u679c\u3092\u76f4\u63a5\u898b\u308b\u305f\u3081\u306b\u3001\u304a\u3082\u3061\u3083\u306e\u4f8b\u3067\u904a\u3076\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u53e4\u5178\u7684\u306a\u4f8b\u3068\u3057\u3066\u306f\u3001\u5358\u306b\u30b9\u30ea\u30fc\u30d7\u3057\u3066\u6642\u9593\u3092\u30d6\u30ed\u30c3\u30af\u3059\u308b\u57fa\u672c\u7684\u306a\u95a2\u6570\u3092\u4f5c\u308b\u3053\u3068\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u3088\u3046\u306a\u6642\u9593\u306e\u304b\u304b\u308b\u95a2\u6570\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u9010\u6b21\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use std::{thread, time};\nfn do_something(number: i8) -&gt; i8 {\nprintln!(\"number {} is running\", number);\nlet two_seconds = time::Duration::new(2, 0);\nthread::sleep(two_seconds);\nreturn 2\n}\nfn main() {\nlet now = time::Instant::now();\nlet one: i8 = do_something(1);\nlet two: i8 = do_something(2);\nlet three: i8 = do_something(3);\nprintln!(\"time elapsed {:?}\", now.elapsed());\nprintln!(\"result {}\", one + two + three);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>number 1 is running\nnumber 2 is running\nnumber 3 is running\ntime elapsed 6.0109845s\nresult 6\n</code></pre> <p>\u5148\u306e\u51fa\u529b\u3067\u306f\u3001\u6642\u9593\u306e\u304b\u304b\u308b\u95a2\u6570\u304c\u671f\u5f85\u901a\u308a\u306e\u9806\u5e8f\u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u5168\u4f53\u306e\u5b9f\u884c\u306b6\u79d2\u5f37\u304b\u304b\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u30012\u79d2\u305a\u3064\u30b9\u30ea\u30fc\u30d7\u3059\u308b\u9ad8\u4fa1\u306a\u95a2\u6570\u30923\u3064\u5b9f\u884c\u3057\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\u307e\u305f\u3001\u9ad8\u4fa1\u306a\u95a2\u6570\u306f\u50242\u3092\u8fd4\u3057\u307e\u3059\u30023\u3064\u306e\u9ad8\u4fa1\u306a\u95a2\u6570\u306e\u7d50\u679c\u3092\u3059\u3079\u3066\u8db3\u3057\u5408\u308f\u305b\u308b\u3068\u3001\u50246\u306e\u7d50\u679c\u304c\u5f97\u3089\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u30023\u3064\u306e\u30b9\u30ec\u30c3\u30c9\u3092\u540c\u6642\u306b\u8d77\u52d5\u3057\u3001\u30b9\u30ec\u30c3\u30c9\u306e\u5b8c\u4e86\u3092\u5f85\u3063\u3066\u6b21\u306b\u9032\u3080\u3053\u3068\u3067\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u5168\u4f53\u3092\u304a\u3088\u305d2\u79d2\u306b\u9ad8\u901f\u5316\u3057\u307e\u3057\u305f\u3002\u30b9\u30ec\u30c3\u30c9\u304c\u5b8c\u4e86\u3059\u308b\u306e\u3092\u5f85\u3063\u3066\u304b\u3089\u6b21\u306b\u9032\u3080\u3053\u3068\u3092\u7d50\u5408\u3068\u3044\u3044\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u30b9\u30ec\u30c3\u30c9\u3092\u56de\u8ee2\u3055\u305b\u59cb\u3081\u308b\u524d\u306b\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067join\u30cf\u30f3\u30c9\u30e9\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use std::thread::JoinHandle;\n</code></pre> <p>\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u3001\u30e1\u30a4\u30f3\u95a2\u6570\u306e\u4e2d\u3067\u30b9\u30ec\u30c3\u30c9\u3092\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <pre><code>let now = time::Instant::now();\nlet thread_one: JoinHandle&lt;i8&gt; = thread::spawn(|| do_something(1));\nlet thread_two: JoinHandle&lt;i8&gt; = thread::spawn(|| do_something(2));\nlet thread_three: JoinHandle&lt;i8&gt; = thread::spawn(|| do_something(3));\nlet result_one = thread_one.join();\nlet result_two = thread_two.join();\nlet result_three = thread_three.join();\nprintln!(\"time elapsed {:?}\", now.elapsed());\nprintln!(\"result {}\", result_one.unwrap() +\u00a0result_two.unwrap() + result_three.unwrap());\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>number 1 is running\nnumber 3 is running\nnumber 2 is running\ntime elapsed 2.002991041s\nresult 6\n</code></pre> <p>\u898b\u3066\u306e\u901a\u308a\u3001\u5168\u4f53\u306e\u51e6\u7406\u306b2\u79d2\u5f37\u306e\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u30013\u3064\u306e\u30b9\u30ec\u30c3\u30c9\u304c\u3059\u3079\u3066\u540c\u6642\u306b\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\u307e\u305f\u3001\u30b9\u30ec\u30c3\u30c93\u306f\u30b9\u30ec\u30c3\u30c92\u306e\u524d\u306b\u767a\u5c04\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u30021\u30012\u30013\u3068\u3044\u3046\u9806\u756a\u306b\u306a\u3063\u305f\u3068\u3057\u3066\u3082\u5fc3\u914d\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30b9\u30ec\u30c3\u30c9\u306f\u4e0d\u5b9a\u306a\u9806\u5e8f\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\u306f\u6c7a\u5b9a\u8ad6\u7684\u3067\u3059\u304c\u3001CPU\u306b\u4f55\u304b\u3092\u3055\u305b\u308b\u3088\u3046\u306a\u30a4\u30d9\u30f3\u30c8\u304c\u4f55\u5343\u3082\u88cf\u3067\u8d77\u3053\u3063\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u3001\u5404\u30b9\u30ec\u30c3\u30c9\u304c\u53d6\u5f97\u3059\u308b\u6b63\u78ba\u306a\u30bf\u30a4\u30e0\u30b9\u30e9\u30a4\u30b9\u306f\u6c7a\u3057\u3066\u540c\u3058\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u3088\u3046\u306a\u5c0f\u3055\u306a\u5909\u5316\u304c\u7a4d\u307f\u91cd\u306a\u3063\u3066\u3044\u304f\u306e\u3067\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u30b9\u30ec\u30c3\u30c9\u304c\u78ba\u5b9a\u7684\u306a\u9806\u5e8f\u3067\u7d42\u4e86\u3059\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002</p> <p>\u30b9\u30ec\u30c3\u30c9\u3092\u30b9\u30d4\u30f3\u30aa\u30d5\u3059\u308b\u65b9\u6cd5\u3092\u632f\u308a\u8fd4\u308b\u3068\u3001\u30b9\u30ec\u30c3\u30c9\u306b\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u6e21\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3082\u3057\u3001do_something\u95a2\u6570\u3092\u30b9\u30ec\u30c3\u30c9\u306b\u6e21\u305d\u3046\u3068\u3059\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u304cFnOnce&lt;()&gt;\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u671f\u5f85\u3057\u305f\u306e\u306b\u3001\u4ee3\u308f\u308a\u306bi8\u304c\u898b\u3064\u304b\u3063\u305f\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u3002\u3053\u308c\u306f\u3001\u6a19\u6e96\u7684\u306a\u30af\u30ed\u30fc\u30b8\u30e3\u304cFnOnce&lt;()&gt; public trait\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u306e\u306b\u5bfe\u3057\u3001do_something\u95a2\u6570\u304c\u5358\u306bi8\u3092\u8fd4\u3059\u304b\u3089\u3067\u3059\u3002FnOnce&lt;()&gt;\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306f\u4e00\u5ea6\u3057\u304b\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u3064\u307e\u308a\u3001\u30b9\u30ec\u30c3\u30c9\u3092\u4f5c\u6210\u3059\u308b\u3068\u304d\u306b\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u304c\u4e00\u5ea6\u3060\u3051\u547c\u3073\u51fa\u3055\u308c\u3001\u305d\u308c\u304c\u8fd4\u3055\u308c\u305f\u3068\u304d\u306b\u30b9\u30ec\u30c3\u30c9\u304c\u7d42\u4e86\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002do_something\u95a2\u6570\u306f\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u6700\u7d42\u884c\u306a\u306e\u3067\u3001i8\u304c\u8fd4\u3055\u308c\u307e\u3059\u3002\u305f\u3060\u3057\u3001FnOnce&lt;()&gt; trait\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u304b\u3089\u3068\u3044\u3063\u3066\u3001\u8907\u6570\u56de\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u306e\u7279\u6027\u306f\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u5fc5\u8981\u3068\u3059\u308b\u5834\u5408\u306b\u306e\u307f\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30b9\u30ec\u30c3\u30c9\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306e\u5916\u3067\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u547c\u3073\u51fa\u3059\u3068\u3057\u305f\u3089\u3001\u8907\u6570\u56de\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002</p> <p>\u307e\u305f\u3001\u7d50\u679c\u3092\u76f4\u63a5\u30a2\u30f3\u30e9\u30c3\u30d7\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u3082\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u3053\u3068\u304b\u3089\u3001JoinHandle\u69cb\u9020\u4f53\u306ejoin\u95a2\u6570\u306fResult\u3092\u8fd4\u3059\u3053\u3068\u304c\u63a8\u6e2c\u3055\u308c\u3001Result\u306fErr\u307e\u305f\u306fOk\u3067\u3042\u308b\u3053\u3068\u3082\u5206\u304b\u3063\u3066\u3044\u307e\u3059\u3002\u5358\u306b\u30b9\u30ea\u30fc\u30d7\u3057\u3066\u6574\u6570\u3092\u8fd4\u3059\u3060\u3051\u306a\u306e\u3067\u3001\u7d50\u679c\u3092\u76f4\u63a5\u30a2\u30f3\u30e9\u30c3\u30d7\u3057\u3066\u3082\u554f\u984c\u306a\u3044\u3053\u3068\u304c\u5206\u304b\u3063\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u7d50\u679c\u3092\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u305f\u3068\u3053\u308d\u3001\u78ba\u304b\u306b\u6574\u6570\u3067\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u30a8\u30e9\u30fc\u306f\u671f\u5f85\u3059\u308b\u3088\u3046\u306a\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002Result\u306e\u578b\u306f\u3001Result&gt;\u3067\u3059\u3002Box\u306f\u3059\u3067\u306b\u77e5\u3063\u3066\u3044\u307e\u3059\u304c\u3001dyn Any + Send\u306f\u65b0\u3057\u3044\u3088\u3046\u3067\u3059\u3002dyn\u306f\u3001\u3069\u306e\u3088\u3046\u306a\u7a2e\u985e\u306e\u5f62\u8cea\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u793a\u3059\u305f\u3081\u306b\u4f7f\u7528\u3059\u308b\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u3059\u3002Any\u3068Send\u306f\u3001\u5b9f\u88c5\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u30442\u3064\u306e\u7279\u6027\u3067\u3042\u308b\u3002Any\u306f\u52d5\u7684\u578b\u4ed8\u3051\u3067\u3001\u30c7\u30fc\u30bf\u578b\u306f\u4f55\u3067\u3082\u3044\u3044\u3068\u3044\u3046\u610f\u5473\u3067\u3059\u3002Send\u7279\u6027\u306f\u3001\u3042\u308b\u30b9\u30ec\u30c3\u30c9\u304b\u3089\u5225\u306e\u30b9\u30ec\u30c3\u30c9\u306b\u79fb\u52d5\u3057\u3066\u3082\u5b89\u5168\u3067\u3042\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\u307e\u305f\u3001Send trait\u306f\u3001\u3042\u308b\u30b9\u30ec\u30c3\u30c9\u304b\u3089\u5225\u306e\u30b9\u30ec\u30c3\u30c9\u306b\u30b3\u30d4\u30fc\u3057\u3066\u3082\u5b89\u5168\u3067\u3042\u308b\u3053\u3068\u3092\u610f\u5473\u3059\u308b\u3002\u3064\u307e\u308a\u3001\u79c1\u305f\u3061\u304c\u9001\u3063\u3066\u3044\u308b\u3082\u306e\u306f\u3001\u30b9\u30ec\u30c3\u30c9\u9593\u3067\u9001\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u305f\u3081\u3001Copy trait\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u3053\u3068\u3092\u7406\u89e3\u3057\u305f\u4e0a\u3067\u3001\u30b9\u30ec\u30c3\u30c9\u306e\u7d50\u679c\u3092\u51e6\u7406\u3059\u308b\u306b\u306f\u3001\u5358\u306bResult\u306e\u7d50\u679c\u3092\u30de\u30c3\u30c1\u30f3\u30b0\u3057\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30a8\u30e9\u30fc\u3092\u6587\u5b57\u5217\u306b\u30c0\u30a6\u30f3\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d6\u5f97\u3059\u308c\u3070\u3088\u3044\u3002 <pre><code>match thread_result {\nOk(result) =&gt; {\nprintln!(\"the result for {} is {}\", result, name);\n}\nErr(result) =&gt; {\nif let Some(string) = result.downcast_ref::&lt;String&gt;() {\nprintln!(\"the error for {} is: {}\", name, string);\n} else {\nprintln!(\"there error for {} does not have a \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0message\", name);\n}\n}\n}\n</code></pre> <p>\u524d\u8ff0\u306e\u30b3\u30fc\u30c9\u306b\u3088\u308a\u3001\u30b9\u30ec\u30c3\u30c9\u306e\u7d50\u679c\u3092\u512a\u96c5\u306b\u7ba1\u7406\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30b9\u30ec\u30c3\u30c9\u306e\u5931\u6557\u3092\u8a18\u9332\u3057\u305f\u308a\u3001\u4ee5\u524d\u306e\u30b9\u30ec\u30c3\u30c9\u306e\u7d50\u679c\u306b\u57fa\u3065\u3044\u3066\u65b0\u3057\u3044\u30b9\u30ec\u30c3\u30c9\u3092\u7acb\u3061\u4e0a\u3052\u305f\u308a\u3059\u308b\u3053\u3068\u3092\u59a8\u3052\u308b\u3082\u306e\u306f\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u3088\u3046\u306b\u3001Result\u69cb\u9020\u4f53\u304c\u3044\u304b\u306b\u5f37\u529b\u3067\u3042\u308b\u304b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u30b9\u30ec\u30c3\u30c9\u306b\u540d\u524d\u3092\u3064\u3051\u305f\u308a\u3001\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u4f7f\u3063\u3066\u30b9\u30ec\u30c3\u30c9\u9593\u3067\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u6e21\u3057\u3057\u305f\u308a\u3068\u3001\u30b9\u30ec\u30c3\u30c9\u3067\u3067\u304d\u308b\u3053\u3068\u306f\u307e\u3060\u307e\u3060\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u672c\u66f8\u306e\u7126\u70b9\u306fWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3067\u3042\u308a\u3001\u9ad8\u5ea6\u306a\u4e26\u884c\u51e6\u7406\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3084\u6982\u5ff5\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u30c6\u30fc\u30de\u306b\u95a2\u3059\u308b\u3055\u3089\u306a\u308b\u8aad\u307f\u7269\u304c\u7ae0\u672b\u306b\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u3053\u308c\u3067\u3001Rust\u3067\u30b9\u30ec\u30c3\u30c9\u3092\u7acb\u3061\u4e0a\u3052\u308b\u65b9\u6cd5\u3001\u30b9\u30ec\u30c3\u30c9\u304c\u8fd4\u3059\u3082\u306e\u3001\u305d\u3057\u3066\u30b9\u30ec\u30c3\u30c9\u3092\u51e6\u7406\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u7406\u89e3\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u306e\u60c5\u5831\u3092\u3082\u3068\u306b\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306easync\u3068await\u306e\u69cb\u6587\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u306b\u9032\u307f\u307e\u3059\u3002\u3053\u306e\u69cb\u6587\u306fActix Web\u30b5\u30fc\u30d0\u3067\u4f7f\u7528\u3055\u308c\u308b\u3082\u306e\u3067\u3059\u3002  </p>"},{"location":"3_HandlingHTTPRequests/UnderstandingClosures/","title":"3.4 - \u30af\u30ed\u30fc\u30b8\u30e3\u3092\u7406\u89e3\u3059\u308b","text":""},{"location":"3_HandlingHTTPRequests/UnderstandingClosures/#_1","title":"\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u7406\u89e3\u3059\u308b","text":"<p>\u30af\u30ed\u30fc\u30b8\u30e3\u306f\u57fa\u672c\u7684\u306b\u95a2\u6570\u3067\u3059\u304c\u3001\u540d\u524d\u3092\u6301\u305f\u306a\u3044\u533f\u540d\u95a2\u6570\u3067\u3082\u3042\u308a\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u95a2\u6570\u3084\u69cb\u9020\u4f53\u306b\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u53d7\u3051\u6e21\u3057\u306b\u3064\u3044\u3066\u6398\u308a\u4e0b\u3052\u308b\u524d\u306b\u3001\u7a7a\u306eRust\u30d7\u30ed\u30b0\u30e9\u30e0\uff08\u304a\u597d\u307f\u3067Rust\u30d7\u30ec\u30a4\u30b0\u30e9\u30a6\u30f3\u30c9\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\uff09\u306b\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u57fa\u672c\u7684\u306a\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u5b9a\u7fa9\u3057\u3066\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <pre><code>fn main() {\nlet test_closure = |string_input| {\nprintln!(\"{}\", string_input);\n};\ntest_closure(\"test\");\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>test\n</code></pre> <p>\u5148\u306e\u51fa\u529b\u3067\u306f\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u304c\u95a2\u6570\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u5165\u529b\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306b\u4e2d\u62ec\u5f27\u3092\u4f7f\u3046\u4ee3\u308f\u308a\u306b\u3001\u30d1\u30a4\u30d7\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u5148\u307b\u3069\u306e\u30af\u30ed\u30fc\u30b8\u30e3\u3067\u3001string_input\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30c7\u30fc\u30bf\u578b\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u306b\u304a\u6c17\u3065\u304d\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u3053\u306e\u30b3\u30fc\u30c9\u306f\u307e\u3060\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30c7\u30fc\u30bf\u578b\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u95a2\u6570\u3068\u306f\u7570\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u95a2\u6570\u304c\u30e6\u30fc\u30b6\u30fc\u306b\u516c\u958b\u3055\u308c\u308b\u660e\u793a\u7684\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u4e00\u90e8\u3067\u3042\u308b\u305f\u3081\u3067\u3059\u3002\u30b3\u30fc\u30c9\u304c\u95a2\u6570\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u95a2\u6570\u306f\u30b3\u30fc\u30c9\u5185\u306e\u3069\u3053\u304b\u3089\u3067\u3082\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4e00\u65b9\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306f\u5bff\u547d\u304c\u77ed\u304f\u3001\u305d\u306e\u30b9\u30b3\u30fc\u30d7\u306b\u3057\u304b\u95a2\u4fc2\u3057\u306a\u3044\u3002\u3053\u306e\u305f\u3081\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u30b9\u30b3\u30fc\u30d7\u5185\u3067\u306e\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u4f7f\u7528\u72b6\u6cc1\u304b\u3089\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306b\u6e21\u3055\u308c\u308b\u578b\u3092\u63a8\u6e2c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u547c\u3073\u51fa\u3059\u3068\u304d\u306b&amp;str\u3092\u6e21\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306fstring_input\u306e\u578b\u304c&amp;str\u3067\u3042\u308b\u3053\u3068\u3092\u77e5\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u4fbf\u5229\u306a\u3053\u3068\u3067\u3059\u304c\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306f\u6c4e\u7528\u7684\u3067\u306f\u306a\u3044\u3053\u3068\u3092\u77e5\u3063\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306f\u5177\u4f53\u7684\u306a\u578b\u3092\u6301\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u5b9a\u7fa9\u3057\u305f\u5f8c\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <pre><code>\u00a0\u00a0\u00a0\u00a0test_closure(\"test\");\n\u00a0\u00a0\u00a0\u00a0test_closure(23);\n</code></pre> <p>\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u3002</p> <pre><code>7 |\u00a0\u00a0\u00a0\u00a0\u00a0test_closure(23);\n\u00a0\u00a0|\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0^^\u00a0expected `&amp;str`, found integer\n</code></pre> <p>\u3053\u306e\u30a8\u30e9\u30fc\u306f\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u6700\u521d\u306e\u547c\u3073\u51fa\u3057\u306b\u3088\u3063\u3066\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u300c&amp;str\u300d\u3092\u671f\u5f85\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u4f1d\u308f\u308a\u30012\u56de\u76ee\u306e\u547c\u3073\u51fa\u3057\u306b\u3088\u3063\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u51e6\u7406\u304c\u4e2d\u65ad\u3055\u308c\u308b\u305f\u3081\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <p>\u30b9\u30b3\u30fc\u30d7\u304c\u5f71\u97ff\u3059\u308b\u306e\u306f\u30af\u30ed\u30fc\u30b8\u30e3\u3060\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30af\u30ed\u30fc\u30b8\u30e3\u306f\u5909\u6570\u3068\u540c\u3058\u30b9\u30b3\u30fc\u30d7\u30eb\u30fc\u30eb\u306b\u5f93\u3044\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u307f\u3088\u3046\u3068\u3057\u305f\u3068\u3057\u307e\u3059\u3002</p> <pre><code>fn main() {\n{\nlet test_closure = |string_input| {\nprintln!(\"{}\", string_input);\n};\n}\ntest_closure(\"test\");\n}\n</code></pre> <p>\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u547c\u3073\u51fa\u305d\u3046\u3068\u3059\u308b\u3068\u3001\u547c\u3073\u51fa\u3057\u306e\u30b9\u30b3\u30fc\u30d7\u306b\u5165\u3089\u306a\u3044\u306e\u3067\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u62d2\u5426\u3055\u308c\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u3092\u8003\u3048\u308b\u3068\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306b\u306f\u4ed6\u306e\u30b9\u30b3\u30fc\u30d7\u30eb\u30fc\u30eb\u304c\u9069\u7528\u3055\u308c\u308b\u3068\u8003\u3048\u308b\u306e\u304c\u6b63\u3057\u3044\u3067\u3057\u3087\u3046\u3002\u4f8b\u3048\u3070\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3088\u3046\u3068\u3057\u305f\u3089\u3001\u3069\u3046\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u304b\uff1f</p> <pre><code>fn main() {\nlet another_str = \"case\";\nlet test_closure = |string_input| {\nprintln!(\"{} {}\", string_input, another_str);\n};\ntest_closure(\"test\");\n}\n</code></pre> <p>\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u308b\u3068\u601d\u3063\u305f\u3089\u3001\u305d\u306e\u901a\u308a\u3067\u3057\u305f\u306d\u3002</p> <pre><code>test case\n</code></pre> <p>\u95a2\u6570\u3068\u306f\u7570\u306a\u308a\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306f\u81ea\u5206\u306e\u30b9\u30b3\u30fc\u30d7\u5185\u306e\u5909\u6570\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u79c1\u305f\u3061\u304c\u7406\u89e3\u3067\u304d\u308b\u3088\u3046\u306b\u5358\u7d14\u5316\u3057\u3066\u8aac\u660e\u3059\u308b\u3068\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306f\u30b9\u30b3\u30fc\u30d7\u5185\u306e\u52d5\u7684\u5909\u6570\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3001\u8a08\u7b97\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u547c\u3073\u51fa\u3059\u3082\u306e\u3067\u3059\u3002</p> <p>\u6b21\u306e\u30b3\u30fc\u30c9\u306e\u3088\u3046\u306b\u3001move\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u3067\u4f7f\u7528\u3059\u308b\u5916\u90e8\u5909\u6570\u3092\u6240\u6709\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>let test_closure = move |string_input| {\nprintln!(\"{} {}\", string_input, another_str);\n};\n</code></pre> <p>\u3053\u3053\u3067\u5b9a\u7fa9\u3057\u305f\u30af\u30ed\u30fc\u30b8\u30e3\u3067\u306fmove\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001test_closure\u304canother_str\u306e\u6240\u6709\u6a29\u3092\u53d6\u5f97\u3057\u3001test_closure\u5ba3\u8a00\u5f8c\u306banother_str\u5909\u6570\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002</p> <p>\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u95a2\u6570\u306b\u6e21\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001\u95a2\u6570\u3092\u4ed6\u306e\u95a2\u6570\u306b\u6e21\u3059\u3053\u3068\u3082\u3067\u304d\u308b\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u3001\u95a2\u6570\u3092\u4ed6\u306e\u95a2\u6570\u306b\u6e21\u3059\u3053\u3068\u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</p> <pre><code>fn add_doubles(closure: fn(i32) -&gt; i32, one: i32, two: i32) -&gt; i32 {\nreturn closure(one) + closure(two)\n}\nfn main() {\nlet closure = |int_input| {\nreturn int_input * 2\n};\nlet outcome = add_doubles(closure, 2, 3);\nprintln!(\"{}\", outcome);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u6e21\u3055\u308c\u305f\u6574\u6570\u30922\u500d\u306b\u3057\u3066\u8fd4\u3059\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3053\u308c\u3092add_doubles\u95a2\u6570\u306bfn(i32)-&gt;i32\u3068\u3044\u3046\u8868\u8a18\u3067\u6e21\u3057\u3066\u3044\u307e\u3059\uff08\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3068\u3057\u3066\u77e5\u3089\u308c\u3066\u3044\u307e\u3059\uff09\u3002\u30af\u30ed\u30fc\u30b8\u30e3\u306b\u95a2\u3057\u3066\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u7279\u5fb4\u3092\u6301\u3064\u3082\u306e\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <ul> <li>Fn:\u4e0d\u5909\u7684\u306b\u5909\u6570\u3092\u501f\u7528\u3059\u308b</li> <li>FnMut\u3002\u5909\u6570\u3092\u76f8\u4e92\u306b\u501f\u7528\u3059\u308b</li> <li>FnOnce: \u5909\u6570\u306e\u6240\u6709\u6a29\u3092\u6301\u3061\u3001\u4e00\u5ea6\u3060\u3051\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3002</li> </ul> <p>add_doubles\u95a2\u6570\u306b\u3001\u5148\u306e\u7279\u5fb4\u306e\u3044\u305a\u308c\u304b\u3092\u5b9f\u88c5\u3057\u305f\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u6e21\u3059\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002</p> <pre><code>fn add_doubles(closure: Box&lt;dyn Fn(i32) -&gt; i32&gt;, one: i32, two: i32) -&gt; i32 {\nreturn closure(one) + closure(two)\n}\nfn main() {\nlet one = 2;\nlet closure = move |int_input| {\nreturn int_input * one\n};\nlet outcome = add_doubles(Box::new(closure), 2, 3);\nprintln!(\"{}\", outcome);\n}\n</code></pre> <p>\u3053\u3053\u3067\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u95a2\u6570\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304cBox i32&gt;\u30b7\u30b0\u30cd\u30c1\u30e3\u3092\u6301\u3064\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001add_doubles\u95a2\u6570\u304c\u3001i32\u3092\u53d7\u3051\u53d6\u308a\u3001i32\u3092\u8fd4\u3059Fn\u7279\u6027\u3092\u5b9f\u88c5\u3057\u305f\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u53d7\u3051\u5165\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002Box\u69cb\u9020\u4f53\u306f\u30b9\u30de\u30fc\u30c8\u30dd\u30a4\u30f3\u30bf\u30fc\u3067\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u30b5\u30a4\u30ba\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u308f\u304b\u3089\u306a\u3044\u305f\u3081\u3001\u30d2\u30fc\u30d7\u306b\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u914d\u7f6e\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u5b9a\u7fa9\u3059\u308b\u969b\u306bmove\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3082\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u5916\u5074\u306b\u3042\u308b1\u3064\u306e\u5909\u6570\u3092\u4f7f\u3046\u305f\u3081\u3067\u3059\u3002\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u5b9a\u7fa9\u306bmove\u3092\u4f7f\u7528\u3057\u305f\u305f\u3081\u30011\u3064\u306e\u5909\u6570\u306f\u5341\u5206\u306a\u5bff\u547d\u3092\u6301\u305f\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u304c\u305d\u306e\u6240\u6709\u6a29\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 <p>\u30af\u30ed\u30fc\u30b8\u30e3\u306b\u3064\u3044\u3066\u5b66\u3093\u3060\u3053\u3068\u3092\u5ff5\u982d\u306b\u7f6e\u3044\u3066\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30b5\u30fc\u30d0\u30fc\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30e1\u30a4\u30f3\u95a2\u6570\u3092\u3082\u3046\u4e00\u5ea6\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <pre><code>#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\nHttpServer::new(|| {\nApp::new()\n.route(\"/\", web::get().to(greet))\n.route(\"/{name}\", web::get().to(greet))\n.route(\"/say/hello\", web::get().to(|| async { \"Hello Again!\" }))\n})\n.bind(\"127.0.0.1:8080\")?\n.run()\n.await\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001HttpServer::new\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066HttpServer\u3092\u69cb\u7bc9\u3057\u305f\u5f8c\u3001\u5b9f\u884c\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u73fe\u5728\u308f\u304b\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u3001App\u69cb\u9020\u4f53\u3092\u8fd4\u3059\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u6e21\u3057\u3066\u3044\u308b\u3053\u3068\u3067\u3059\u3002\u30af\u30ed\u30fc\u30b8\u30e3\u306b\u3064\u3044\u3066\u77e5\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u8e0f\u307e\u3048\u308c\u3070\u3001\u3053\u306e\u30b3\u30fc\u30c9\u3067\u884c\u3046\u3053\u3068\u306b\u3082\u3063\u3068\u81ea\u4fe1\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30af\u30ed\u30fc\u30b8\u30e3\u304cApp\u69cb\u9020\u4f53\u3092\u8fd4\u3059\u306e\u3067\u3042\u308c\u3070\u3001\u57fa\u672c\u7684\u306b\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u4e2d\u3067\u597d\u304d\u306a\u3053\u3068\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u3053\u3068\u3092\u5ff5\u982d\u306b\u7f6e\u3044\u3066\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30d7\u30ed\u30bb\u30b9\u306b\u95a2\u3059\u308b\u3088\u308a\u591a\u304f\u306e\u60c5\u5831\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\nHttpServer::new(|| {\nprintln!(\"http server factory is firing\");\nApp::new()\n.route(\"/\", web::get().to(greet))\n.route(\"/{name}\", web::get().to(greet))\n.route(\"/say/hello\", web::get().to(|| async { \"Hello Again!\" }))\n})\n.bind(\"127.0.0.1:8080\")?\n.workers(3)\n.run()\n.await\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u304c\u767a\u706b\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u4f1d\u3048\u308b\u305f\u3081\u306bprint\u6587\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001workers\u3068\u3044\u3046\u5225\u306e\u95a2\u6570\u3082\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u4f5c\u6210\u306b\u4f7f\u7528\u3055\u308c\u308b\u30ef\u30fc\u30ab\u30fc\u306e\u6570\u3092\u5b9a\u7fa9\u3067\u304d\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u4e2d\u3067\u30b5\u30fc\u30d0\u30fc\u30d5\u30a1\u30af\u30c8\u30ea\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u5148\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>\u00a0\u00a0\u00a0\u00a0Finished dev [unoptimized + debuginfo] target(s) in 2.45s\n\u00a0\u00a0\u00a0\u00a0\u00a0Running `target/debug/web_app`\nhttp server factory is firing\nhttp server factory is firing\nhttp server factory is firing\n</code></pre> <p>\u5148\u306e\u7d50\u679c\u306f\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u304c3\u56de\u767a\u5c04\u3055\u308c\u305f\u3053\u3068\u3092\u7269\u8a9e\u3063\u3066\u3044\u307e\u3059\u3002workers\u306e\u6570\u3092\u5909\u66f4\u3059\u308b\u3068\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u8d77\u52d5\u56de\u6570\u3068\u76f4\u63a5\u7684\u306a\u95a2\u4fc2\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3082\u3057workers\u95a2\u6570\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u30b3\u30a2\u6570\u306b\u5fdc\u3058\u3066\u30af\u30ed\u30fc\u30b8\u30e3\u304c\u8d77\u52d5\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u6b21\u7bc0\u3067\u306f\u3001\u3053\u306e\u30ef\u30fc\u30ab\u30fc\u304c\u30b5\u30fc\u30d0\u30fc\u30d7\u30ed\u30bb\u30b9\u306b\u3069\u306e\u3088\u3046\u306b\u9069\u5408\u3057\u3066\u3044\u308b\u304b\u3092\u63a2\u308a\u307e\u3059\u3002</p> <p>App struct\u306e\u69cb\u7bc9\u306b\u95a2\u3059\u308b\u30cb\u30e5\u30a2\u30f3\u30b9\u3092\u7406\u89e3\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u3044\u3088\u3044\u3088\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u69cb\u9020\u306e\u4e3b\u306a\u5909\u66f4\u70b9\u3067\u3042\u308b\u975e\u540c\u671f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u3064\u3044\u3066\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"4_ProcessingHTTPRequests/","title":"4 - HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406","text":""},{"location":"4_ProcessingHTTPRequests/#http","title":"HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406","text":"<p>\u3053\u3053\u307e\u3067\u306f\u3001\u57fa\u672c\u7684\u306a\u30d3\u30e5\u30fc\u3092\u63d0\u4f9b\u3059\u308b\u305f\u3081\u306bActix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u5229\u7528\u3057\u3066\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u3068\u306a\u308b\u3068\u3001\u3053\u308c\u3060\u3051\u3067\u306f\u9650\u754c\u304c\u3042\u308a\u307e\u3059\u3002\u672c\u7ae0\u3067\u306f\u3001\u7b2c2\u7ae0\u300cRust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u8a08\u3059\u308b\u300d\u3068\u7b2c3\u7ae0\u300cHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3059\u308b\u300d\u306e\u30b3\u30fc\u30c9\u3092\u878d\u5408\u3057\u3001ToDo\u9805\u76ee\u3092\u51e6\u7406\u3059\u308b\u30b5\u30fc\u30d0\u30d3\u30e5\u30fc\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30d3\u30e5\u30fc\u3092\u3088\u308a\u4f7f\u3044\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u306b\u3001\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u3066\u8fd4\u3059\u305f\u3081\u306eJSON\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u63a2\u6c42\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u30d3\u30e5\u30fc\u306b\u8868\u793a\u3055\u308c\u308b\u524d\u306b\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3067\u30d8\u30c3\u30c0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002ToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\u3001\u7de8\u96c6\u3001\u524a\u9664\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3068\u30ea\u30af\u30a8\u30b9\u30c8\u304b\u3089\u306e\u30c7\u30fc\u30bf\u306e\u62bd\u51fa\u306b\u95a2\u3059\u308b\u6982\u5ff5\u3092\u63a2\u6c42\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u9805\u76ee\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p> <ul> <li>\u30b3\u30fc\u30c9\u3092\u5b9a\u7740\u3055\u305b\u308b\u305f\u3081\u306e\u521d\u671f\u8a2d\u5b9a\u3092\u77e5\u308b</li> <li>\u30d3\u30e5\u30fc\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059</li> <li>JSON\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u305f\u3081\u306e\u30de\u30af\u30ed\u306e\u4f7f\u7528</li> <li>\u30d3\u30e5\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b</li> </ul> <p>\u3053\u306e\u7ae0\u3092\u7d42\u3048\u308b\u3068\u3001URL\u3001JSON\u3092\u4f7f\u3063\u305f\u30dc\u30c7\u30a3\u3001HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d8\u30c3\u30c0\u30fc\u3067\u30c7\u30fc\u30bf\u3092\u9001\u53d7\u4fe1\u3067\u304d\u308b\u57fa\u672c\u7684\u306aRust\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u57fa\u672c\u7684\u306b\u3001\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306e\u9069\u5207\u306a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3001\u30e6\u30fc\u30b6\u30fc\u3092\u8a8d\u8a3c\u3059\u308b\u6a5f\u80fd\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\u6a5f\u80fd\u3092\u6301\u305f\u306a\u3044\u3001\u5b8c\u5168\u306b\u6a5f\u80fd\u3059\u308bAPI Rust\u30b5\u30fc\u30d0\u30fc\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u3089\u306e\u30b3\u30f3\u30bb\u30d7\u30c8\u306f\u6b21\u306e3\u3064\u306e\u7ae0\u3067\u30ab\u30d0\u30fc\u3055\u308c\u307e\u3059\u3002\u3042\u306a\u305f\u306f\u3001\u5b8c\u5168\u306b\u52d5\u4f5c\u3059\u308bRust\u30b5\u30fc\u30d0\u3092\u7a3c\u50cd\u3055\u305b\u308b\u305f\u3081\u306e\u30db\u30fc\u30e0\u30e9\u30f3\u3092\u8e0f\u3093\u3067\u3044\u307e\u3059\u3002\u3055\u3063\u305d\u304f\u59cb\u3081\u3066\u307f\u307e\u3057\u3087\u3046</p>"},{"location":"4_ProcessingHTTPRequests/ExtractingDataFromViews/","title":"4.5 - \u30d3\u30e5\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b","text":""},{"location":"4_ProcessingHTTPRequests/ExtractingDataFromViews/#_1","title":"\u30d3\u30e5\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b","text":"<p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d8\u30c3\u30c0\u30fc\u3068\u30dc\u30c7\u30a3\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3053\u308c\u3089\u306e\u65b9\u6cd5\u3092\u4f7f\u7528\u3057\u3066\u3001ToDo\u9805\u76ee\u3092\u7de8\u96c6\u3001\u524a\u9664\u3057\u3001\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u304c\u5b8c\u5168\u306b\u30ed\u30fc\u30c9\u3055\u308c\u308b\u524d\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30c8\u3057\u307e\u3059\u3002\u4e00\u5ea6\u306b\u4e00\u6b69\u305a\u3064\u9032\u3093\u3067\u3044\u304d\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u3001ToDo\u9805\u76ee\u3092\u7de8\u96c6\u3059\u308b\u305f\u3081\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002JSON\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u308b\u5834\u5408\u3001\u3053\u306e\u672c\u3067\u305a\u3063\u3068\u3084\u3063\u3066\u304d\u305f\u3088\u3046\u306b\u3001\u3053\u306e\u30b3\u30fc\u30c9\u3092\u30d3\u30e5\u30fc\u304b\u3089\u5207\u308a\u96e2\u3059\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\u8003\u3048\u3066\u307f\u308c\u3070\u3001\u7de8\u96c6\u3059\u308b\u9805\u76ee\u3092\u9001\u4fe1\u3059\u308c\u3070\u3044\u3044\u3060\u3051\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u540c\u3058\u30b9\u30ad\u30fc\u30de\u3092\u524a\u9664\u306b\u3082\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b9\u30ad\u30fc\u30de\u306f\u3001json_serialization/to_do_item.rs\u30d5\u30a1\u30a4\u30eb\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use serde::Deserialize;\n#[derive(Deserialize)]\npub struct ToDoItem {\npub title: String,\npub status: String\n}\n</code></pre> <p>JSON\u3067\u306fenum\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u305a\u3001\u6587\u5b57\u5217\u3057\u304b\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u5404\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u578b\u3092\u8a18\u8f09\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3042\u308b\u3002JSON\u304b\u3089\u306e\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306f\u3001ToDoItem\u69cb\u9020\u4f53\u3092Deserialize trait\u30de\u30af\u30ed\u3067\u88c5\u98fe\u3059\u308b\u3053\u3068\u3067\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002ToDoItem\u69cb\u9020\u4f53\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4ed6\u306e\u90e8\u5206\u304b\u3089\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3092\u5fd8\u308c\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u306e\u3067\u3001json_serialization/mod.rs\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <pre><code>pub mod to_do_items;\npub mod to_do_item;\n</code></pre> <p>\u30a2\u30a4\u30c6\u30e0\u306e\u62bd\u51fa\u304c\u7d42\u308f\u3063\u305f\u306e\u3067\u3001\u6b21\u306fedit\u30d3\u30e5\u30fc\u306b\u79fb\u308a\u307e\u3059\u3002views/to_do/edit.rs\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use actix_web::{web, HttpResponse};\nuse serde_json::value::Value;\nuse serde_json::Map;\nuse crate::state::read_file;\nuse crate::to_do::{to_do_factory, enums::TaskStatus};\nuse crate::json_serialization::{to_do_item::ToDoItem, to_do_items::ToDoItems};\nuse crate::processes::process_input;\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30d3\u30e5\u30fc\u306b\u5fc5\u8981\u306a\u6a19\u6e96\u7684\u306a\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3068\u30a6\u30a7\u30d6\u69cb\u9020\u4f53\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u8fbc\u3093\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u72b6\u614b\u5168\u4f53\u3092\u8fd4\u3059\u305f\u3081\u306b\u3001ToDoItem\u3068ToDoItems\u3068\u3044\u3046\u69cb\u9020\u4f53\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30b3\u30de\u30f3\u30c9\u3067\u5165\u529b\u3092\u51e6\u7406\u3059\u308bprocess_input\u95a2\u6570\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6642\u70b9\u3067\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u898b\u3066\u3001\u7de8\u96c6\u3092\u884c\u3046\u305f\u3081\u306b\u5fc5\u8981\u306a\u30b9\u30c6\u30c3\u30d7\u3092\u601d\u3044\u6d6e\u304b\u3079\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u304b\u3002\u524d\u306b\u9032\u3080\u524d\u306b\u8003\u3048\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u30d1\u30b9\u306f\u3001get\u30d3\u30e5\u30fc\u3067\u884c\u3063\u305f\u306e\u3068\u540c\u3058\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u65b0\u3057\u304f\u66f4\u65b0\u3055\u308c\u305f\u30a2\u30a4\u30c6\u30e0\u3067\u30b9\u30c6\u30fc\u30c8\u3092\u66f4\u65b0\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u307e\u305f\u3001edit\u30b3\u30de\u30f3\u30c9\u304c\u6e21\u3055\u308c\u305f\u5834\u5408\u3001process_input\u95a2\u6570\u304cToDo\u9805\u76ee\u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u3082\u899a\u3048\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u3088\u304f\u8003\u3048\u305f\u3089\u3001\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u65b9\u6cd5\u306f\u305f\u304f\u3055\u3093\u3042\u308b\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u81ea\u5206\u306e\u624b\u9806\u3067\u554f\u984c\u304c\u89e3\u6c7a\u3057\u305f\u306e\u3067\u3042\u308c\u3070\u3001\u305d\u308c\u304c\u5b9a\u3081\u3089\u308c\u305f\u624b\u9806\u3068\u9055\u3063\u3066\u3044\u3066\u3082\u3001\u60aa\u3044\u6c17\u306f\u3057\u306a\u3044\u3053\u3068\u3067\u3059\u3002\u3088\u308a\u826f\u3044\u89e3\u6c7a\u7b56\u304c\u751f\u307e\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u79c1\u305f\u3061\u306e\u7de8\u96c6\u306e\u4ed5\u65b9\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b9\u30c6\u30c3\u30d7\u3092\u8e0f\u3093\u3067\u3044\u307e\u3059\u3002</p> <ol> <li>ToDo\u9805\u76ee\u306b\u5bfe\u3057\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5168\u4f53\u306e\u72b6\u614b\u3092\u53d6\u5f97\u3059\u308b\u3002</li> <li>\u30a2\u30a4\u30c6\u30e0\u304c\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u3001\u306a\u3044\u5834\u5408\u306fnot found\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\u3002</li> <li>to_do_factory\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306b\u30c7\u30fc\u30bf\u3092\u6e21\u3057\u3001\u72b6\u614b\u304b\u3089\u65e2\u5b58\u306e\u30c7\u30fc\u30bf\u3092\u64cd\u4f5c\u3067\u304d\u308b\u30a2\u30a4\u30c6\u30e0\u306b\u69cb\u7bc9\u3059\u308b\u3002</li> <li>\u6295\u5165\u3055\u308c\u308b\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u3001\u65e2\u5b58\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3068\u540c\u3058\u3067\u306a\u3044\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3002</li> <li>\u65e2\u5b58\u306e\u30a2\u30a4\u30c6\u30e0\u3092edit\u30b3\u30de\u30f3\u30c9\u3067process_input\u95a2\u6570\u306b\u6e21\u3057\u3066\u3001JSON\u30b9\u30c6\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u3002</li> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u72b6\u614b\u3092\u53d6\u5f97\u3057\u3001\u305d\u308c\u3092\u8fd4\u3059\u3002</li> </ol> <p>\u3053\u308c\u3089\u306e\u624b\u9806\u3092\u8e0f\u307e\u3048\u3066\u3001\u6b21\u306e\u30b5\u30d6\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3\u304b\u3089JSON\u3092\u62bd\u51fa\u3057\u3001\u7de8\u96c6\u306e\u305f\u3081\u306b\u51e6\u7406\u3059\u308b\u77e5\u8b58\u3092\u5177\u4f53\u5316\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"4_ProcessingHTTPRequests/ExtractingDataFromViews/#json","title":"\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3\u304b\u3089JSON\u3092\u62bd\u51fa\u3059\u308b","text":"<p>\u30a4\u30f3\u30dd\u30fc\u30c8\u304c\u5b8c\u4e86\u3057\u3001\u30a2\u30a6\u30c8\u30e9\u30a4\u30f3\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30d3\u30e5\u30fc\u306e\u30a2\u30a6\u30c8\u30e9\u30a4\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub async fn edit(to_do_item: web::Json&lt;ToDoItem&gt;) -&gt; HttpResponse {\n. . .\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001ToDoItem\u69cb\u9020\u4f53\u304cweb::Json\u69cb\u9020\u4f53\u306b\u30e9\u30c3\u30d7\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3064\u307e\u308a\u3001to_do_item\u3068\u3044\u3046\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3\u304b\u3089\u62bd\u51fa\u3055\u308c\u3001\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u3066ToDoItem\u69cb\u9020\u4f53\u3068\u3057\u3066\u69cb\u7bc9\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30d3\u30e5\u30fc\u306e\u5185\u90e8\u3067\u306f\u3001to_do_item\u306fToDoItem\u69cb\u9020\u4f53\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001\u30d3\u30e5\u30fc\u306e\u5185\u90e8\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u72b6\u614b\u3092\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>let state: Map&lt;String, Value&gt; = read_file(\"./state.json\");\n</code></pre> <p>\u6b21\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u3001\u72b6\u614b\u304b\u3089\u30a2\u30a4\u30c6\u30e0\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>let status: TaskStatus;\nmatch &amp;state.get(&amp;to_do_item.title) {\nSome(result) =&gt; {\nstatus = TaskStatus::new(result.as_str().unwrap());\n}\nNone=&gt; {\nreturn HttpResponse::NotFound().json(format!(\"{} not in state\", &amp;to_do_item.title))\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30c7\u30fc\u30bf\u304b\u3089\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u69cb\u7bc9\u3057\u305f\u308a\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306f not found HTTP \u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3057\u305f\u308a\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3001\u65e2\u5b58\u306e\u30c7\u30fc\u30bf\u3067\u30a2\u30a4\u30c6\u30e0\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>let existing_item = to_do_factory(to_do_item.title.as_str(), status.clone());\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u304c\u306a\u305c\u4fbf\u5229\u306a\u306e\u304b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u65b0\u3057\u3044\u30b9\u30c6\u30fc\u30bf\u30b9\u3068\u65e2\u5b58\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u6bd4\u8f03\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u306e\u3088\u3046\u306b\u3001\u5e0c\u671b\u3059\u308b\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u540c\u3058\u3067\u3042\u308c\u3070\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u5909\u66f4\u3059\u308b\u610f\u5473\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u3002</p> <pre><code>if &amp;status.stringify() == &amp;TaskStatus::from_string(\n&amp;to_do_item\n.status\n.as_str()\n.to_string())\n.stringify() {\nreturn HttpResponse::Ok().json(ToDoItems::get_state())\n}\n</code></pre> <p>\u305d\u306e\u305f\u3081\u3001\u73fe\u5728\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3057\u3001\u5e0c\u671b\u3059\u308b\u72b6\u614b\u3068\u540c\u3058\u3067\u3042\u308c\u3070\u3001\u5358\u306bOk\u3068\u3044\u3046HTTP\u5fdc\u7b54\u72b6\u614b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3059\u308b\u306e\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u540c\u671f\u3057\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u304b\u3089\u3067\u3059\u3002\u6b21\u306e\u7ae0\u3067\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u3001\u30a2\u30a4\u30c6\u30e0\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u5225\u306e\u30bf\u30d6\u3092\u958b\u3044\u3066\u3044\u305f\u308a\u3001\u96fb\u8a71\u306a\u3069\u306e\u5225\u306e\u30c7\u30d0\u30a4\u30b9\u3067ToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u66f4\u65b0\u3057\u305f\u5834\u5408\u3001\u3053\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f\u540c\u671f\u3057\u3066\u3044\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u540c\u671f\u3057\u3066\u3044\u306a\u3044\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u57fa\u3065\u3044\u3066\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u306f\u907f\u3051\u305f\u3044\u3002\u305d\u3053\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u7de8\u96c6\u3092\u884c\u3044\u3001\u72b6\u614b\u3092\u8fd4\u3059\u3053\u3068\u3067\u5165\u529b\u3092\u51e6\u7406\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>process_input(existing_item, \"edit\".to_owned(), &amp;state);\nreturn HttpResponse::Ok().json(ToDoItems::get_state())\n</code></pre> <p>\u524d\u8ff0\u306e\u30b3\u30fc\u30c9\u306f\u52d5\u4f5c\u3059\u308b\u306f\u305a\u3067\u3059\u304c\u3001\u73fe\u6642\u70b9\u3067\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001TaskStatus enum\u306e\u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001TaskStatus\u304cClone trait\u3092\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3067\u3059\u3002\u3053\u308c\u306f\u3001src/to_do/enums.rs \u30d5\u30a1\u30a4\u30eb\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u66f4\u65b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>#[derive(Clone)]\npub enum TaskStatus {\nDONE,\nPENDING\n}\n</code></pre> <p>\u6b21\u306b\u3001\u7de8\u96c6\u30d3\u30e5\u30fc\u304c\u5229\u7528\u53ef\u80fd\u3067\u3001To-Do\u30d3\u30e5\u30fc\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001src/views/to_do/mod.rs\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067\u3001\u79c1\u305f\u3061\u306e\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>mod create;\nmod get;\nmod edit;\nuse actix_web::web::{ServiceConfig, post, get, scope};\npub fn to_do_views_factory(app: &amp;mut ServiceConfig) {\napp.service(\nscope(\"v1/item\")\n.route(\"create/{title}\", post().to(create::create))\n.route(\"get\", get().to(get::get))\n.route(\"edit\", post().to(edit::edit))\n);\n}\n</code></pre> <p>\u30d3\u30e5\u30fc\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u304c\u3046\u307e\u304f\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001ToDo\u9805\u76ee\u306b\u95a2\u3059\u308b\u3059\u3079\u3066\u306e\u30d3\u30e5\u30fc\u304c1\u3064\u306e\u72ec\u7acb\u3057\u305f\u30da\u30fc\u30b8\u3067\u3046\u307e\u304f\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3082\u8a55\u4fa1\u3067\u304d\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u524d\u306e\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3060\u3051\u3067\u3001\u524a\u9664\u30d3\u30e5\u30fc\u304c\u5fc5\u8981\u3067\u3042\u308b\u3053\u3068\u3092\u77e5\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3001Postman\u3067\u6b21\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u3092\u884c\u3044\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f34.8 - Postman\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7de8\u96c6\u3059\u308b</p> <p>\u56f34.8\u3092\u898b\u308b\u3068\u3001\u6d17\u6d44\u30bf\u30b9\u30af\u3092\u300cDONE\u300d\u306b\u5207\u308a\u66ff\u3048\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u30c7\u30fc\u30bf\u306f\u3001\u5f62\u5f0f\u3092JSON\u306b\u3057\u3066\u3001raw\u3068\u3057\u3066\u30dc\u30c7\u30a3\u306b\u5165\u308c\u307e\u3057\u305f\u3002\u3053\u308c\u3092edit\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u547c\u3073\u51fa\u3059\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002</p> <pre><code>{\n\"pending_items\": [\n{\n\"title\": \"learn to code rust\",\n\"status\": \"PENDING\"\n}\n],\n\"done_items\": [\n{\n\"title\": \"washing\",\n\"status\": \"DONE\"\n}\n],\n\"pending_item_count\": 1,\n\"done_item_count\": 1\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u5b8c\u4e86\u3057\u305f\u30a2\u30a4\u30c6\u30e0\u306e\u30ea\u30b9\u30c8\u304c\u5165\u529b\u3055\u308c\u3001\u30ab\u30a6\u30f3\u30c8\u304c\u5909\u66f4\u3055\u308c\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u307e\u307e\u540c\u3058\u547c\u3073\u51fa\u3057\u3092\u7d9a\u3051\u308b\u3068\u3001\u6d17\u6fef\u306e\u9805\u76ee\u304c\u3059\u3067\u306b\u5b8c\u4e86\u3057\u305f\u72b6\u614b\u306a\u306e\u306b\u3001\u5b8c\u4e86\u306b\u7de8\u96c6\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u3001\u540c\u3058\u5fdc\u7b54\u304c\u8fd4\u3055\u308c\u307e\u3059\u3002\u6d17\u6fef\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u4fdd\u7559\u306b\u623b\u3059\u304b\u3001\u30bf\u30a4\u30c8\u30eb\u3092\u5909\u66f4\u3059\u308b\u304b\u3057\u3066\u3001\u7570\u306a\u308b\u66f4\u65b0\u72b6\u614b\u3092\u53d6\u5f97\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002ToDoItem\u69cb\u9020\u4f53\u306f\u3053\u308c\u30892\u3064\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u671f\u5f85\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u547c\u3073\u51fa\u3057\u306e\u672c\u6587\u306b\u30bf\u30a4\u30c8\u30eb\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u542b\u3081\u306a\u3044\u5834\u5408\u306f\u3001\u5373\u5ea7\u306b\u4e0d\u6b63\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u30fb\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u3055\u3066\u3001URL\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u30dc\u30c7\u30a3\u3067JSON\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u308a\u3001\u8fd4\u3059\u3068\u3044\u3046\u30d7\u30ed\u30bb\u30b9\u3092\u62bc\u3055\u3048\u305f\u306e\u3067\u3001\u307b\u307c\u5b8c\u4e86\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u30c7\u30fc\u30bf\u62bd\u51fa\u306b\u4f7f\u7528\u3055\u308c\u308b\u91cd\u8981\u306a\u65b9\u6cd5\u3068\u3057\u3066\u3001\u3082\u30461\u3064\u30d8\u30c3\u30c0\u30fc\u3092\u53d6\u308a\u4e0a\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30d8\u30c3\u30c0\u30fc\u306f\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a8d\u8a3c\u60c5\u5831\u306a\u3069\u306e\u30e1\u30bf\u60c5\u5831\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"4_ProcessingHTTPRequests/ExtractingDataFromViews/#_2","title":"\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d8\u30c3\u30c0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b","text":"<p>\u3055\u307e\u3056\u307e\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u627f\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u3001\u305d\u308c\u3089\u3092\u3059\u3079\u3066\u306eJSON\u69cb\u9020\u4f53\u306b\u683c\u7d0d\u3059\u308b\u306e\u306f\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u304c\u5927\u304d\u304f\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3053\u3068\u3082\u8a8d\u8b58\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff08\u7279\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u8005\u304c\u60aa\u610f\u3092\u6301\u3063\u3066\u3044\u308b\u5834\u5408\uff09\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30d3\u30e5\u30fc\u306b\u6e21\u3059\u524d\u306b\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a8d\u8a3c\u60c5\u5831\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306f\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u4e00\u822c\u7684\u306b\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u3092\u4f7f\u3063\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30c8\u3059\u308b\u3053\u3068\u3067\u53ef\u80fd\u3067\u3059\u3002\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30c8\u3057\u305f\u3089\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a3c\u660e\u66f8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u30c1\u30a7\u30c3\u30af\u3057\u3001\u30d3\u30e5\u30fc\u3092\u51e6\u7406\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u672c\u66f8\u306e\u524d\u56de\u3067\u306f\u3001\u8a8d\u8a3c\u306e\u305f\u3081\u306e\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u624b\u4f5c\u696d\u3067\u958b\u767a\u3057\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u3067\u306f\u30b3\u30fc\u30c9\u7ba1\u7406\u306e\u9762\u3067\u62e1\u5f35\u6027\u306b\u6b20\u3051\u3001\u67d4\u8edf\u306a\u5bfe\u5fdc\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u72ec\u81ea\u306e\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u624b\u52d5\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30b5\u30fc\u30d0\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u304c\u3069\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3059\u308b\u304b\u3092\u3088\u308a\u6df1\u304f\u7406\u89e3\u3057\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u67d4\u8edf\u306b\u51e6\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u306f\u91cd\u8981\u3067\u3059\u3002\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30c8\u3059\u308b\u305f\u3081\u306b\u3001actix-service crate\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3088\u308a\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306e\u4f9d\u5b58\u95a2\u4fc2\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>[dependencies]\nactix-web = \"4.0.1\"\nserde_json = \"1.0.59\"\nserde = { version = \"1.0.136\", features = [\"derive\"] }\nactix-service = \"2.0.2\"\n</code></pre> <p>\u305d\u308c\u3067\u306f\u3001src/main.rs \u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\u307e\u305a\u3001imports\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <pre><code>use actix_web::{App, HttpServer};\nuse actix_service::Service;\nmod views;\nmod to_do;\nmod state;\nmod processes;\nmod json_serialization;\n</code></pre> <p>\u3053\u308c\u3067\u3059\u3079\u3066\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u304c\u5b8c\u4e86\u3057\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30b5\u30fc\u30d0\u30fc\u69cb\u7bc9\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\nHttpServer::new(|| {\nlet app = App::new()\n.wrap_fn(|req, srv| {\nprintln!(\"{:?}\", req);\nlet future = srv.call(req);\nasync {\nlet result = future.await?;\nOk(result)\n}\n})\n.configure(views::views_factory);\nreturn app\n})\n.bind(\"127.0.0.1:8000\")?\n.run()\n.await\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001wrap_fn\u306b\u3088\u3063\u3066\u30ea\u30af\u30a8\u30b9\u30c8(req)\u3068\u5bfe\u8a71\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30b5\u30fc\u30d3\u30b9(srv)\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6e21\u3059\u305f\u3081\u306b\u5fc5\u8981\u306a\u3068\u304d\u306b\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30b5\u30fc\u30d3\u30b9\u306e\u547c\u3073\u51fa\u3057\u306f\u3001\u7d50\u679c\u3092\u8fd4\u3059\u975e\u540c\u671f\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u3067\u7d42\u4e86\u3059\u308b\u306e\u3092\u5f85\u3064\u672a\u6765\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3067\u3059\u3002\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30b5\u30fc\u30d3\u30b9\u3092\u547c\u3073\u51fa\u3057\u3066\u30d3\u30e5\u30fc\u3067HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3059\u308b\u524d\u306b\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u64cd\u4f5c\u3057\u3001\u691c\u67fb\u3057\u3001\u30eb\u30fc\u30c8\u3092\u5909\u66f4\u3057\u305f\u308a\u8fd4\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u79c1\u305f\u3061\u306e\u5834\u5408\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30c7\u30d0\u30c3\u30b0\u3092\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>ServiceRequest HTTP/1.1 GET:/v1/item/get\n\u00a0\u00a0headers:\n\u00a0\u00a0\u00a0\u00a0\"accept-language\": \"en-GB,en-US;q=0.9,en;q=0.8\"\n\u00a0\u00a0\u00a0\u00a0\"accept\": \"text/html,application/xhtml+xml,application/xml;\n\u00a0\u00a0\u00a0\u00a0q=0.9,image/avif,image/webp,image/\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0apng,*/*;q=0.8,application\n\u00a0\u00a0\u00a0\u00a0signed-exchange;v=b3;q=0.9\"\n\u00a0\u00a0\u00a0\u00a0\"sec-ch-ua-platform\": \"\\\"macOS\\\"\"\n\u00a0\u00a0\u00a0\u00a0\"sec-fetch-site\": \"none\"\n\u00a0\u00a0\u00a0\u00a0. . . \n\u00a0\u00a0\u00a0\u00a0\"host\": \"127.0.0.1:8000\"\n\u00a0\u00a0\u00a0\u00a0\"connection\": \"keep-alive\"\n\u00a0\u00a0\u00a0\u00a0\"sec-fetch-user\": \"?1\"\n</code></pre> <p>\u305f\u304f\u3055\u3093\u306e\u30c7\u30fc\u30bf\u3092\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u81ea\u4f5c\u306e\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3067\u306f\u3001\u3053\u3053\u307e\u3067\u304c\u9650\u754c\u3067\u3059\u3002\u3053\u308c\u304b\u3089\u306f\u3001trait\u3092\u4f7f\u3063\u3066\u30d8\u30c3\u30c0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u307e\u3059\u3002</p>"},{"location":"4_ProcessingHTTPRequests/ExtractingDataFromViews/#_3","title":"\u30c8\u30ec\u30a4\u30c8\u306b\u3088\u308b\u30d8\u30c3\u30c0\u30fc\u62bd\u51fa\u306e\u7c21\u7565\u5316","text":"<p>\u305d\u306e\u524d\u306b\u3001futures crate\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306edependencies\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>futures = \"0.3.21\"\n</code></pre> <p>\u3053\u3053\u3067\u3001JSON Web Token\uff08JWT\uff09\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306esrc/jwt.rs\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u5f8c\u306b\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u95a2\u3059\u308b\u6697\u53f7\u5316\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3059\u3079\u3066\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u30d8\u30c3\u30c0\u30fc\u306bJWT\u3092\u9001\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u7b2c7\u7ae0\u300c\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u7ba1\u7406\u300d\u3067\u3001\u3053\u308c\u3089\u306e\u30c8\u30fc\u30af\u30f3\u306e\u30c1\u30a7\u30c3\u30af\u3068\u7ba1\u7406\u306b\u95a2\u3059\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u30cb\u30e5\u30a2\u30f3\u30b9\u3092\u63a2\u308a\u307e\u3059\u3002\u4eca\u306e\u3068\u3053\u308d\u3001\u30d8\u30c3\u30c0\u30fc\u62bd\u51fa\u30d7\u30ed\u30bb\u30b9\u3092\u5358\u7d14\u306b\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067src/jwt.rs\u30d5\u30a1\u30a4\u30eb\u306b\u5fc5\u8981\u306a\u69cb\u9020\u4f53\u3068trait\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u3081\u307e\u3059\u3002</p> <pre><code>use actix_web::dev::Payload;\nuse actix_web::{Error, FromRequest, HttpRequest};\nuse futures::future::{Ready, ok};\n</code></pre> <p>Payload\u69cb\u9020\u4f53\u306b\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u751f\u30c7\u30fc\u30bf\u30b9\u30c8\u30ea\u30fc\u30e0\u304c\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d3\u30e5\u30fc\u306b\u8868\u793a\u3055\u308c\u308b\u524d\u306b\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u305f\u3081\u306b\u5b9f\u88c5\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u6b21\u306b\u3001Ready\u3068ok from futures\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u62bd\u51fa\u306e\u7d50\u679c\u3092\u30e9\u30c3\u30d7\u3057\u3001\u30d8\u30c3\u30c0\u30fc\u62bd\u51fa\u306e\u5024\u3067\u3042\u308b\u6210\u529f\u5024\u3067\u3059\u3050\u306bReady\u306b\u306a\u308b\u672a\u6765\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067JWT\u69cb\u9020\u4f53\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub struct JwToken {\npub message: String\n}\n</code></pre> <p>\u4eca\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3060\u3051\u3067\u3059\u304c\u3001\u5c06\u6765\u7684\u306b\u306f\u30e6\u30fc\u30b6\u30fc\u306eID\u306a\u3069\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304f\u4e88\u5b9a\u3067\u3059\u3002\u3053\u306e\u69cb\u9020\u4f53\u304c\u3042\u308c\u3070\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067FromRequest trait\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>impl FromRequest for JwToken {\ntype Error = Error;\ntype Future = Ready&lt;Result&lt;JwToken, Error&gt;&gt;;\nfn from_request(req: &amp;HttpRequest, _: &amp;mut Payload) -&gt; Self::Future {\n. . .\n}\n}\n</code></pre> <p>\u30d3\u30e5\u30fc\u304c\u30ed\u30fc\u30c9\u3055\u308c\u308b\u524d\u306bfrom_request\u95a2\u6570\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u3053\u3068\u304c\u63a8\u6e2c\u3067\u304d\u307e\u3059\u3002\u79c1\u305f\u3061\u306f\u30d8\u30c3\u30c0\u3092\u62bd\u51fa\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30da\u30a4\u30ed\u30fc\u30c9\u306b\u306f\u8208\u5473\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092_\u3067\u30de\u30fc\u30af\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001JwToken\u69cb\u9020\u4f53\u307e\u305f\u306f\u30a8\u30e9\u30fc\u3068\u306a\u308b\u7d50\u679c\u3092\u683c\u7d0d\u3059\u308b\u6e96\u5099\u306e\u3067\u304d\u305f\u672a\u6765\u578b\u3067\u3059\u3002from_request\u95a2\u6570\u306e\u5185\u90e8\u3067\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30d8\u30c3\u30c0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>match req.headers().get(\"token\") {\nSome(data) =&gt; {\nlet token = JwToken{\nmessage: data.to_str().unwrap().to_string()\n};\nok(token)\n},\nNone =&gt; {\nlet token = JwToken{\nmessage: String::from(\"nothing found\")\n};\nok(token)\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u3001\u3053\u306e\u7ae0\u3067\u306f\u3001\u30c8\u30fc\u30af\u30f3\u30fb\u30ad\u30fc\u3092\u63a2\u3057\u3001\u305d\u308c\u304c\u3042\u308c\u3070\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u3068\u3082\u306bJwToken struct\u3092\u8fd4\u3059\u3060\u3051\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\u306a\u3051\u308c\u3070\u3001\u4f55\u3082\u898b\u3064\u304b\u3089\u305a\u306bJwToken\u69cb\u9020\u4f53\u3092\u8fd4\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u7b2c7\u7ae0\u300c\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u7ba1\u7406\u300d\u3067\u306f\u3001\u3053\u306e\u95a2\u6570\u3092\u518d\u691c\u8a0e\u3057\u3001\u30a8\u30e9\u30fc\u3092\u30b9\u30ed\u30fc\u3057\u305f\u308a\u3001\u4e0d\u6b63\u306a\u30b3\u30fc\u30c9\u3067\u30d3\u30e5\u30fc\u306b\u30d2\u30c3\u30c8\u3059\u308b\u524d\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u8fd4\u3057\u305f\u308a\u3059\u308b\u306a\u3069\u306e\u30b3\u30f3\u30bb\u30d7\u30c8\u3092\u63a2\u308a\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u3001JwToken\u69cb\u9020\u4f53\u3092src/main.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u884c\u3067\u5b9a\u7fa9\u3057\u3066\u3001\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>mod jwt;\n</code></pre> <p>\u3055\u3066\u3001\u305b\u3063\u304b\u304ftrait\u3092\u5b9f\u88c5\u3057\u305f\u306e\u3060\u304b\u3089\u3001\u305d\u306e\u4f7f\u3044\u65b9\u306f\u30b3\u30f3\u30d1\u30af\u30c8\u3067\u30b7\u30f3\u30d7\u30eb\u306b\u3057\u307e\u3057\u3087\u3046\u3002views/to_do/edit.rs\u30d5\u30a1\u30a4\u30eb\u306eedit\u30d3\u30e5\u30fc\u3092\u3082\u3046\u4e00\u5ea6\u898b\u3066\u3001JwToken\u69cb\u9020\u4f53\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001edit\u30d3\u30e5\u30fc\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306bJwToken\u69cb\u9020\u4f53\u3092\u8ffd\u52a0\u3057\u3066\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u306b\u898b\u3089\u308c\u308b\u3088\u3046\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <pre><code>use crate::jwt::JwToken;\npub async fn edit(to_do_item: web::Json&lt;ToDoItem&gt;, token: JwToken) -&gt; HttpResponse {\nprintln!(\"here is the message in the token: {}\", token.message);\n. . .\n</code></pre> <p>\u660e\u3089\u304b\u306b\u3001\u30d3\u30e5\u30fc\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3092\u7de8\u96c6\u3057\u305f\u304f\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u5148\u306e\u30b3\u30fc\u30c9\u304b\u3089\u63a8\u6e2c\u3067\u304d\u308b\u3088\u3046\u306b\u3001token\u30d1\u30e9\u30e1\u30fc\u30bf\u306fHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u304b\u3089\u62bd\u51fa\u3055\u308c\u305fJwToken\u69cb\u9020\u4f53\u3067\u3001ToDoItem\u69cb\u9020\u4f53\u3068\u540c\u69d8\u306b\u3059\u3050\u306b\u4f7f\u3048\u308b\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u305f\u5f8c\u3001\u540c\u3058\u7de8\u96c6HTTP\u30b3\u30fc\u30eb\u3092\u884c\u3046\u3068\u3001HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u51fa\u529b\u3055\u308c\u308b\u3060\u3051\u3067\u306a\u304f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u5f97\u3089\u308c\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <pre><code>here is the message in the token: nothing found\n</code></pre> <p>\u307e\u3060\u30d8\u30c3\u30c0\u30fc\u306b\u4f55\u3082\u8ffd\u52a0\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\u6b21\u306e\u56f3\u3067\u5b9a\u7fa9\u3055\u308c\u305fPostman\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u3001\u30d8\u30c3\u30c0\u30fc\u306b\u30c8\u30fc\u30af\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f34.9 - Postman\u306e\u30d8\u30c3\u30c0\u30fc\u4ed8\u304d\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u7de8\u96c6</p> <p>\u518d\u5ea6\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>here is the message in the token: \"hello from header\"\n</code></pre> <p>\u3053\u308c\u3060\u3051\u3067\u3059\uff01\uff08\u7b11\u30d8\u30c3\u30c0\u30fc\u3092\u901a\u3057\u3066\u30c7\u30fc\u30bf\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002\u3057\u304b\u3082\u3001\u30d3\u30e5\u30fc\u304b\u3089\u306e\u8ffd\u52a0\u3084\u53d6\u308a\u5916\u3057\u306f\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u5b9a\u7fa9\u3057\u3066\u524a\u9664\u3059\u308b\u306e\u3068\u540c\u3058\u304f\u3089\u3044\u7c21\u5358\u3067\u3059\u3002</p>"},{"location":"4_ProcessingHTTPRequests/GettingToKnowTheInitialSetupForFusingCode/","title":"4.2 - \u30b3\u30fc\u30c9\u3092\u5b9a\u7740\u3055\u305b\u308b\u305f\u3081\u306e\u521d\u671f\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u77e5\u308b","text":""},{"location":"4_ProcessingHTTPRequests/GettingToKnowTheInitialSetupForFusingCode/#_1","title":"\u30b3\u30fc\u30c9\u3092\u5b9a\u7740\u3055\u305b\u308b\u305f\u3081\u306e\u521d\u671f\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u77e5\u308b","text":"<p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u7b2c2\u7ae0\u300cRust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u8a08\u3059\u308b\u300d\u3068\u7b2c3\u7ae0\u300cHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3059\u308b\u300d\u3067\u69cb\u7bc9\u3057\u305f2\u3064\u306e\u878d\u5408\u30b3\u30fc\u30c9\u306e\u521d\u671f\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\u3053\u306e\u878d\u5408\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u9020\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u56f34.1 - \u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u306e\u69cb\u9020\u3068\u305d\u306e\u30e2\u30b8\u30e5\u30fc\u30eb</p> <p>\u3053\u3053\u3067\u306f\u3001\u30e1\u30a4\u30f3\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u3079\u3066\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u767b\u9332\u3057\u3001\u3053\u308c\u3089\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u3059\u3079\u3066\u30d3\u30e5\u30fc\u306b\u5f15\u304d\u5165\u308c\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u7b2c2\u7ae0\u300cRust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30b6\u30a4\u30f3\u3059\u308b\u300d\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u3001\u5b9f\u8cea\u7684\u306bWeb\u30d3\u30e5\u30fc\u306b\u7f6e\u304d\u63db\u3048\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u3042\u304c\u308a\u307e\u3059\u3002</p> <pre><code>\u251c\u2500\u2500 main.rs\n\u251c\u2500\u2500 processes.rs\n\u251c\u2500\u2500 state.rs\n</code></pre> <p>\u305d\u3057\u3066\u3001to_do\u30e2\u30b8\u30e5\u30fc\u30eb\u3092main.rs\u30d5\u30a1\u30a4\u30eb\u306e\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30dc\u30eb\u30c8\u3067\u56fa\u5b9a\u3059\u308b\u306e\u3067\u3059\u3002\u7b2c2\u7ae0\u300cRust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30b6\u30a4\u30f3\u3059\u308b\u300d\u3092\u8aad\u3093\u3067to_do\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30d3\u30eb\u30c9\u3057\u305f\u5834\u5408\u3001to_do\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u4ee5\u4e0b\u306e\u69cb\u9020\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>\u251c\u2500\u2500 to_do\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 enums.rs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 mod.rs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 structs\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 base.rs\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 done.rs\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 mod.rs\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 pending.rs\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 traits\n\u2502\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u251c\u2500\u2500 create.rs\n\u2502\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u251c\u2500\u2500 delete.rs\n\u2502\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u251c\u2500\u2500 edit.rs\n\u2502\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u251c\u2500\u2500 get.rs\n\u2502\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u2514\u2500\u2500 mod.rs\n</code></pre> <p>\u3055\u3066\u3001\u524d\u7ae0\u3067\u7d39\u4ecb\u3057\u305fviews\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30dc\u30eb\u30c8\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u5165\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>\u2514\u2500\u2500 views\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 auth\n\u00a0\u00a0\u00a0\u00a0\u2502\u00a0\u00a0 \u251c\u2500\u2500 login.rs\n\u00a0\u00a0\u00a0\u00a0\u2502\u00a0\u00a0 \u251c\u2500\u2500 logout.rs\n\u00a0\u00a0\u00a0\u00a0\u2502\u00a0\u00a0 \u2514\u2500\u2500 mod.rs\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 mod.rs\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 path.rs\n</code></pre> <p>\u3059\u3079\u3066\u306e\u30b3\u30fc\u30c9\u3092\u542b\u3080\u5b8c\u5168\u306a\u69cb\u6210\u306f\u3001\u4ee5\u4e0b\u306eGitHub\u30ec\u30dd\u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>https://github/PacktPublishing/Rust-for-Web-Developers/tree/master/chapter04/getting_to_know_the_initial_setup</p> <p>\u3055\u3066\u3001\u524d\u306e\u7ae0\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u8ffd\u52a0\u3057\u305f\u306e\u3067\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e2d\u3067\u305d\u308c\u3089\u3092\u7d50\u5408\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001\u65b0\u3057\u3044 src/main.rs \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305a\u3001\u69cb\u7bc9\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u3063\u3066\u57fa\u672c\u7684\u306a\u30b5\u30fc\u30d0\u30fc\u3092\u5b9a\u7fa9\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002</p> <pre><code>use actix_web::{App, HttpServer};\nmod views;\nmod to_do;\nmod state;\nmod processes;\n#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\nHttpServer::new(|| {\nlet app = App::new().configure(views::views_factory);\nreturn app\n})\n.bind(\"127.0.0.1:8000\")?\n.run()\n.await\n}\n</code></pre> <p>\u524d\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3057\u3001\u6b21\u306b\u30b5\u30fc\u30d0\u30fc\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\u30b5\u30fc\u30d0\u30fc\u306f views_factory \u3092\u5229\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\u7ae0\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3067\u306f\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u3001views_factory\u95a2\u6570\u3067\u547c\u3073\u51fa\u3055\u308c\u308b\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u95a2\u6570\u3092\u9023\u9396\u3055\u305b\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u6642\u70b9\u3067\u3001\u79c1\u305f\u3061\u306f\u8170\u3092\u843d\u3061\u7740\u3051\u3066\u3001\u524d\u306e\u7ae0\u3067\u884c\u3063\u305f\u3059\u3079\u3066\u306e\u30cf\u30fc\u30c9\u30ef\u30fc\u30af\u306e\u914d\u5f53\u3092\u8a55\u4fa1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u539f\u7406\u306e\u5206\u96e2\u3068\u3088\u304f\u5b9a\u7fa9\u3055\u308c\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u304a\u304b\u3052\u3067\u3001\u6700\u5c0f\u9650\u306e\u52b4\u529b\u3067\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30ed\u30b8\u30c3\u30af\u3092\u30b5\u30fc\u30d0\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u53d6\u308a\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3042\u3068\u306f\u3001\u30d3\u30e5\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u63a5\u7d9a\u3057\u3001\u30d3\u30e5\u30fc\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059\u3060\u3051\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u9032\u3080\u524d\u306b\u3001\u30b5\u30fc\u30d0\u30fc\u3092\u78ba\u5b9f\u306b\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u3001\u3044\u304f\u3064\u304b\u306e\u7d30\u304b\u3044\u624b\u5165\u308c\u3092\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u307e\u305a\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306e\u4f9d\u5b58\u95a2\u4fc2\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u8981\u4ef6\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>[dependencies]\nactix-web = \"4.0.1\"\nserde_json = \"1.0.59\"\n</code></pre> <p>\u305d\u3057\u3066\u3001cargo run\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u4e0a\u3067\u30ed\u30b0\u30a4\u30f3\u3068\u30ed\u30b0\u30a2\u30a6\u30c8\u306e\u30d3\u30e5\u30fc\u304c\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30d3\u30e5\u30fc\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059\u4f5c\u696d\u3092\u958b\u59cb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"4_ProcessingHTTPRequests/PassingParametersIntoViews/","title":"4.3 - \u30d3\u30e5\u30fc\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059","text":""},{"location":"4_ProcessingHTTPRequests/PassingParametersIntoViews/#_1","title":"\u30d3\u30e5\u30fc\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059","text":"<p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001ToDo \u9805\u76ee\u3092\u4f5c\u6210\u3057\u3001\u30d3\u30e5\u30fc\u3092\u901a\u3057\u3066\u305d\u308c\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306b\u30012 \u3064\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u878d\u5408\u3055\u305b\u308b\u521d\u671f\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3059\u308b\u30d3\u30e5\u30fc\u306b\u3001ToDo\u9805\u76ee\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30d3\u30e5\u30fc\u306b\u30c7\u30fc\u30bf\u3092\u6e21\u3059\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30eb\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> URL \u30c7\u30fc\u30bf\u304a\u3088\u3073\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306eURL\u306e\u5185\u90e8\u3067\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u5b9f\u88c5\u304c\u7c21\u5358\u306a\u305f\u3081\u3001\u4e00\u822c\u7684\u306b\u30b7\u30f3\u30d7\u30eb\u306a\u30b1\u30fc\u30b9\u3067\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002 \u30dc\u30c7\u30a3 \u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u306e\u7570\u306a\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u3088\u308a\u8907\u96d1\u306a\u30c7\u30fc\u30bf\u69cb\u9020\u3084\u5927\u304d\u306a\u30da\u30a4\u30ed\u30fc\u30c9\u306e\u5834\u5408\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002 \u30d8\u30c3\u30c0\u30fc \u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0\u306e\u7570\u306a\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u9001\u4fe1\u3055\u308c\u308b\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u95a2\u3059\u308b\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u8a8d\u8a3c\u30c7\u30fc\u30bf\u3082\u30d8\u30c3\u30c0\u30fc\u306b\u683c\u7d0d\u3057\u307e\u3059\u3002  <p>\u3053\u308c\u3089\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3064\u3044\u3066\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u901a\u3057\u3066\u8aac\u660e\u3057\u307e\u3059\u304c\u3001\u4eca\u306f\u3001\u6700\u3082\u7c21\u5358\u306a\u5c0e\u5165\u65b9\u6cd5\u3067\u3042\u308bURL\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u3092\u6e21\u3059\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3067ToDo\u30d3\u30e5\u30fc\u306e\u69cb\u9020\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <pre><code>\u2514\u2500\u2500 views\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 auth\n\u00a0\u00a0\u00a0\u00a0\u2502\u00a0\u00a0 \u251c\u2500\u2500 login.rs\n\u00a0\u00a0\u00a0\u00a0\u2502\u00a0\u00a0 \u251c\u2500\u2500 logout.rs\n\u00a0\u00a0\u00a0\u00a0\u2502\u00a0\u00a0 \u2514\u2500\u2500 mod.rs\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 mod.rs\n\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 to_do\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 create.rs\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 mod.rs\n</code></pre> <p>ToDo\u30d3\u30e5\u30fc\u3092To_do\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u96a3\u306b\u3042\u308b\u72ec\u81ea\u306e\u30d3\u30e5\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u914d\u7f6e\u3057\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u30d3\u30e5\u30fc\u3092\u7a4d\u307f\u91cd\u306d\u3066\u3044\u304f\u3053\u3068\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u30d3\u30e5\u30fc\u3092\u51fa\u3057\u5165\u308c\u3057\u305f\u308a\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u4ed6\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30d3\u30e5\u30fc\u3092\u7d44\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u4eca\u306e\u3068\u3053\u308d\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u3067\u884c\u3044\u307e\u3059\u3002</p> <p>\u56f34.2 \u300cToDo\u9805\u76ee\u4f5c\u6210\u306e\u6d41\u308c</p> <p>\u56f34.2\u3067\u793a\u3057\u305f\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <ol> <li>ToDo\u9805\u76ee\u30ea\u30b9\u30c8\u306e\u73fe\u5728\u306e\u72b6\u614b\u3092\u8aad\u307f\u8fbc\u3080\u3002</li> <li>URL\u304b\u3089\u65b0\u3057\u3044ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u53d6\u5f97\u3059\u308b\u3002</li> <li>\u30bf\u30a4\u30c8\u30eb\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u306epending\u3092to_do_factory\u306b\u6e21\u3057\u307e\u3059\u3002</li> <li>\u524d\u306e\u30b9\u30c6\u30c3\u30d7\u306e\u7d50\u679c\u3092\u3001\u6587\u5b57\u5217create\u3068\u72b6\u614b\u3068\u3068\u3082\u306b\u30d7\u30ed\u30bb\u30b9\u30fb\u30e2\u30b8\u30e5\u30fc\u30eb\u30fb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u6e21\u3059\u3002</li> <li>\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u305f\u3053\u3068\u3092\u77e5\u3089\u305b\u308b\u6587\u5b57\u5217\u3092\u30e6\u30fc\u30b6\u30fc\u306b\u8fd4\u3059\u3002</li> </ol> <p>views/to_do/create.rs\u30d5\u30a1\u30a4\u30eb\u3067\u5148\u306b\u5b9a\u7fa9\u3057\u305f\u3053\u308c\u3089\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use serde_json::value::Value;\nuse serde_json::Map;\nuse actix_web::HttpRequest;\nuse crate::to_do::{to_do_factory, enums::TaskStatus};\nuse crate::state::read_file;\nuse crate::processes::process_input;\n</code></pre> <p>serde_json::value::Value \u3068 serde_json::Map \u3092\u4f7f\u7528\u3057\u3066\u3001 state.json \u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u30c7\u30fc\u30bf\u306e\u7a2e\u985e\u3092\u5b9a\u7fa9\u3057\u3001HttpRequest \u69cb\u9020\u4f53\u3092\u4f7f\u7528\u3057\u3066 URL \u304b\u3089\u30bf\u30a4\u30c8\u30eb\u3092\u62bd\u51fa\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u4ed6\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u3001\u72b6\u614b\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u53d6\u308a\u3001\u5165\u529b\u306e\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\u30d3\u30e5\u30fc\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub async fn create(req: HttpRequest) -&gt; String {\nlet state: Map&lt;String, Value&gt; = read_file(\"./state.json\"); // step 1\nlet title: String = req.match_info()\n.get(\"title\")\n.unwrap()\n.to_string(); // step 2\nlet item = to_do_factory(&amp;title.as_str(), TaskStatus::PENDING); // step 3\nprocess_input(item, \"create\".to_string(), &amp;state);\n// step 4\nreturn format!(\"{} created\", title) // step 5\n}\n</code></pre> <p>\u3053\u308c\u306f\u30b5\u30fc\u30d0\u30fc\u304c\u51e6\u7406\u3057\u3066\u3044\u308b\u30d3\u30e5\u30fc\u3067\u3042\u308b\u305f\u3081\u3001\u975e\u540c\u671f\u95a2\u6570\u3067\u3042\u308b\u3053\u3068\u3092\u899a\u3048\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001match_info\u95a2\u6570\u306b\u3088\u3063\u3066HttpRequest\u304b\u3089\u30bf\u30a4\u30c8\u30eb\u304c\u62bd\u51fa\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002URL\u306b\u30bf\u30a4\u30c8\u30eb\u304c\u306a\u3044\u5834\u5408\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3057\u3001\u62bd\u51fa\u3057\u305f\u30bf\u30a4\u30c8\u30eb\u3092String\u306b\u5909\u63db\u3059\u308b\u51e6\u7406\u3092\u7d9a\u3051\u305f\u304f\u306a\u3044\u306e\u3067\u3001\u76f4\u63a5\u30a2\u30f3\u30e9\u30c3\u30d7\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u3053\u306e\u53c2\u7167\u3092to_do_factory\u306b\u6e21\u3057\u3066ItemTypes enum\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3053\u306e\u5217\u6319\u578b\u306b\u30b3\u30de\u30f3\u30c9\u3068\u73fe\u5728\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u72b6\u614b\u3078\u306e\u53c2\u7167\u3092\u6dfb\u3048\u3066process_input\u95a2\u6570\u306b\u6e21\u3057\u307e\u3059\u304c\u3001\u3053\u306e\u95a2\u6570\u3067\u306f\u3001\u6e21\u3055\u308c\u305f\u30b3\u30de\u30f3\u30c9\u3068\u30a2\u30a4\u30c6\u30e0\u306e\u7a2e\u985e\u306b\u57fa\u3065\u3044\u3066\u3001\u72b6\u614b\u3092\u3069\u306e\u3088\u3046\u306b\u51e6\u7406\u3059\u308b\u304b\u3001\u4e00\u9023\u306e\u624b\u9806\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306e\u30ed\u30b8\u30c3\u30af\u306f\u3001\u3053\u306e\u30d3\u30e5\u30fc\u306b\u306f\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306f\u3001\u30b3\u30fc\u30c9\u76f4\u4ea4\u6027\uff08Code Orthogonality\uff09\u306e\u61f8\u5ff5\u4e8b\u9805\u306e\u5206\u96e2\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u3067\u3059\u3002\u30b3\u30fc\u30c9\u306e\u76f4\u4ea4\u6027\u3068\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u6570\u5b66\u7684\u6982\u5ff5\u3092\u6307\u3057\u307e\u3059\u3002</p> <p>\u56f34.3 - \u76f4\u4ea4\u6027\u306e\u6570\u5b66\u7684\u6982\u5ff5</p> <p>\u56f34.3\u3092\u898b\u308b\u3068\u3001\u3042\u308b\u30d9\u30af\u30c8\u30eb\u304c\u4ed6\u306e\u30d9\u30af\u30c8\u30eb\u306b\u76f4\u4ea4\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u305d\u306e\u30d9\u30af\u30c8\u30eb\u306f\u4ed6\u306e\u30d9\u30af\u30c8\u30eb\u306b\u6295\u5f71\u3055\u308c\u306a\u3044\u3068\u8a00\u308f\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u7269\u7406\u5b66\u3067\u306f\u3001\u30d9\u30af\u30c8\u30eb\u304c\u529b\u3067\u3042\u308c\u3070\u3001\u3053\u308c\u3089\u306e\u30d9\u30af\u30c8\u30eb\u306f\u4e92\u3044\u306b\u5f71\u97ff\u3092\u53ca\u307c\u3055\u306a\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002Processs\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30b3\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\u3068\u3001create\u30d3\u30e5\u30fc\u3092\u53c2\u7167\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u305d\u306e\u5f71\u97ff\u3092\u53d7\u3051\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30d7\u30ed\u30bb\u30b9\u306e\u30ed\u30b8\u30c3\u30af\u306f\u3001create view\u3067\u5b9a\u7fa9\u3059\u3079\u304d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u4ed6\u306e\u5834\u6240\u3067\u30d7\u30ed\u30bb\u30b9\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3067\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u304c\u3059\u3079\u3066\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002create\u30d3\u30e5\u30fc\u3092\u898b\u308b\u3068\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4ed6\u306e\u90e8\u5206\u3068\u306e\u95a2\u4fc2\u3067\u3001\u4fdd\u7559\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u306b\u95a2\u3059\u308b\u30ed\u30b8\u30c3\u30af\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u958b\u767a\u8005\u306f\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u306e\u304b\u3092\u6b63\u78ba\u306b\u628a\u63e1\u3057\u3084\u3059\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u5148\u8ff0\u3057\u305f\u3001ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e5\u3064\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u95a2\u4fc2\u306e\u306a\u3044\u8a73\u7d30\u306b\u8ff7\u308f\u3055\u308c\u308b\u3053\u3068\u306f\u306a\u3044\u306e\u3067\u3059\u3002\u3082\u3057\u958b\u767a\u8005\u304c\u30a2\u30a4\u30c6\u30e0\u306e\u4fdd\u5b58\u306b\u95a2\u3059\u308b\u30ed\u30b8\u30c3\u30af\u3092\u8abf\u3079\u305f\u3044\u5834\u5408\u306f\u3001\u3053\u308c\u3092\u5b9a\u7fa9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u8abf\u67fb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u3053\u3053\u3067\u3001to_do\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d3\u30e5\u30fc\u3092\u5916\u90e8\u304b\u3089\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001views/to_do/mod.rs \u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067 to-do views factory \u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <pre><code>mod create;\nuse actix_web::web::{ServiceConfig, get, scope};\npub fn to_do_views_factory(app: &amp;mut ServiceConfig) {\napp.service(scope(\"v1/item\")\n.route(\"create/{title}\", get().to(create::create))\n);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001create view\u3092public\u306b\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3067\u3053\u308c\u3092\u4f7f\u7528\u3057\u3066\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001URL\u306b\u6e21\u3055\u308c\u308b\u30bf\u30a4\u30c8\u30eb\u3092\u3001/{title}\u3067\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u30bf\u30b0\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30a2\u30a4\u30c6\u30e0\u30d3\u30e5\u30fc\u304c\u6a5f\u80fd\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001to_do_views_factory\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306eviews/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>mod auth;\nmod to_do; // define the module\nuse auth::auth_views_factory;\nuse to_do::to_do_views_factory; // import the factory \nuse actix_web::web::ServiceConfig;\npub fn views_factory(app: &amp;mut ServiceConfig) {\nauth_views_factory(app);\nto_do_views_factory(app); // pass the ServiceConfig \n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3057\u3001\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u6e21\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3001ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3059\u308b\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306eURL\u3067\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f34.4-ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u30d3\u30e5\u30fc</p> <p>\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u898b\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <pre><code>learn to code rust is being created\n</code></pre> <p>\u30eb\u30fc\u30c8\u306b\u3042\u308bstate.json\u30d5\u30a1\u30a4\u30eb\u3092\u898b\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u304c\u51fa\u3066\u304d\u307e\u3059\u3002</p> <pre><code>{\"learn to code rust\":\"PENDING\"}\n</code></pre> <p>ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u304c\u3046\u307e\u304f\u3044\u3063\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001URL\u304b\u3089\u30bf\u30a4\u30c8\u30eb\u3092\u53d6\u308a\u8fbc\u307f\u3001\u4fdd\u7559\u4e2d\u306eToDo\u9805\u76ee\u3092\u4f5c\u6210\u3057\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u753b\u671f\u7684\u306a\u3053\u3068\u3067\u3059\u304c\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306f\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u306b\u6700\u9069\u306a\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u7b2c6\u7ae0\u300cPostgreSQL\u306b\u3088\u308b\u30c7\u30fc\u30bf\u6c38\u7d9a\u5316\u300d\u3067\u9069\u5207\u306a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u69cb\u6210\u3059\u308b\u305f\u3081\u3001\u4eca\u306f\u3053\u308c\u3067\u5341\u5206\u3067\u3059\u3002\u307e\u305f\u3001URL\u306e\u4e2d\u306b%20\u304c\u898b\u3048\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u30b9\u30da\u30fc\u30b9\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b9\u30da\u30fc\u30b9\u306f\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3068JSON\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u3092\u610f\u5473\u3057\u3001\u3053\u306e\u30b9\u30da\u30fc\u30b9\u306f\u30d6\u30e9\u30a6\u30b6\u306b\u8868\u793a\u3055\u308c\u308b\u30d3\u30e5\u30fc\u306b\u3082\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002URL\u304b\u3089ToDo\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u53d6\u308a\u8fbc\u307f\u3001\u7aef\u672b\u306b\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u306b\u8868\u793a\u3057\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u306b\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u5b9f\u8cea\u7684\u306bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u57fa\u790e\u304c\u3067\u304d\u305f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002  </p> <p>GET\u30e1\u30bd\u30c3\u30c9\u306f\u79c1\u305f\u3061\u306b\u3068\u3063\u3066\u6709\u52b9\u3067\u3059\u304c\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u306b\u306f\u6700\u3082\u9069\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002GET\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u305f\u308a\u3001\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3057\u305f\u308a\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u5c65\u6b74\u306b\u6b8b\u3057\u305f\u308a\u3001\u9577\u3055\u306b\u5236\u7d04\u304c\u3042\u3063\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3057\u305f\u308a\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u5c65\u6b74\u306b\u6b8b\u3057\u305f\u308a\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u306f\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u554f\u984c\u304c\u3042\u308b\u3060\u3051\u3067\u306a\u304f\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u8aa4\u3063\u3066\u540c\u3058\u547c\u3073\u51fa\u3057\u3092\u518d\u5ea6\u884c\u3063\u3066\u3057\u307e\u3046\u30ea\u30b9\u30af\u3082\u9ad8\u304f\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001GET\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u30c7\u30fc\u30bf\u3092\u6539\u5909\u3059\u308b\u306e\u306f\u5f97\u7b56\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u3092\u9632\u3050\u305f\u3081\u306b\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u305b\u305a\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u5c65\u6b74\u306b\u3082\u6b8b\u3089\u306a\u3044\u3001\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3082\u3067\u304d\u306a\u3044POST\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002</p> <p>\u3053\u3053\u3067\u8aac\u660e\u3057\u305f\u7406\u7531\u306b\u3088\u308a\u3001create\u30d3\u30e5\u30fc\u3092POST\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\u30b3\u30fc\u30c9\u306e\u76f4\u4ea4\u6027\u306b\u3064\u3044\u3066\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30d3\u30e5\u30fc\u306e\u30eb\u30fc\u30c8\u304c\u3069\u306e\u3088\u3046\u306b\u51e6\u7406\u3055\u308c\u308b\u304b\u3092\u5b9a\u7fa9\u3059\u308b\u3082\u306e\u306f\u3001\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u5185\u306e views/to_do/mod.rs \u30d5\u30a1\u30a4\u30eb\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u4fdd\u6301\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <pre><code>mod create;\nuse actix_web::web::{ServiceConfig, post, scope};\npub fn to_do_views_factory(app: &amp;mut ServiceConfig) {\napp.service(\nscope(\"v1/item\")\n.route(\"create\", post().to(create::create))\n);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u3068\u30eb\u30fc\u30c8\u5b9a\u7fa9\u3067\u3001get\u3092post\u306b\u5909\u66f4\u3057\u305f\u3060\u3051\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u8a66\u3057\u306b\u5148\u307b\u3069\u306e\u65b9\u6cd5\u3067\u65b0\u3057\u3044ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3057\u3066\u307f\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u56f34.5 \u30d6\u30ed\u30c3\u30af\u5316\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9</p> <p>\u56f34.5\u3067\u306f\u3001\u30da\u30fc\u30b8\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30a8\u30e9\u30fc\u306f\u3001\u30da\u30fc\u30b8\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3053\u3068\u3092\u793a\u3059404-\u30a8\u30e9\u30fc\u3067\u3042\u308b\u305f\u3081\u3001\u6df7\u4e71\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002URL\u306f\u307e\u3060\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u306eURL\u3067\u306fGET\u30e1\u30bd\u30c3\u30c9\u306f\u3082\u3046\u8a31\u53ef\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u308c\u3092\u8e0f\u307e\u3048\u3066\u3001\u4ee5\u4e0b\u306ePostman\u306e\u8a2d\u5b9a\u3092\u4f7f\u7528\u3057\u3066POST\u30b3\u30fc\u30eb\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f34.6 Postman post\u306b\u3088\u308b\u30a2\u30a4\u30c6\u30e0\u4f5c\u6210\u65b9\u6cd5</p> <p>\u56f34.6\u3067\u306f\u3001POST\u30e1\u30bd\u30c3\u30c9\u3068\u3044\u3046\u7570\u306a\u308b\u30e1\u30bd\u30c3\u30c9\u3060\u3051\u3067\u3001URL\u306f\u307e\u3060\u6a5f\u80fd\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u72b6\u614b\u30d5\u30a1\u30a4\u30eb\u3092\u8abf\u3079\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u304c\u898b\u3064\u304b\u308a\u307e\u3059\u3002</p> <pre><code>{\"learn to code rust\":\"PENDING\",\"washing\":\"PENDING\"}\n</code></pre> <p>create\u30d3\u30e5\u30fc\u306e\u8a31\u53ef\u30e1\u30bd\u30c3\u30c9\u3092\u5909\u66f4\u3057\u3066\u3082\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u30fb\u4fdd\u5b58\u65b9\u6cd5\u306b\u306f\u5f71\u97ff\u3057\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u56f34.6\u3092\u632f\u308a\u8fd4\u3063\u3066\u307f\u308b\u3068\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9200\u304c\u8fd4\u3063\u3066\u304d\u3066\u3044\u308b\u3053\u3068\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3059\u3067\u306b\u3001\u4f5c\u6210\u304c\u884c\u308f\u308c\u305f\u3053\u3068\u3092\u7269\u8a9e\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u304cOK\u306a\u306e\u3067\u3001\u4f55\u3082\u8fd4\u3059\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u4f5c\u6210\u3057\u305f\u30d3\u30e5\u30fc\u306bGET\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u308d\u3046\u3068\u3059\u308b\u3068\u3001not found\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u3053\u308c\u304c\u4f55\u3092\u610f\u5473\u3059\u308b\u306e\u304b\u3001\u304a\u308f\u304b\u308a\u306b\u306a\u308a\u307e\u3059\u304b\uff1f\u540c\u3058URL\u3092\u5225\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u518d\u5229\u7528\u3059\u308b\u3053\u3068\u3092\u59a8\u3052\u308b\u3082\u306e\u306f\u306a\u3044\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\u3055\u3066\u3001\u30d3\u30e5\u30fc\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u3001\u540c\u3058URL\u3092\u5225\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u4f7f\u3046\u3053\u3068\u3092\u6b62\u3081\u308b\u3082\u306e\u306f\u4f55\u3082\u306a\u3044\u306f\u305a\u3067\u3059\u3002\u3053\u308c\u306f\u3001views/to_do/mod.rs\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>app.service(\nscope(\"v1/item\")\n.route(\"create/{title}\", post().to(create::create))\n.route(\"create/{title}\", get().to(create::create))\n);\n</code></pre> <p>\u30d6\u30e9\u30a6\u30b6\u306bURL\u3092\u5165\u529b\u3059\u308b\u3068\u3001\u4fdd\u7559\u4e2d\u306eToDo\u9805\u76ee\u304c\u4f5c\u6210\u3055\u308c\u3001\u3053\u308c\u304c\u52d5\u4f5c\u3059\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u5fc5\u8981\u3067\u3042\u308c\u3070\u3001\u540c\u3058URL\u3067\u5225\u306e\u95a2\u6570\u3092get\u30eb\u30fc\u30c8\u306b\u5165\u308c\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001URL\u306e\u4f7f\u3044\u65b9\u3084\u518d\u5229\u7528\u306e\u4ed5\u65b9\u306b\u67d4\u8edf\u6027\u3092\u6301\u305f\u305b\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001GET\u30e1\u30bd\u30c3\u30c9\u3068POST\u30e1\u30bd\u30c3\u30c9\u306e\u9055\u3044\u3092\u8003\u616e\u3059\u308b\u3068\u3001Create\u95a2\u6570\u306bPOST\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u8ce2\u660e\u3067\u3059\u3002  </p> <p>\u3053\u308c\u3067\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u306b\u95a2\u3057\u3066\u306f\u3001\u5fc5\u8981\u306a\u3053\u3068\u306f\u3059\u3079\u3066\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u4ed6\u306e\u30d3\u30e5\u30fc\u3067\u306f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u73fe\u5728\u306e\u72b6\u614b\u3092\u793a\u3059\u305f\u3081\u306b\u3001\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u3053\u308c\u307e\u3067\u3001URL\u3092\u4f7f\u3063\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30c7\u30fc\u30bf\u3092\u6e21\u3057\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u306f\u30c7\u30fc\u30bf\u3092\u6e21\u3059\u305f\u3081\u306e\u6700\u3082\u57fa\u672c\u7684\u306a\u65b9\u6cd5\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u69cb\u9020\u5316\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092URL\u3067\u6e21\u3059\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\u3001\u30cf\u30c3\u30b7\u30e5\u30de\u30c3\u30d7\u3084\u30ea\u30b9\u30c8\u3092\u9001\u308a\u305f\u3044\u5834\u5408\u3001URL\u3067\u306f\u305d\u306e\u3088\u3046\u306a\u69cb\u9020\u4f53\u3092\u53ce\u5bb9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8aac\u660e\u3059\u308bJSON\u3092\u4f7f\u7528\u3057\u3066\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30c7\u30fc\u30bf\u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"4_ProcessingHTTPRequests/Summary/","title":"4.6 - \u307e\u3068\u3081","text":""},{"location":"4_ProcessingHTTPRequests/Summary/#_1","title":"\u307e\u3068\u3081","text":"<p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u524d\u7ae0\u3067\u5b66\u3093\u3060\u3053\u3068\u3092\u3059\u3079\u3066\u6709\u52b9\u306b\u6d3b\u7528\u3057\u307e\u3057\u305f\u3002JSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089ToDo\u9805\u76ee\u3092\u30ed\u30fc\u30c9\u30fb\u4fdd\u5b58\u3059\u308bToDo\u9805\u76ee\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306e\u30ed\u30b8\u30c3\u30af\u3092\u878d\u5408\u3057\u3001Actix-web\u306e\u57fa\u672c\u30d3\u30e5\u30fc\u3092\u4f7f\u7528\u3057\u3066ToDo\u9805\u76ee\u30d7\u30ed\u30bb\u30b9\u306e\u30ed\u30b8\u30c3\u30af\u3092\u898b\u3066\u307f\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u5206\u96e2\u3055\u308c\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3069\u306e\u3088\u3046\u306b\u9023\u643a\u3057\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u6b21\u306e\u6570\u7ae0\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30ed\u30fc\u30c9\u3057\u3066\u4fdd\u5b58\u3059\u308bJSON\u30d5\u30a1\u30a4\u30eb\u3092\u5207\u308a\u51fa\u3057\u306a\u304c\u3089\u3001\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306e\u30e1\u30ea\u30c3\u30c8\u3092\u4eab\u53d7\u3057\u7d9a\u3051\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u307e\u305f\u3001\u8907\u96d1\u306a\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u305f\u3081\u306b\u3001serde\u30af\u30ec\u30fc\u30c8\u3082\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u7de8\u96c6\u3092\u884c\u3063\u305f\u969b\u306b\u3001\u5b8c\u5168\u306a\u72b6\u614b\u306e\u66f4\u65b0\u304c\u8fd4\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3055\u3089\u306b\u3001future\u3001\u975e\u540c\u671f\u30d6\u30ed\u30c3\u30af\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u77e5\u8b58\u3092\u6d3b\u7528\u3057\u3066\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u30d3\u30e5\u30fc\u306b\u5230\u9054\u3059\u308b\u524d\u306b\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30c8\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u3053\u306e\u3088\u3046\u306b\u3001Rust\u306e\u529b\u3092\u4f7f\u3048\u3070\u3001\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u6df1\u304f\u6398\u308a\u4e0b\u3052\u306a\u304f\u3066\u3082\u3001\u30b5\u30fc\u30d0\u30fc\u3092\u9ad8\u5ea6\u306b\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <p>\u3053\u306e\u3088\u3046\u306b\u3001Rust\u306fWeb\u958b\u767a\u306b\u304a\u3044\u3066\u5f37\u3044\u5c06\u6765\u6027\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\u5e7c\u3044\u306a\u304c\u3089\u3082\u3001\u79c1\u305f\u3061\u306f\u307b\u3068\u3093\u3069\u30b3\u30fc\u30c9\u3092\u66f8\u304b\u305a\u306b\u7269\u4e8b\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3055\u3089\u306b\u6570\u884c\u306e\u30b3\u30fc\u30c9\u3068\u30af\u30ed\u30fc\u30b8\u30e3\u3067\u3001\u79c1\u305f\u3061\u306f\u72ec\u81ea\u306e\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3059\u3002\u79c1\u305f\u3061\u306eJSON\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u69cb\u9020\u4f53\u306f\u3001\u308f\u305a\u304b1\u884c\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3057\u305f\u3002Actix\u304c\u63d0\u4f9b\u3059\u308b\u7279\u6027\u306b\u3088\u308a\u3001\u30d3\u30e5\u30fc\u95a2\u6570\u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5b9a\u7fa9\u3059\u308b\u3060\u3051\u3067\u3001\u30d3\u30e5\u30fc\u304c\u81ea\u52d5\u7684\u306b\u30dc\u30c7\u30a3\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u3066\u69cb\u9020\u4f53\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u3067\u5f37\u529b\u306a\u6a19\u6e96\u5316\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306e\u53d7\u3051\u6e21\u3057\u65b9\u6cd5\u306f\u3001\u591a\u304f\u306e\u9ad8\u7d1a\u8a00\u8a9e\u3088\u308a\u3082\u7c21\u6f54\u306a\u65b9\u6cd5\u3067\u3059\u3002\u3053\u308c\u3067\u3001HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u3042\u3089\u3086\u308b\u90e8\u5206\u3092\u5b8c\u5168\u306b\u64cd\u4f5c\u3057\u3001\u691c\u67fb\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <p>ToDo\u3092\u7de8\u96c6\u3001\u4f5c\u6210\u3001\u524a\u9664\u3059\u308b\u969b\u306b\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u30dd\u30a4\u30f3\u30c8\uff06\u30af\u30ea\u30c3\u30af\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a\u65b9\u6cd5\u3067\u8868\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u6b21\u306e\u7ae0\u3067\u306f\u3001Actix-web\u30b5\u30fc\u30d0\u30fc\u304b\u3089HTML\u3001CSS\u3001JavaScript\u3092\u63d0\u4f9b\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u3053\u306e\u7ae0\u3067\u5b9a\u7fa9\u3057\u305f\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3078\u306eAPI\u30b3\u30fc\u30eb\u3092JavaScript\u3067\u884c\u3044\u3001\u30b0\u30e9\u30d5\u30a3\u30ab\u30eb\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4ecb\u3057\u3066ToDo\u30a2\u30a4\u30c6\u30e0\u3092\u8868\u793a\u3057\u3001\u5bfe\u8a71\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"4_ProcessingHTTPRequests/TechnicalRequirements/","title":"4.1 - \u6280\u8853\u8981\u4ef6","text":""},{"location":"4_ProcessingHTTPRequests/TechnicalRequirements/#_1","title":"\u6280\u8853\u8981\u4ef6","text":"<p>\u3053\u306e\u7ae0\u3067\u306f\u3001Postman\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002Postman\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u306bAPI\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u305f\u3081\u306b\u5fc5\u8981\u3067\u3059\u3002https://www.postman.com/downloads/ \u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u307e\u305f\u3001\u524d\u7ae0\u3067\u4f5c\u6210\u3057\u305f\u30b5\u30fc\u30d0\u30fc\u30b3\u30fc\u30c9\u3092\u30d9\u30fc\u30b9\u306b\u3001https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter03/managing_views_using_the_actix_web_framework/web_app\u3002</p> <p>\u672c\u7ae0\u3067\u4f7f\u7528\u3059\u308b\u5168\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u3001\u3053\u3061\u3089\u3067\u3054\u89a7\u3044\u305f\u3060\u3051\u307e\u3059\uff1ahttps://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter04\u3002</p> <p>\u30d3\u30e5\u30fc\u30b3\u30fc\u30c9\u306e\u7ba1\u7406\u304c\u3053\u306e\u7ae0\u306e\u57fa\u672c\u306b\u306a\u308a\u3001\u3053\u306e\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u306b\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u7b2c2\u7ae0\u300cRust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30b6\u30a4\u30f3\u3059\u308b\u300d\u3067\u66f8\u3044\u305fToDo\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u878d\u5408\u3055\u305b\u308b\u4e88\u5b9a\u3067\u3059\uff08https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter02/processing_traits_and_structs\uff09\u3002</p>"},{"location":"4_ProcessingHTTPRequests/UsingMacrosForJSONSerialization/","title":"4.4 - JSON\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u305f\u3081\u306e\u30de\u30af\u30ed\u306e\u4f7f\u7528","text":""},{"location":"4_ProcessingHTTPRequests/UsingMacrosForJSONSerialization/#json","title":"JSON\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u305f\u3081\u306e\u30de\u30af\u30ed\u306e\u4f7f\u7528","text":"<p>\u30c7\u30fc\u30bf\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u8fd4\u3059\u5834\u5408\u3001Actix-web crate\u306eJSON\u3092\u4f7f\u7528\u3059\u308c\u3070\u3001\u6700\u5c0f\u9650\u306e\u30b3\u30fc\u30c9\u3067\u7d20\u65e9\u304f\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002views/to_do/get.rs\u30d5\u30a1\u30a4\u30eb\u306b\u3001\u3059\u3079\u3066\u306eToDo\u30a2\u30a4\u30c6\u30e0\u3092\u8fd4\u3059GET\u30d3\u30e5\u30fc\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u308c\u3092\u5b9f\u8a3c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use actix_web::{web, Responder};\nuse serde_json::value::Value;\nuse serde_json::Map;\nuse crate::state::read_file;\npub async fn get() -&gt; impl Responder {\nlet state: Map&lt;String, Value&gt; = read_file(\"./state.json\");\nreturn web::Json(state);\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001JSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089JSON\u3092\u8aad\u307f\u8fbc\u307f\u3001\u3053\u308c\u3092web::Json\u95a2\u6570\u3067\u30e9\u30c3\u30d7\u3057\u3066\u5024\u3092\u8fd4\u3057\u3066\u3044\u308b\u306b\u904e\u304e\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002JSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089Map\u3092\u76f4\u63a5\u8fd4\u3059\u3060\u3051\u306a\u3089\u3001String\u3068Value\u3068\u3044\u3046\u3053\u3068\u3067\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001Map \u306e\u578b\u306f\u3001\u30ec\u30b9\u30dd\u30f3\u30c0\u306e\u7279\u6027\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u3001\u72b6\u614b\u3092\u76f4\u63a5\u8fd4\u3059\u3088\u3046\u306b\u95a2\u6570\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 <pre><code>pub async fn get() -&gt; Map&lt;String, Value&gt;\u00a0\u00a0{\nlet state: Map&lt;String, Value&gt; = read_file(\"./state.json\");\nreturn state;\n}\n</code></pre> <p>\u3057\u304b\u3057\u3001views/to_do/mod.rs \u30d5\u30a1\u30a4\u30eb\u306e get().to() \u95a2\u6570\u306f\u3001\u30ec\u30b9\u30dd\u30f3\u30c0\u306e\u7279\u6027\u3092\u5b9f\u88c5\u3057\u305f struct \u3092\u53d7\u3051\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001\u3053\u308c\u306f\u6a5f\u80fd\u3057\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001views/to_do/mod.rs \u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067 get \u30d3\u30e5\u30fc\u3092\u633f\u5165\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <pre><code>mod create;\nmod get; // import the get file \nuse actix_web::web::{ServiceConfig, post, get, scope};\n// import get\npub fn to_do_views_factory(app: &amp;mut ServiceConfig) {\napp.service(\nscope(\"v1/item\")\n.route(\"create/{title}\", post().to(create::create))\n.route(\"get\", get().to(get::get)) // define view and URL\n);\n}\n</code></pre> <p>URL http://127.0.0.1:8000/item/get \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30dc\u30c7\u30a3\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a JSON \u30c7\u30fc\u30bf\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>{\n\"learn to code rust\": \"PENDING\",\n\"washing\": \"PENDING\"\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u63d0\u793a\u3067\u304d\u308b\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3092\u624b\u306b\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u57fa\u672c\u7684\u306b\u4ed5\u4e8b\u3092\u5b8c\u4e86\u3055\u305b\u308b\u3082\u306e\u3067\u3059\u304c\u3001\u3042\u307e\u308a\u4fbf\u5229\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\u3001\u4fdd\u7559\u3068\u5b8c\u4e86\u306e2\u7a2e\u985e\u306e\u30ea\u30b9\u30c8\u3092\u7528\u610f\u3057\u305f\u3044\u3002\u307e\u305f\u3001ToDo\u304c\u3044\u3064\u4f5c\u6210\u3055\u308c\u305f\u304b\u3001\u7de8\u96c6\u3055\u308c\u305f\u304b\u3092\u793a\u3059\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u8fd4\u3059\u3060\u3051\u3067\u306f\u3001\u5fc5\u8981\u306a\u3068\u304d\u306b\u8907\u96d1\u3055\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002</p>"},{"location":"4_ProcessingHTTPRequests/UsingMacrosForJSONSerialization/#_1","title":"\u72ec\u81ea\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3059\u308b","text":"<p>\u30e6\u30fc\u30b6\u30fc\u306b\u8fd4\u3059\u30c7\u30fc\u30bf\u306e\u7a2e\u985e\u3092\u3088\u308a\u7d30\u304b\u304f\u5236\u5fa1\u3059\u308b\u305f\u3081\u306b\u3001\u72ec\u81ea\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u69cb\u9020\u4f53\u3067\u306f\u3001\u5b8c\u4e86\u3057\u305f\u30a2\u30a4\u30c6\u30e0\u3068\u4fdd\u7559\u4e2d\u306e\u30a2\u30a4\u30c6\u30e0\u306e2\u3064\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u30ea\u30b9\u30c8\u306b\u306f\u3001\u30bf\u30a4\u30c8\u30eb\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u3067\u69cb\u6210\u3055\u308c\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u914d\u7f6e\u3055\u308c\u307e\u3059\u3002\u7b2c2\u7ae0\u300cRust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u8a08\u3059\u308b\u300d\u3092\u601d\u3044\u51fa\u3059\u3068\u3001\u4fdd\u7559\u30a2\u30a4\u30c6\u30e0\u69cb\u9020\u4f53\u3068\u5b8c\u4e86\u30a2\u30a4\u30c6\u30e0\u69cb\u9020\u4f53\u306f\u3001Base\u69cb\u9020\u4f53\u304b\u3089\u5408\u6210\u306b\u3088\u3063\u3066\u7d99\u627f\u3055\u308c\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001Base\u69cb\u9020\u4f53\u304b\u3089\u30bf\u30a4\u30c8\u30eb\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u306eBase\u69cb\u9020\u4f53\u306f\u4e00\u822c\u306b\u306f\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u5404ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u5c5e\u6027\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u305f\u3081\u306b\u3001\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u56f34.7 - ToDo\u69cb\u9020\u4f53\u3068\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u95a2\u4fc2</p> <p>\u56f34.7\u3092\u898b\u308b\u3068\u3001TaskStatus\u5217\u6319\u578b\u304c\u4f9d\u5b58\u95a2\u4fc2\u306e\u6839\u6e90\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002ToDo \u30a2\u30a4\u30c6\u30e0\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u524d\u306b\u3001\u3053\u306e enum \u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u306f\u3001serde \u30af\u30ec\u30fc\u30c8\u304c\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001Cargo.toml \u30d5\u30a1\u30a4\u30eb\u3067\u4f9d\u5b58\u95a2\u4fc2\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>[dependencies]\nactix-web = \"4.0.1\"\nserde_json = \"1.0.59\"\nserde = { version = \"1.0.136\", features = [\"derive\"] }\n</code></pre> <p>features = [\"derive\"]\u3092\u8ffd\u52a0\u3057\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u69cb\u9020\u4f53\u3092serde traits\u3067\u88c5\u98fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u6b21\u306b\u3001src/to_do/enums.rs\u30d5\u30a1\u30a4\u30eb\u306b\u304a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067enum\u3092\u3069\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u305f\u304b\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <pre><code>pub enum TaskStatus {\nDONE,\nPENDING\n}\nimpl TaskStatus {\npub fn stringify(&amp;self) -&gt; String {\nmatch &amp;self {\n&amp;Self::DONE    =&gt; { return \"DONE\".to_string()    },\n&amp;Self::PENDING =&gt; { return \"PENDING\".to_string() }\n}\n}\npub fn from_string(input_string: String) -&gt; Self {\nmatch input_string.as_str() {\n\"DONE\"    =&gt; TaskStatus::DONE,\n\"PENDING\" =&gt; TaskStatus::PENDING,\n_         =&gt; panic!(\"input {} not supported\", input_string)\n}\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001DONE\u3068PENDING\u3068\u3044\u30462\u3064\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u3089\u306f\u672c\u8cea\u7684\u306b\u72ec\u81ea\u306e\u578b\u3067\u3059\u3002\u3053\u308c\u3092JSON\u306e\u5024\u3068\u3057\u3066\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u306b\u306f\u3069\u3046\u3059\u308c\u3070\u3088\u3044\u306e\u3067\u3057\u3087\u3046\u304b\u3002stringify\u95a2\u6570\u306b\u30d2\u30f3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u5168\u8c8c\u3092\u8868\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30b5\u30fc\u30d0\u30d3\u30e5\u30fc\u306e\u623b\u308a\u5024\u306f\u3001trait\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002src/to_do/enums.rs\u30d5\u30a1\u30a4\u30eb\u306b\u5fc5\u8981\u306atrait\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308c\u3070\u3001TaskStatus\u5217\u6319\u578b\u306eserde trait\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use serde::ser::{Serialize, Serializer, SerializeStruct};\n</code></pre> <p>\u3053\u308c\u3067Serialize trait\u3092\u5b9f\u88c5\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u3082\u306e\u306f\u3059\u3079\u3066\u63c3\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u6b21\u306e\u7bc0\u3067\u66f8\u3044\u305f\u69cb\u9020\u4f53\u3092\u3069\u306e\u3088\u3046\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u304b\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"4_ProcessingHTTPRequests/UsingMacrosForJSONSerialization/#serialize","title":"Serialize \u30c8\u30ec\u30a4\u30c8\u306e\u5b9f\u88c5","text":"<p>Serialize \u306f\u3053\u308c\u304b\u3089\u5b9f\u88c5\u3059\u308b trait \u3067\u3001Serializer \u306f serde \u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3042\u3089\u3086\u308b\u30c7\u30fc\u30bf\u5f62\u5f0f\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u308b\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30bf\u30fc\u3067\u3059\u3002\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067 TaskStatus enum \u306b\u5bfe\u3057\u3066 Serialize trait \u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>impl Serialize for TaskStatus {\nfn serialize&lt;S&gt;(&amp;self, serializer: S) -&gt; Result&lt;S::Ok, S::Error&gt;\nwhere\nS: Serializer,\n{\nOk(serializer.serialize_str(&amp;self.stringify().as_str())?)\n}\n}\n</code></pre> <p>\u3053\u308c\u306f\u3001serde\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u6a19\u6e96\u7684\u306a\u65b9\u6cd5\u3067\u3059\u3002\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001serialize\u95a2\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306eserialize\u95a2\u6570\u306f\u3001TaskStatus\u5217\u6319\u578b\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u969b\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u3001serializer\u306e\u8a18\u6cd5\u304cS\u3067\u3042\u308b\u3053\u3068\u3082\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001S\u3092Serializer\u3068\u5b9a\u7fa9\u3059\u308bwhere\u6587\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u76f4\u611f\u306b\u53cd\u3059\u308b\u3068\u601d\u308f\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306e\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u4e00\u6b69\u4e0b\u304c\u3063\u3066\u8abf\u3079\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u3087\u3046\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306f\u3001\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b8c\u6210\u3055\u305b\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u3053\u3053\u3067\u3001\u57fa\u672c\u7684\u306a\u69cb\u9020\u4f53\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3066\u304a\u304d\u307e\u3059\u3002</p> <pre><code>#[derive(Debug)]\nstruct TwoDposition {\nx: i32,\ny: i32\n}\n#[derive(Debug)]\nstruct ThreeDposition {\nx: i32,\ny: i32,\nz: i32\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001TwoDposition\u3068ThreeDposition\u306e\u4e21\u65b9\u306e\u69cb\u9020\u4f53\u306b\u5bfe\u3057\u3066Debug trait\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u5404\u69cb\u9020\u4f53\u306b\u5bfe\u3057\u3066\u30c7\u30d0\u30c3\u30b0\u6587\u3092\u51fa\u529b\u3059\u308b\u95a2\u6570\u3092\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>fn print_two(s: &amp;TwoDposition) {\nprintln!(\"{:?}\", s);\n}\nfn print_three(s: &amp;ThreeDposition) {\nprintln!(\"{:?}\", s);\n}\n</code></pre> <p>\u3057\u304b\u3057\u3001\u3053\u308c\u3067\u306f\u3046\u307e\u304f\u62e1\u5f35\u3067\u304d\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u3082\u306e\u3059\u3079\u3066\u306b\u5bfe\u3057\u3066\u95a2\u6570\u3092\u66f8\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u4ee3\u308f\u308a\u306b\u3001where\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u4f7f\u7528\u3057\u3066\u3001Debug trait\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u4e21\u65b9\u306e\u69cb\u9020\u4f53\u3092where\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306b\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u307e\u305a\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067trait\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use core::fmt::Debug;\n</code></pre> <p>\u305d\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u30d5\u30ec\u30ad\u30b7\u30d6\u30eb\u306a\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>fn print_debug&lt;S&gt;(s: &amp;S)\nwhere\nS: Debug {\nprintln!(\"{:?}\", s);\u00a0\u00a0\u00a0\u00a0}\n</code></pre> <p>\u3053\u3053\u3067\u8d77\u3053\u3063\u3066\u3044\u308b\u306e\u306f\u3001\u95a2\u6570\u306b\u6e21\u3059\u5909\u6570\u306e\u578b\u304c\u6c4e\u7528\u7684\u3067\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u3064\u307e\u308a\u3001S\u306fDebug\u7279\u6027\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308c\u3070\u3001\u3069\u306e\u3088\u3046\u306a\u578b\u3067\u3082\u3088\u3044\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u3082\u3057Debug trait\u3092\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3044\u69cb\u9020\u4f53\u3092\u6e21\u305d\u3046\u3068\u3059\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u62d2\u5426\u3057\u307e\u3059\u3002\u3067\u306f\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3068\u3069\u3046\u306a\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>fn main() {\nlet two = TwoDposition{x: 1, y: 2};\nlet three = ThreeDposition{x: 1, y: 2, z: 3};\u00a0\u00a0\u00a0\u00a0print_debug(&amp;two);\nprint_debug(&amp;three);\n}\n</code></pre> <p>\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>TwoDposition { x: 1, y: 2 }\nThreeDposition { x: 1, y: 2, z: 3 }\n</code></pre> <p>\u5148\u306e\u51fa\u529b\u306f\u3001debug trait\u3092\u8d77\u52d5\u3057\u305f\u3068\u304d\u306e\u5370\u5237\u7d50\u679c\u306a\u306e\u3067\u3001\u610f\u5473\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u3089\u306f\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u969b\u306b\u4f5c\u6210\u3055\u308c\u308b2\u3064\u306e\u7570\u306a\u308b\u95a2\u6570\u3067\u3059\u3002\u79c1\u305f\u3061\u306e\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u3001\u6b21\u306e2\u3064\u306e\u95a2\u6570\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3057\u305f\u3002</p> <pre><code>print_debug::&lt;TwoDposition&gt;(&amp;two);\nprint_debug::&lt;ThreeDposition&gt;(&amp;three);\n</code></pre> <p>\u3053\u308c\u306f\u3001Rust\u306e\u4ed5\u7d44\u307f\u3068\u3057\u3066\u77e5\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u58ca\u3059\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30b3\u30fc\u30c9\u306e\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u3092\u9ad8\u3081\u308b\u3082\u306e\u3067\u3059\u3002where\u6587\u3092\u4f7f\u3046\u5229\u70b9\u306f\u4ed6\u306b\u3082\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u30a4\u30c6\u30ec\u30fc\u30bf\u306b\u5fc5\u8981\u306a\u7279\u6027\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>fn debug_iter&lt;I&gt;(iter: I)\nwhere\nI: Iterator\nI::Item: Debug\n{\nfor item in iter {\nprintln!(\"{:?}\", iter);\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30a4\u30c6\u30ec\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u3063\u3066\u3044\u308b\u3053\u3068\u3001\u30a4\u30c6\u30ec\u30fc\u30bf\u5185\u306e\u30a2\u30a4\u30c6\u30e0\u304cDebug trait\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001trait\u306e\u5b9f\u88c5\u3092\u63a2\u6c42\u3057\u7d9a\u3051\u308b\u3068\u3001\u672c\u66f8\u306e\u4e3b\u306a\u76ee\u7684\u3067\u3042\u308b\u300cRust\u306b\u3088\u308bWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u300d\u306b\u96c6\u4e2d\u3067\u304d\u306a\u304f\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002  </p> <p>where\u6587\u3092\u4f7f\u3063\u3066trait\u3092\u5b9f\u88c5\u3059\u308b\u77e5\u8b58\u3092\u5f97\u3066\u3001TaskStatus enum\u306eSerialize trait\u306e\u5b9f\u88c5\u3092\u632f\u308a\u8fd4\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>impl Serialize for TaskStatus {\nfn serialize&lt;S&gt;(&amp;self, serializer: S) -&gt; Result&lt;S::Ok, S::Error&gt;\nwhere\nS: Serializer,\n{\nOk(serializer.serialize_str(&amp;self.stringify().as_str())?)\n}\n}\n</code></pre> <p>\u5358\u306bstringify\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u3001Ok\u3068\u3044\u3046\u7d50\u679c\u3067\u5305\u3093\u3067\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u79c1\u305f\u3061\u306f\u3001\u3088\u308a\u5927\u304d\u306a\u30c7\u30fc\u30bf\u672c\u4f53\u306b\u633f\u5165\u3059\u308b\u305f\u3081\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3092String\u306b\u3057\u305f\u3044\u3060\u3051\u306a\u306e\u3067\u3059\u3002\u3082\u3057\u3053\u308c\u304c\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6301\u3064\u69cb\u9020\u4f53\u3067\u3042\u308c\u3070\u3001serialize\u95a2\u6570\u3092\u6b21\u306e\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>fn serialize&lt;S&gt;(&amp;self, serializer: S) -&gt; Result&lt;S::Ok, S::Error&gt;\nwhere\nS: Serializer,\n{\nlet mut s = serializer.serialize_struct(\"TaskStatus\", 1)?;\ns.serialize_field(\"status\", &amp;self.stringify())?;\ns.end()\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u306f\u300cTaskStatus\u300d\u3068\u3044\u3046\u69cb\u9020\u4f53\u3067\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u6570\u306f1\u3067\u3059\u3002\u305d\u3057\u3066\u3001stringify\u95a2\u6570\u306e\u7d50\u679c\u3092status\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5e30\u7740\u3055\u305b\u308b\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001\u57fa\u672c\u7684\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u9020\u4f53\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>#[derive(Serialize)]\nstruct TaskStatus {\nstatus: String\n}\n</code></pre> <p>\u3057\u304b\u3057\u3001\u4eca\u56de\u306e\u6f14\u7fd2\u3067\u306f\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u3088\u308a\u5927\u304d\u306a\u30dc\u30c7\u30a3\u306b\u633f\u5165\u3057\u3066\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001serialize_struct\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306f\u5229\u7528\u3057\u306a\u3044\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"4_ProcessingHTTPRequests/UsingMacrosForJSONSerialization/#_2","title":"\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u69cb\u9020\u4f53\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30fc\u30c9\u306b\u7d44\u307f\u8fbc\u3080","text":"<p>TaskStatus\u5217\u6319\u578b\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u304c\u53ef\u80fd\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u56f34.7\u3092\u632f\u308a\u8fd4\u3063\u3066\u3001\u6b21\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u308b\u306e\u306fBase\u69cb\u9020\u4f53\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u307e\u305f\u3001Base\u69cb\u9020\u4f53\u304cJSON\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u9375\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u304c\u3001\u73fe\u5728\u306f\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u516c\u958b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001to_do/structs/mod.rs\u30d5\u30a1\u30a4\u30eb\u306eBase\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5ba3\u8a00\u3092mod base;\u304b\u3089pub mod base;\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001Base\u69cb\u9020\u4f53\u304c\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5916\u3067\u76f4\u63a5\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001src\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u9020\u306ejson_serialization\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u81ea\u4f5c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>\u251c\u2500\u2500 main.rs\n\u251c\u2500\u2500 json_serialization\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 mod.rs\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 to_do_items.rs\n</code></pre> <p>get\u30d3\u30e5\u30fc\u304c\u547c\u3070\u308c\u305f\u3068\u304d\u306b\u30d3\u30e5\u30fc\u30a2\u306b\u8fd4\u3059\u3082\u306e\u3092\u3001src/json_serialization/to_do_items.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p> <pre><code>use serde::Serialize;\nuse crate::to_do::ItemTypes;\nuse crate::to_do::structs::base::Base;\n#[derive(Serialize)]\npub struct ToDoItems {\npub pending_items: Vec&lt;Base&gt;,\npub done_items: Vec&lt;Base&gt;,\npub pending_item_count: i8,\npub done_item_count: i8\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u6a19\u6e96\u7684\u306apublic struct\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5b9a\u7fa9\u3057\u305f\u3060\u3051\u3067\u3059\u3002\u6b21\u306b\u3001derive\u30de\u30af\u30ed\u3092\u4f7f\u7528\u3057\u3066Serialize trait\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u69cb\u9020\u4f53\u306e\u5c5e\u6027\u306f\u3001\u5c5e\u6027\u540d\u3092\u30ad\u30fc\u3068\u3057\u3066JSON\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001ToDoItems\u69cb\u9020\u4f53\u306edone_item_count\u304c1\u3060\u3063\u305f\u5834\u5408\u3001JSON\u672c\u4f53\u306f\u300cdone_item_count\u300d\u3068\u8868\u8a18\u3055\u308c\u307e\u3059\u30021.\u3053\u306e\u65b9\u6cd5\u306f\u3001\u5148\u307b\u3069TaskStatus\u5217\u6319\u578b\u306b\u5bfe\u3057\u3066\u884c\u3063\u305f\u624b\u52d5\u306b\u3088\u308b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3088\u308a\u3082\u7c21\u5358\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u5358\u7d14\u3067\u3042\u308b\u305f\u3081\u3067\u3059\u3002\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u6642\u306b\u4f59\u8a08\u306a\u30ed\u30b8\u30c3\u30af\u304c\u5fc5\u8981\u306a\u3044\u5834\u5408\u306f\u3001ToDoItems\u3092Serialize trait\u3067\u88c5\u98fe\u3059\u308b\u306e\u304c\u6700\u3082\u7c21\u5358\u3067\u3001\u7d50\u679c\u7684\u306b\u30a8\u30e9\u30fc\u3082\u5c11\u306a\u304f\u306a\u308a\u307e\u3059\u3002  </p> <p>\u3055\u3066\u3001\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u3068\u3053\u308d\u3067\u3001\u30c7\u30fc\u30bf\u306e\u51e6\u7406\u306b\u3064\u3044\u3066\u8003\u3048\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u69cb\u9020\u4f53\u3092\u547c\u3073\u51fa\u3059\u524d\u306b\u3001\u30c7\u30fc\u30bf\u3092\u30bd\u30fc\u30c8\u3057\u3066\u30ab\u30a6\u30f3\u30c8\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3068\u3057\u305f\u3089\u3001\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u3068\u306f\u8a00\u3048\u307e\u305b\u3093\u3002\u3053\u306e\u5834\u5408\u3001\u5f53\u8a72\u30d3\u30e5\u30fc\u306b\u5c5e\u3059\u308b\u30ed\u30b8\u30c3\u30af\u3068\u306f\u5225\u306b\u3001\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u305f\u3081\u306b\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u30d3\u30e5\u30fc\u306b\u4e0d\u8981\u306a\u30b3\u30fc\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u91cd\u8907\u3059\u308b\u30b3\u30fc\u30c9\u3082\u767a\u751f\u3057\u307e\u3059\u3002\u30c7\u30fc\u30bf\u306e\u30bd\u30fc\u30c8\u3001\u30ab\u30a6\u30f3\u30c8\u3001\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u884c\u3046\u65b9\u6cd5\u306f1\u3064\u3060\u3051\u3067\u3059\u3002\u3082\u3057\u3001\u4ed6\u306e\u30d3\u30e5\u30fc\u304c\u30a2\u30a4\u30c6\u30e0\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u3059\u305f\u3081\u306b\u5fc5\u8981\u3067\u3042\u308c\u3070\u3001\u307e\u305f\u30b3\u30fc\u30c9\u3092\u8907\u88fd\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3067\u3057\u3087\u3046\u3002</p> <p>\u3053\u306e\u3053\u3068\u3092\u8003\u3048\u308b\u3068\u3001ToDo\u9805\u76ee\u306e\u30d9\u30af\u30c8\u30eb\u3092\u53d6\u308a\u8fbc\u307f\u3001\u9069\u5207\u306a\u5c5e\u6027\u306b\u30bd\u30fc\u30c8\u3057\u3001\u305d\u308c\u3092\u30ab\u30a6\u30f3\u30c8\u3059\u308b\u69cb\u9020\u4f53\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306f\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u308b\u3068\u8a00\u3048\u307e\u3059\u3002\u3053\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>impl ToDoItems {\npub fn new(input_items: Vec&lt;ItemTypes&gt;) -&gt; ToDoItems {\n. . . // code to be filled in\n}\n}\n</code></pre> <p>\u524d\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u304cJSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3060ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30d9\u30af\u30c8\u30eb\u3092\u53d7\u3051\u53d6\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u5185\u90e8\u3067\u306f\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li>\u30a2\u30a4\u30c6\u30e0\u30922\u3064\u306e\u30d9\u30af\u30c8\u30eb\u306b\u30bd\u30fc\u30c8\u3057\u307e\u3059\u30021\u3064\u306f\u4fdd\u7559\u30a2\u30a4\u30c6\u30e0\u3001\u3082\u30461\u3064\u306f\u5b8c\u4e86\u30a2\u30a4\u30c6\u30e0\u3067\u3059\u3002</li> </ol> <p>\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u7a2e\u985e\u306b\u5fdc\u3058\u3066\u7570\u306a\u308b\u30d9\u30af\u30bf\u30fc\u306b\u8ffd\u52a0\u3057\u3066\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u30d9\u30af\u30bf\u30fc\u3092\u30eb\u30fc\u30d7\u3059\u308b\u3060\u3051\u3067\u3042\u308b\u3002</p> <pre><code>let mut pending_array_buffer = Vec::new();\nlet mut done_array_buffer = Vec::new();\nfor item in input_items {\nmatch item {\nItemTypes::Pending(packed)  =&gt; pending_array_buffer.push(packed.super_struct),\nItemTypes::Done(packed)     =&gt; done_array_buffer.push(packed.super_struct)\n}\n}\n</code></pre> <ol> <li>\u4fdd\u7559\u3068\u5b8c\u4e86\u306e\u5408\u8a08\u6570\u3092\u30ab\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002</li> </ol> <p>\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u5404\u30d9\u30af\u30c8\u30eb\u306b\u5bfe\u3057\u3066len\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002len\u95a2\u6570\u306f\u3001\u30dd\u30a4\u30f3\u30bf\u30b5\u30a4\u30ba\u306e\u7b26\u53f7\u306a\u3057\u6574\u6570\u578b\u3067\u3042\u308busize\u3092\u8fd4\u3057\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067i8\u3068\u3057\u3066\u30ad\u30e3\u30b9\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>let done_count: i8 = done_array_buffer.len() as i8;\nlet pending_count: i8 = pending_array_buffer.len() as i8;\n</code></pre> <ol> <li>\u3053\u308c\u3067\u3001\u69cb\u9020\u4f53\u306e\u69cb\u7bc9\u3068\u8fd4\u5374\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u304c\u3059\u3079\u3066\u63c3\u3044\u307e\u3057\u305f\u3002\u69cb\u9020\u4f53\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>return ToDoItems{\npending_items:      pending_array_buffer, done_item_count:    done_count,\npending_item_count: pending_count, done_items:         done_array_buffer\n}\n</code></pre> <p>\u3053\u308c\u3067\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306f\u5b8c\u6210\u3067\u3059\u3002</p> <p>\u3053\u308c\u3067\u3001\u3053\u306e\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3042\u3068\u306f\u3001\u3053\u308c\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30d7\u30e9\u30b0\u30a4\u30f3\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u6e21\u305b\u308b\u3088\u3046\u306b\u3059\u308b\u3060\u3051\u3067\u3059\u3002json_serialization/mod.rs\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067public\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub mod to_do_items;\n</code></pre> <p>\u3053\u308c\u3067\u3001src/main.rs\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5ba3\u8a00\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>mod json_serialization;\n</code></pre> <p>\u307e\u305f\u3001src/to_do/structs/mod.rs\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u30d9\u30fc\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u304cpublic\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002src/to_do/structs/base.rs\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u3001\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u3068\u304d\u306b\uff5c\u69cb\u9020\u4f53\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u3053\u3068\u306b\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>pub mod to_do_items;\nuse super::super::enums::TaskStatus;\nuse serde::Serialize;\n#[derive(Serialize)]\npub struct Base {\npub title: String,\npub status: TaskStatus\n}\n</code></pre> <p>\u69cb\u9020\u4f53\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001views/to_do/get.rs\u30d5\u30a1\u30a4\u30eb\u306eGET\u30d3\u30e5\u30fc\u3067\u5b9a\u7fa9\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u69cb\u9020\u4f53\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use actix_web::{web, Responder};\nuse serde_json::value::Value;\nuse serde_json::Map;\nuse crate::state::read_file;\nuse crate::to_do::{ItemTypes, to_do_factory, enums::TaskStatus};\nuse crate::json_serialization::to_do_items::ToDoItems;\npub async fn get() -&gt; impl Responder {\nlet state: Map&lt;String, Value&gt; = read_file(\"./state.json\");\nlet mut array_buffer = Vec::new();\nfor (key, value) in state {\nlet status = TaskStatus::from_string(&amp;value.as_str().unwrap()).to_string();\nlet item: ItemTypes = to_do_factory(&amp;key, status);\narray_buffer.push(item);\n}\nlet return_package: ToDoItems = ToDoItems::new(array_buffer);\nreturn web::Json(return_package);\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3082\u3001\u3059\u3079\u3066\u304c\u30ab\u30c1\u30c3\u3068\u306f\u307e\u3063\u305f\u77ac\u9593\u306e\u4f8b\u3067\u3059\u3002read_file\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3001JSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30b9\u30c6\u30fc\u30c8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30de\u30c3\u30d7\u3092\u30eb\u30fc\u30d7\u3057\u3066\u30a2\u30a4\u30c6\u30e0\u30bf\u30a4\u30d7\u3092\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u3001to_do_factory\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u306b\u9001\u308a\u8fbc\u307f\u307e\u3059\u3002\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u304b\u3089\u69cb\u7bc9\u3055\u308c\u305f\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3057\u305f\u3089\u3001\u305d\u308c\u3092\u30d9\u30af\u30bf\u30fc\u306b\u8ffd\u52a0\u3057\u3066\u3001\u305d\u306e\u30d9\u30af\u30bf\u30fc\u3092JSON\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u69cb\u9020\u4f53\u306b\u9001\u308a\u8fbc\u307f\u307e\u3059\u3002get\u30d3\u30e5\u30fc\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306aJSON\u30dc\u30c7\u30a3\u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002</p> <pre><code>{\n\"pending_items\": [\n{\n\"title\": \"learn to code rust\",\n\"status\": \"PENDING\"\n},\n{\n\"title\": \"washing\",\n\"status\": \"PENDING\"\n}\n],\n\"done_items\": [],\n\"pending_item_count\": 2,\n\"done_item_count\": 0\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001\u62e1\u5f35\u3084\u7de8\u96c6\u304c\u53ef\u80fd\u306a\u3001\u69cb\u9020\u5316\u3055\u308c\u305f\u5fdc\u7b54\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u767a\u306f\u6c7a\u3057\u3066\u6b62\u307e\u3089\u306a\u3044\u306e\u3067\u3001\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u7dad\u6301\u3057\u7d9a\u3051\u308b\u3064\u3082\u308a\u306a\u3089\u3001\u3053\u306e\u623b\u308a\u5024\u306eJSON\u30dc\u30c7\u30a3\u306b\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3053\u3068\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\u79c1\u305f\u3061\u306f\u3059\u3050\u306b\u4ed6\u306e\u30d3\u30e5\u30fc\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u305d\u306e\u524d\u306b\u3001API\u30b3\u30fc\u30eb\u3092\u884c\u3046\u305f\u3073\u306b\u3001\u30ab\u30a6\u30f3\u30c8\u3092\u542b\u3080\u30a2\u30a4\u30c6\u30e0\u306e\u5168\u30ea\u30b9\u30c8\u3092\u8fd4\u3059\u3053\u3068\u306b\u306a\u308b\u3053\u3068\u3092\u8a8d\u8b58\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u305d\u3046\u3067\u306a\u3051\u308c\u3070\u3001\u4ed6\u306e\u3059\u3079\u3066\u306e\u30d3\u30e5\u30fc\u3067\u3001get\u30d3\u30e5\u30fc\u3067\u66f8\u3044\u305f\u306e\u3068\u540c\u3058\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001ToDo\u9805\u76ee\u3092\u8907\u6570\u306e\u30d3\u30e5\u30fc\u3067\u8fd4\u305b\u308b\u3088\u3046\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"4_ProcessingHTTPRequests/UsingMacrosForJSONSerialization/#_3","title":"\u30e6\u30fc\u30b6\u30fc\u306b\u8fd4\u5374\u3059\u308b\u30ab\u30b9\u30bf\u30e0\u30b7\u30ea\u30a2\u30eb\u5316\u3055\u308c\u305f\u69cb\u9020\u4f53\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u30f3\u30b0\u3059\u308b\u3002","text":"<p>\u3055\u3066\u3001GET \u30d3\u30e5\u30fc\u306f Responder trait \u306e\u5b9f\u88c5\u3092\u8fd4\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001ToDoItems\u69cb\u9020\u4f53\u3082\u3053\u308c\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308c\u3070\u3001\u30d3\u30e5\u30fc\u3067\u76f4\u63a5\u8fd4\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u306f\u3001json_serialization/to_do_items.rs \u30d5\u30a1\u30a4\u30eb\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u69cb\u9020\u4f53\u3068trait\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use serde::Serialize;\nuse std::vec::Vec;\nuse serde_json::value::Value;\nuse serde_json::Map;\nuse actix_web::{\nbody::BoxBody, http::header::ContentType, HttpRequest, HttpResponse, Responder,\n};\nuse crate::to_do::ItemTypes;\nuse crate::to_do::structs::base::Base;\nuse crate::state::read_file;\nuse crate::to_do::{to_do_factory, enums::TaskStatus};\n</code></pre> <p>actix_web\u30af\u30ec\u30fc\u30c8\u304b\u3089\u3001HTTP\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u3055\u307e\u3056\u307e\u306a\u69cb\u9020\u4f53\u3084trait\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002ToDoItems\u69cb\u9020\u4f53\u306eget_state\u95a2\u6570\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067get view\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <pre><code>impl ToDoItems {\npub fn new(input_items: Vec&lt;ItemTypes&gt;) -&gt; ToDoItems {\n. . .\n}\npub fn get_state() -&gt; ToDoItems {\nlet state: Map&lt;String, Value&gt; = read_file(\"./state.json\");\nlet mut array_buffer = Vec::new();\nfor (key, value) in state {\nlet status = TaskStatus::from_string(&amp;value.as_str().unwrap().to_string());\nlet item = to_do_factory(&amp;key, status);\narray_buffer.push(item);\n}\nreturn ToDoItems::new(array_buffer)\n}\n}\n</code></pre> <p>\u3053\u306e\u3088\u3046\u306b\u30011\u884c\u306e\u30b3\u30fc\u30c9\u3067JSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u3059\u3079\u3066\u306eToDo\u9805\u76ee\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306eToDoItems\u69cb\u9020\u4f53\u3092\u30d3\u30e5\u30fc\u3067\u8fd4\u305b\u308b\u3088\u3046\u306b\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067Responder trait\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>impl Responder for ToDoItems {\ntype Body = BoxBody;\nfn respond_to(self, _req: &amp;HttpRequest) -&gt; HttpResponse&lt;Self::Body&gt; {\nlet body = serde_json::to_string(&amp;self).unwrap();\nHttpResponse::Ok()\n.content_type(ContentType::json())\n.body(body)\n}\n}\n</code></pre> <p>\u524d\u8ff0\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001serde_json\u30af\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u3066ToDoItems\u69cb\u9020\u4f53\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u3001ToDoItems\u69cb\u9020\u4f53\u3092\u30dc\u30c7\u30a3\u306b\u6301\u3064HTTP\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\u3068\u3044\u3046\u3053\u3068\u3092\u672c\u8cea\u7684\u306b\u884c\u3063\u3066\u3044\u307e\u3059\u3002respond_to\u95a2\u6570\u306f\u3001ToDoItems\u69cb\u9020\u4f53\u304c\u30d3\u30e5\u30fc\u3067\u8fd4\u3055\u308c\u308b\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\u3055\u3066\u3001\u3053\u3053\u304b\u3089\u304c\u672c\u756a\u3067\u3059\u3002views/to_do/get.rs\u30d5\u30a1\u30a4\u30eb\u3092\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use actix_web::Responder;\nuse crate::json_serialization::to_do_items::ToDoItems;\npub async fn get() -&gt; impl Responder {\nreturn ToDoItems::get_state();\n}\n</code></pre> <p>\u3053\u308c\u3067\u3044\u3044\uff01\u4eca\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u524d\u3068\u540c\u3058\u5fdc\u7b54\u304c\u5f97\u3089\u308c\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001trait\u306f\u30d3\u30e5\u30fc\u306e\u30b3\u30fc\u30c9\u3092\u62bd\u8c61\u5316\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3055\u3066\u3001get\u30d3\u30e5\u30fc\u3092\u4f5c\u3063\u305f\u306e\u3067\u3001\u6b21\u306fcreate\u3001edit\u3001delete\u306e\u30d3\u30e5\u30fc\u3092\u4f5c\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u3087\u3046\u3002\u305d\u306e\u305f\u3081\u306b\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3001\u3064\u307e\u308a\u30d3\u30e5\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u3053\u3068\u306b\u9032\u307f\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/","title":"5 - \u30d6\u30e9\u30a6\u30b6\u3067\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b","text":""},{"location":"5_DisplayingContentInTheBrowser/#_1","title":"\u30d6\u30e9\u30a6\u30b6\u3067\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b","text":"<p>\u7570\u306a\u308b\u30e1\u30bd\u30c3\u30c9\u3084\u30c7\u30fc\u30bf\u3092\u6301\u3064\u3055\u307e\u3056\u307e\u306aHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7ba1\u7406\u3067\u304d\u308bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3067\u304d\u308b\u6bb5\u968e\u307e\u3067\u6765\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u7279\u306b\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u7528\u306e\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u4fbf\u5229\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u30ce\u30f3\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u304c\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u5bfe\u8a71\u3057\u3001\u305d\u308c\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u671b\u3093\u3067\u3044\u307e\u3059\u3002\u30ce\u30f3\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u304c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u306b\u306f\u3001\u30b0\u30e9\u30d5\u30a3\u30ab\u30eb\u30fb\u30e6\u30fc\u30b6\u30fc\u30fb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u3053\u306e\u7ae0\u3067\u306fRust\u304c\u3042\u307e\u308a\u51fa\u3066\u3053\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\u306a\u305c\u306a\u3089\u3001\u30b0\u30e9\u30d5\u30a3\u30ab\u30eb\u30fb\u30e6\u30fc\u30b6\u30fc\u30fb\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306e\u8a00\u8a9e\u306f\u4ed6\u306b\u3082\u5b58\u5728\u3059\u308b\u304b\u3089\u3067\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4e3b\u306bHTML\u3001JavaScript\u3001CSS\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30c4\u30fc\u30eb\u306f\u6210\u719f\u3057\u3066\u304a\u308a\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306eWeb\u958b\u767a\u306b\u5e83\u304f\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u79c1\u81ea\u8eab\u306fRust\u304c\u5927\u597d\u304d\u3067\u3059\u304c\uff08\u305d\u3046\u3067\u306a\u3051\u308c\u3070Rust\u306e\u672c\u3092\u66f8\u3044\u3066\u3044\u307e\u305b\u3093\uff09\u3001\u9069\u5207\u306a\u4ed5\u4e8b\u306b\u306f\u9069\u5207\u306a\u30c4\u30fc\u30eb\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u672c\u3092\u66f8\u3044\u3066\u3044\u308b\u6642\u70b9\u3067\u306f\u3001Yew\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u3063\u3066Rust\u3067\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3088\u308a\u6210\u719f\u3057\u305f\u30c4\u30fc\u30eb\u3092Rust\u306e\u6280\u8853\u30b9\u30bf\u30c3\u30af\u306b\u878d\u5408\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308c\u3070\u3001\u3088\u308a\u4fa1\u5024\u306e\u3042\u308b\u30b9\u30ad\u30eb\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u672c\u7ae0\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u9805\u76ee\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p> <ul> <li>Rust\u3092\u4f7f\u3063\u305fHTML\u3001CSS\u3001JavaScript\u306e\u30b5\u30fc\u30d3\u30b9</li> <li>Rust\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3059\u308bReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u7bc9</li> <li>React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5909\u63db\u3057\u3001\u30d1\u30bd\u30b3\u30f3\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002</li> </ul> <p>\u524d\u56de\uff08Rust Web Programming:A hands-on guide to develop fast and secure web apps with the Rust programming language\uff09\u3067\u306f\u3001\u5358\u306bRust\u304b\u3089\u76f4\u63a5\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30a2\u30bb\u30c3\u30c8\u3092\u63d0\u4f9b\u3059\u308b\u3060\u3051\u3067\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3068\u4fee\u6b63\u306b\u3088\u308a\u3001\u3053\u308c\u306f\u3046\u307e\u304f\u30b9\u30b1\u30fc\u30eb\u305b\u305a\u3001\u591a\u304f\u306e\u7e70\u308a\u8fd4\u3057\u304c\u767a\u751f\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u307e\u305f\u3001Rust\u3067\u76f4\u63a5\u63d0\u4f9b\u3055\u308c\u308b\u751f\u306eHTML\u3001CSS\u3001JavaScript\u306f\u3001\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u69cb\u9020\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3084\u3059\u304f\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u3002\u305d\u306e\u305f\u3081\u3001\u3053\u306e\u7b2c2\u7248\u3067\u306f\u3001React\u3092\u30ab\u30d0\u30fc\u3059\u308b\u3068\u540c\u6642\u306b\u3001Rust\u3067\u76f4\u63a5\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u8cc7\u7523\u3092\u63d0\u4f9b\u3059\u308b\u65b9\u6cd5\u3092\u7c21\u5358\u306b\u7d39\u4ecb\u3057\u307e\u3059\u3002\u3053\u306e\u7ae0\u304c\u7d42\u308f\u308b\u9803\u306b\u306f\u3001\u57fa\u672c\u7684\u306a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b0\u30e9\u30d5\u30a3\u30ab\u30eb\u30fb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f9d\u5b58\u95a2\u4fc2\u306a\u3057\u306b\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u4f4e\u4f9d\u5b58\u6027\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30fb\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3068React\u306e\u3088\u3046\u306a\u5b8c\u5168\u306a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30fb\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u9593\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u3092\u7406\u89e3\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u4f4e\u4f9d\u5b58\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3068React\u306a\u3069\u306e\u30d5\u30eb\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u3092\u7406\u89e3\u3057\u3001\u4e21\u8005\u306e\u4f7f\u3044\u5206\u3051\u3092\u7406\u89e3\u3059\u308b\u3060\u3051\u3067\u306a\u304f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u5fc5\u8981\u306a\u3068\u304d\u306b\u4e21\u8005\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u5b9f\u88c5\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u3001\u9069\u5207\u306a\u4ed5\u4e8b\u306b\u9069\u5207\u306a\u30c4\u30fc\u30eb\u3092\u9078\u3073\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3067\u306fRust\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u306fJavaScript\u3092\u4f7f\u7528\u3057\u3066\u30a8\u30f3\u30c9\u30c4\u30fc\u30a8\u30f3\u30c9\u306e\u88fd\u54c1\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/ConvertingOurReactApplicationIntoADesktopApplication/","title":"5.10 - React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3078\u5909\u63db\u3059\u308b","text":""},{"location":"5_DisplayingContentInTheBrowser/ConvertingOurReactApplicationIntoADesktopApplication/#react","title":"React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3078\u5909\u63db\u3059\u308b","text":"<p>React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u306f\u8907\u96d1\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081\u306bElectron\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002Electron\u306f\u3001JavaScript\u3001HTML\u3001CSS\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3001macOS\u3001Linux\u3001Windows\u306e\u5404\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u305f\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5909\u63db\u3057\u3066\u304f\u308c\u308b\u5f37\u529b\u306a\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002Electron\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306f\u3001\u6697\u53f7\u5316\u3055\u308c\u305f\u30b9\u30c8\u30ec\u30fc\u30b8\u3001\u901a\u77e5\u3001\u96fb\u6e90\u30e2\u30cb\u30bf\u30fc\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u30dd\u30fc\u30c8\u3001\u30d7\u30ed\u30bb\u30b9\u3001\u30b7\u30a7\u30eb\u3001\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\u306a\u3069\u3001API\u3092\u4ecb\u3057\u3066\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002Slack\u3001Visual Studio Code\u3001Twitch\u3001Microsoft Teams\u306a\u3069\u306e\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001Electron\u306b\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5909\u63db\u3059\u308b\u306b\u306f\u3001package.json\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u3081\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u307e\u305a\u3001package.json\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u306b\u3042\u308bmetadata\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>{\n\"name\": \"front_end\",\n\"version\": \"0.1.0\",\n\"private\": true,\n\"homepage\": \"./\",\n\"main\": \"public/electron.js\",\n\"description\": \"GUI Desktop Application for a simple To \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Do App\",\n\"author\": \"Maxwell Flitton\",\n\"build\": {\n\"appId\": \"Packt\"\n},\n\"dependencies\": {\n\u00a0\u00a0\u00a0\u00a0. . .\n</code></pre> <p>\u305d\u306e\u307b\u3068\u3093\u3069\u306f\u4e00\u822c\u7684\u306a\u30e1\u30bf\u30c7\u30fc\u30bf\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u30e1\u30a4\u30f3\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u5fc5\u9808\u3067\u3059\u3002\u3053\u3053\u306b\u3001Electron\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u65b9\u6cd5\u3092\u5b9a\u7fa9\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\u307e\u305f\u3001homepage\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\"./\"\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30a2\u30bb\u30c3\u30c8\u306e\u30d1\u30b9\u304cindex.html\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u76f8\u5bfe\u30d1\u30b9\u3067\u3042\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002\u30e1\u30bf\u30c7\u30fc\u30bf\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001\u6b21\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> <pre><code>\"webpack\": \"4.28.3\",\n\"cross-env\": \"^7.0.3\",\n\"electron-is-dev\": \"^2.0.0\"\n</code></pre> <p>\u3053\u308c\u3089\u306e\u4f9d\u5b58\u95a2\u4fc2\u306f\u3001Electron\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u7bc9\u3092\u652f\u63f4\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u304c\u8ffd\u52a0\u3055\u308c\u305f\u3089\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u518d\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>\u00a0\u00a0\u00a0\u00a0. . .\n\"scripts\": {\n\"react-start\": \"react-scripts start\",\n\"react-build\": \"react-scripts build\",\n\"react-test\": \"react-scripts test\",\n\"react-eject\": \"react-scripts eject\",\n\"electron-build\": \"electron-builder\",\n\"build\": \"npm run react-build &amp;&amp; npm run electron-\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0build\",\n\"start\": \"concurrently \\\"cross-env BROWSER=none npm run \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0react-start\\\" \\\"wait-on http://localhost:3000 \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&amp;&amp; electron .\\\"\"\n},\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001React\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u524d\u306breact\u3092\u4ed8\u3051\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001React\u306e\u30d7\u30ed\u30bb\u30b9\u3068Electron\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u5206\u96e2\u3059\u308b\u305f\u3081\u3067\u3059\u3002React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092dev\u30e2\u30fc\u30c9\u3067\u52d5\u304b\u3059\u3060\u3051\u306a\u3089\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>$ npm run react-start\n</code></pre> <p>\u307e\u305f\u3001Electron\u306e\u30d3\u30eb\u30c9\u30b3\u30de\u30f3\u30c9\u3068\u958b\u767a\u958b\u59cb\u30b3\u30de\u30f3\u30c9\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002Electron\u30d5\u30a1\u30a4\u30eb\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u3053\u308c\u3089\u306f\u307e\u3060\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002package.json\u30d5\u30a1\u30a4\u30eb\u306e\u4e0b\u90e8\u306b\u306f\u3001Electron\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u306e\u958b\u767a\u8005\u5411\u3051\u4f9d\u5b58\u95a2\u4fc2\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>\u00a0\u00a0\u00a0\u00a0. . .\n\"development\": [\n\"last 1 chrome version\",\n\"last 1 firefox version\",\n\"last 1 safari version\"\n]\n},\n\"devDependencies\": {\n\"concurrently\": \"^7.1.0\",\n\"electron\": \"^18.0.1\",\n\"electron-builder\": \"^22.14.13\",\n\"wait-on\": \"^6.0.1\"\n}\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001package.json \u30d5\u30a1\u30a4\u30eb\u306b\u5fc5\u8981\u306a\u3082\u306e\u3092\u3059\u3079\u3066\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u65b0\u3057\u3044\u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>$ npm install\n</code></pre> <p>\u3055\u3066\u3001\u3053\u3053\u3067 front_end/public/electron.js \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001Electron \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u306f\u57fa\u672c\u7684\u306b\u30dc\u30a4\u30e9\u30fc\u30d7\u30ec\u30fc\u30c8\u30b3\u30fc\u30c9\u3067\u3001Electron\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306e\u6700\u5c0f\u9650\u306e\u3082\u306e\u306a\u306e\u3067\u3001\u304a\u305d\u3089\u304f\u4ed6\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u3082\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u76ee\u306b\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>const { app, BrowserWindow } = require(\"electron\");\nconst path = require(\"path\");\nconst isDev = require(\"electron-is-dev\");\n</code></pre> <p>\u6b21\u306b\u3001Desktop\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u4f5c\u6210\u3059\u308b\u95a2\u6570\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>function createWindow() {\nconst mainWindow = new BrowserWindow({\nwidth: 800,\nheight: 600,\nwebPreferences: {\nnodeIntegration: true,\nenableRemoteModule: true,\ncontextIsolation: false,\n},\n});\nmainWindow.loadURL(\nisDev\n? \"http://localhost:3000\"\n: `file://${path.join(__dirname, \"../build/index.html\")}`\n);\nif (isDev) {\nmainWindow.webContents.openDevTools();\n}\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u57fa\u672c\u7684\u306b\u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u5e45\u3068\u9ad8\u3055\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001nodeIntegration\u3068enableRemoteModule\u306b\u3088\u3063\u3066\u3001\u30ec\u30f3\u30c0\u30e9\u30fc\u306e\u30ea\u30e2\u30fc\u30c8\u30d7\u30ed\u30bb\u30b9\uff08\u30d6\u30e9\u30a6\u30b6\u30a6\u30a3\u30f3\u30c9\u30a6\uff09\u304c\u30e1\u30a4\u30f3\u30d7\u30ed\u30bb\u30b9\u4e0a\u3067\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u3057\u3066\u3001\u30e1\u30a4\u30f3\u30a6\u30a3\u30f3\u30c9\u30a6\u3067URL\u306e\u8aad\u307f\u8fbc\u307f\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\u958b\u767a\u8005\u30e2\u30fc\u30c9\u3067\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f\u3001localhost\u4e0a\u3067React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u305f\u3081\u3001http://localhost:3000 \u3092\u8aad\u307f\u8fbc\u3080\u3060\u3051\u3067\u3059\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30d3\u30eb\u30c9\u3059\u308b\u5834\u5408\u306f\u3001\u79c1\u305f\u3061\u304c\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3057\u305f\u30a2\u30bb\u30c3\u30c8\u3068\u30d5\u30a1\u30a4\u30eb\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u3001./build/index.html\u30d5\u30a1\u30a4\u30eb\u3092\u901a\u3057\u3066\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u958b\u767a\u8005\u30e2\u30fc\u30c9\u3067\u5b9f\u884c\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u958b\u767a\u8005\u30c4\u30fc\u30eb\u3092\u958b\u304f\u3053\u3068\u3092\u660e\u8a18\u3057\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u6e96\u5099\u304c\u3067\u304d\u305f\u3089createWindow\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  </p> <pre><code>app.whenReady().then(() =&gt; {\ncreateWindow();\napp.on(\"activate\", function () {\nif (BrowserWindow.getAllWindows().length === 0){\ncreateWindow(); }\n});\n});\n</code></pre> <p>OS\u304cmacOS\u306e\u5834\u5408\u3001\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u9589\u3058\u3066\u3082\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8d77\u52d5\u3057\u7d9a\u3051\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002</p> <pre><code>app.on(\"window-all-closed\", function () {\nif (process.platform !== \"darwin\") app.quit();\n});\n</code></pre> <p>\u3053\u3053\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>$ npm start\n</code></pre> <p>\u3053\u308c\u3067Electron\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u3001\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <p>\u56f35.14 - Electron\u3067\u52d5\u4f5c\u3059\u308bReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3</p> <p>\u56f35.13\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u4e0a\u306e\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u753b\u9762\u4e0a\u90e8\u306b\u3042\u308b\u30e1\u30cb\u30e5\u30fc\u30d0\u30fc\u304b\u3089\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3053\u3068\u3082\u308f\u304b\u308a\u307e\u3059\u3002\u30bf\u30b9\u30af\u30d0\u30fc\u306b\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30ed\u30b4\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u56f35.15 - \u30bf\u30b9\u30af\u30d0\u30fc\u306eElectron</p> <p>\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001dist\u30d5\u30a9\u30eb\u30c0\u306b\u3042\u308b\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3001\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <pre><code>$ npm build\n</code></pre> <p>\u4ee5\u4e0b\u306f\u3001Mac\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u9818\u57df\u3067\u3001\u79c1\u304c\u4f5c\u3063\u305fCamel for OasisLMF\u3068\u3044\u3046\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u306eGUI\u3092Electron\u3067\u8a66\u3057\u305f\u3068\u304d\u306e\u4f8b\u3067\u3059\u3002</p> <p>\u56f35.16-\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u9818\u57df\u3067\u306eElectron\u30a2\u30d7\u30ea\u306e\u7d39\u4ecb</p> <p>\u6700\u7d42\u7684\u306b\u306f\u3001\u30ed\u30b4\u3092\u8003\u3048\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u3067\u30d6\u30e9\u30a6\u30b6\u3067\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\u3053\u306e\u7ae0\u306f\u7d42\u4e86\u3067\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/CreatingAReactApp/","title":"5.6 - React\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3059\u308b","text":""},{"location":"5_DisplayingContentInTheBrowser/CreatingAReactApp/#react","title":"React\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3059\u308b","text":"<p>React\u306f\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u901a\u5e38\u306fReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u72ec\u81ea\u306eGitHub\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u7f6e\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002Rust\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u540c\u3058GitHub\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u7ba1\u7406\u3057\u305f\u3044\u5834\u5408\u306f\u69cb\u3044\u307e\u305b\u3093\u304c\u3001\u30eb\u30fc\u30c8\u5185\u306e\u7570\u306a\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u3053\u3068\u3060\u3051\u306f\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002Rust Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5916\u5074\u306b\u79fb\u52d5\u3057\u305f\u3089\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <pre><code>$ npx create-react-app front_end\n</code></pre> <p>\u3053\u308c\u3067front_end\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3002\u4e2d\u3092\u898b\u3066\u307f\u308b\u3068\u3001\u305f\u304f\u3055\u3093\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u672c\u66f8\u306fRust\u3092\u4f7f\u3063\u305fWeb\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u3064\u3044\u3066\u66f8\u304b\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002React\u306e\u3059\u3079\u3066\u3092\u63a2\u6c42\u3059\u308b\u3053\u3068\u306f\u3001\u672c\u66f8\u306e\u7bc4\u56f2\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001React\u306e\u958b\u767a\u306b\u7279\u5316\u3057\u305f\u66f8\u7c4d\u306f\u3001\u300cFurther reading\u300d\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u63d0\u6848\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4eca\u306f\u3001front_end/package.json \u30d5\u30a1\u30a4\u30eb\u306b\u6ce8\u76ee\u3057\u307e\u3059\u3002package.json\u30d5\u30a1\u30a4\u30eb\u306f\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3001\u4f9d\u5b58\u95a2\u4fc2\u3084\u30b9\u30af\u30ea\u30d7\u30c8\u3001\u69cb\u7bc9\u4e2d\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u95a2\u3059\u308b\u305d\u306e\u4ed6\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u5b9a\u7fa9\u3059\u308b\u5834\u6240\u3067\u3059\u3002package.json\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> <pre><code>. . .\n\"scripts\": {\n\"start\": \"react-scripts start\",\n\"build\": \"react-scripts build\",\n\"test\": \"react-scripts test\",\n\"eject\": \"react-scripts eject\"\n},\n. . .\n</code></pre> <p>\u5fc5\u8981\u3067\u3042\u308c\u3070\u7de8\u96c6\u3067\u304d\u307e\u3059\u304c\u3001\u73fe\u72b6\u3067\u306f\u3001package.json\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067npm start\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001react-scripts start\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3059\u3050\u306bReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u307e\u3059\u304c\u3001\u305d\u306e\u524d\u306b\u3001front_end/src/App.js\u30d5\u30a1\u30a4\u30eb\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u7de8\u96c6\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>import React, { Component } from 'react';\nclass App extends Component {\nstate = {\n\"message\": \"To Do\"\n}\nrender() {\nreturn (\n&lt;div className=\"App\"&gt;\n&lt;p&gt;{this.state.message} application&lt;/p&gt;\n&lt;/div&gt;\n)\n}\n}\nexport default App;\n</code></pre> <p>\u3053\u306e\u30b3\u30fc\u30c9\u3092\u5206\u89e3\u3059\u308b\u524d\u306b\u3001\u660e\u3089\u304b\u306b\u3057\u3066\u304a\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3092\u898b\u308b\u3068\u3001\u300cJavaScript\u306f\u30af\u30e9\u30b9\u30d9\u30fc\u30b9\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411\u8a00\u8a9e\u3067\u306f\u306a\u3044\u300d\u3068\u66f8\u304b\u308c\u305f\u8a18\u4e8b\u306b\u51fa\u4f1a\u3046\u3053\u3068\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\u672c\u66f8\u306f\u3001JavaScript\u3092\u6df1\u304f\u6398\u308a\u4e0b\u3052\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u3001\u3053\u306e\u7ae0\u3067\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3092\u7acb\u3061\u4e0a\u3052\u308b\u306e\u306b\u5341\u5206\u306a\u77e5\u8b58\u3092\u4e0e\u3048\u308b\u3053\u3068\u3092\u76ee\u7684\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u7ae0\u3092\u8aad\u3081\u3070\u3001Rust\u306eWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3092\u8ffd\u52a0\u3057\u305f\u3044\u3068\u601d\u3063\u305f\u3068\u304d\u306b\u3001\u3055\u3089\u306b\u8aad\u307f\u9032\u3081\u3084\u3059\u304f\u306a\u308a\u3001\u3042\u306a\u305f\u306e\u65c5\u304c\u59cb\u307e\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u307e\u3059\u3002\u3053\u306e\u7ae0\u3067\u306f\u3001\u7d99\u627f\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30af\u30e9\u30b9\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3064\u3044\u3066\u3060\u3051\u8aac\u660e\u3057\u307e\u3059\u3002</p> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001react\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089component\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30fb\u30af\u30e9\u30b9\u3092\u7d99\u627f\u3059\u308bApp\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002App\u30af\u30e9\u30b9\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4e3b\u8981\u90e8\u5206\u3067\u3042\u308a\u3001front_end/src/App.js\u30d5\u30a1\u30a4\u30eb\u3092\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002App\u30af\u30e9\u30b9\u3067\u306f\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u4ed6\u306e\u30eb\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001App\u30af\u30e9\u30b9\u306b\u5c5e\u3059\u308b\u30b9\u30c6\u30fc\u30c8\uff08\u72b6\u614b\uff09\u304c\u3042\u308b\u3053\u3068\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5168\u4f53\u7684\u306a\u30e1\u30e2\u30ea\u3067\u3059\u3002\u30b9\u30c6\u30fc\u30c8\u304c\u66f4\u65b0\u3055\u308c\u308b\u305f\u3073\u306b\u3001render\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u5185\u5bb9\u304c\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u3053\u306e\u7ae0\u306e\u524d\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u3001\u30b9\u30c6\u30fc\u30c8\u304c\u81ea\u4f5c\u306e\u30ec\u30f3\u30c0\u30fc\u95a2\u6570\u3092\u66f4\u65b0\u3059\u308b\u3068\u304d\u306b\u884c\u3063\u3066\u3044\u305f\u3053\u3068\u304c\u3001\u304b\u306a\u308a\u62bd\u8c61\u5316\u3055\u308c\u307e\u3057\u305f\u3002\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u95a2\u6570\u306e\u623b\u308a\u5024\u3067\u3001\u72b6\u614b\u3092\u53c2\u7167\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306fJSX\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u3067\u3001\u4f59\u5206\u306a\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u308f\u305a\u306bJavaScript\u3067\u76f4\u63a5HTML\u8981\u7d20\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3055\u3066\u3001\u57fa\u672c\u7684\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9a\u7fa9\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u3053\u308c\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u3066\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002</p> <p>package.json\u30d5\u30a1\u30a4\u30eb\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002</p> <pre><code>$ npm start\n</code></pre> <p>React\u30b5\u30fc\u30d0\u30fc\u304c\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d3\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p>\u56f35.10\u300cReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u6700\u521d\u306e\u30e1\u30a4\u30f3\u30d3\u30e5\u30fc</p> <p>\u3053\u3053\u3067\u306f\u3001\u30b9\u30c6\u30fc\u30c8\u5185\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u30ec\u30f3\u30c0\u30fc\u95a2\u6570\u306b\u6e21\u3055\u308c\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u3067React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8d77\u52d5\u3057\u305f\u306e\u3067\u3001API\u30b3\u30fc\u30eb\u3092\u4f7f\u3063\u3066React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3057\u59cb\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/CreatingCustomComponentsInReact/","title":"5.8 - React\u306e\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4f5c\u6210","text":""},{"location":"5_DisplayingContentInTheBrowser/CreatingCustomComponentsInReact/#react","title":"React\u306e\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4f5c\u6210","text":"<p>App\u30af\u30e9\u30b9\u3092\u898b\u3066\u307f\u308b\u3068\u3001HTML\u3092\u30d6\u30e9\u30a6\u30b6\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u65b9\u6cd5\u3084\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306b\u3001\u30b9\u30c6\u30fc\u30c8\u3068\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3092\u6d3b\u7528\u3067\u304d\u308b\u30af\u30e9\u30b9\u304c\u3042\u308b\u3068\u4fbf\u5229\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u500b\u3005\u306eToDo\u9805\u76ee\u306b\u95a2\u3057\u3066\u306f\u3001\u30b9\u30c6\u30fc\u30c8\u3068\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001ToDo\u9805\u76ee\u304b\u3089\u5c5e\u6027\u3092\u53d6\u5f97\u3057\u3001Rust\u30b5\u30fc\u30d0\u3092\u547c\u3073\u51fa\u3057\u3066\u7de8\u96c6\u307e\u305f\u306f\u524a\u9664\u3092\u884c\u3046\u30dc\u30bf\u30f3\u304c\u3042\u308b\u305f\u3081\u3067\u3059\u3002\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001src/components/ToDoItem.js\u306bToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u3001src/components/CreateToDoItem.js\u306bCreateToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u30a2\u30d7\u30ea\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u30a2\u30a4\u30c6\u30e0\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u30eb\u30fc\u30d7\u3057\u3066\u8907\u6570\u306eToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u5fc5\u8981\u306a\u624b\u9806\u304c\u3044\u304f\u3064\u304b\u3042\u308b\u306e\u3067\u3001\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30b5\u30d6\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u5206\u5272\u3057\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p> <ul> <li>ToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b</li> <li>CreateToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li>\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092App\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u69cb\u7bc9\u30fb\u7ba1\u7406\u3059\u308b</li> </ul> <p>\u3055\u3063\u305d\u304f\u59cb\u3081\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/CreatingCustomComponentsInReact/#todoitem","title":"ToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u307e\u305a\u306f\u3001\u3088\u308a\u30b7\u30f3\u30d7\u30eb\u306aToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092src/components/ToDoItem.js\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>import React, { Component } from 'react';\nimport axios from \"axios\";\n</code></pre> <p>\u3053\u308c\u306f\u4f55\u3082\u65b0\u3057\u3044\u3053\u3068\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067ToDoItem\u3092\u3069\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u304b\u306b\u7126\u70b9\u3092\u5f53\u3066\u307e\u3059\u3002</p> <pre><code>class ToDoItem extends Component {\nstate = {\n\"title\": this.props.title,\n\"status\": this.props.status,\n\"button\": this.processStatus(this.props.status)\n}\nprocessStatus(status) {\n. . .\n}\ninverseStatus(status) {\n. . .\n}\nsendRequest = () =&gt; {\n. . .\n}\nrender() {\nreturn(\n. . .\n)\n}\n}\nexport default ToDoItem;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u69cb\u7bc9\u6642\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u6e21\u3055\u308c\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u3042\u308bthis.props\u3092\u30b9\u30c6\u30fc\u30c8\u306b\u5165\u529b\u3057\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001ToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u95a2\u6570\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002</p> <ul> <li>processStatus\u3092\u4f7f\u7528\u3059\u308b\u3002PENDING \u306a\u3069\u306e ToDo \u9805\u76ee\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u3001edit \u306a\u3069\u306e\u30dc\u30bf\u30f3\u306b\u8868\u793a\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u5909\u63db\u3059\u308b\u6a5f\u80fd\u3002</li> <li>inverseStatus\u3002\u30b9\u30c6\u30fc\u30bf\u30b9\u304cPENDING\u306eToDo\u30a2\u30a4\u30c6\u30e0\u304c\u3042\u308a\u3001\u305d\u308c\u3092\u7de8\u96c6\u3057\u305f\u5834\u5408\u3001\u305d\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092DONE\u306b\u5909\u63db\u3057\u3066\u3001\u30e9\u30b9\u30c8\u30b5\u30fc\u30d0\u30fc\u306e\u7de8\u96c6\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u9001\u4fe1\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u9006\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\u3002\u305d\u3053\u3067\u3001\u3053\u306e\u95a2\u6570\u3067\u306f\u3001\u6e21\u3055\u308c\u305f\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u9006\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li>sendRequest\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u306f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u7de8\u96c6\u307e\u305f\u306f\u524a\u9664\u306e\u305f\u3081\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092Rust\u30b5\u30fc\u30d0\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u307e\u305f\u3001sendRequest\u95a2\u6570\u304c\u30a2\u30ed\u30fc\u95a2\u6570\u3067\u3042\u308b\u3053\u3068\u3082\u308f\u304b\u308a\u307e\u3059\u3002\u77e2\u5370\u69cb\u6587\u3067\u306f\u3001\u95a2\u6570\u3092\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u7d50\u5408\u3057\u3066\u3001render return\u6587\u3067\u95a2\u6570\u3092\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3001\u95a2\u6570\u306b\u7d50\u5408\u3055\u308c\u305f\u30dc\u30bf\u30f3\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u305f\u3068\u304d\u306bsendRequest\u95a2\u6570\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002</li> </ul> <p>\u3053\u308c\u3067\u3001\u95a2\u6570\u306e\u5f79\u5272\u304c\u308f\u304b\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30b9\u30c6\u30fc\u30bf\u30b9\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>processStatus(status) {\nif (status === \"PENDING\") {\nreturn \"edit\"\n} else {\nreturn \"delete\"\n}\n}\ninverseStatus(status) {\nif (status === \"PENDING\") {\nreturn \"DONE\"\n} else {\nreturn \"PENDING\"\n}\n}\n</code></pre> <p>\u3053\u308c\u306f\u7c21\u5358\u306a\u3053\u3068\u306a\u306e\u3067\u3001\u3042\u307e\u308a\u8aac\u660e\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\u3055\u3066\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u51e6\u7406\u95a2\u6570\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067sendRequest\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>sendRequest = () =&gt; {\naxios.post(\"http://127.0.0.1:8000/v1/item/\" + this.state.button,\n{\n\"title\": this.state.title,\n\"status\": this.inverseStatus(this.state.status)\n},\n{headers: {\"token\": \"some_token\"}})\n.then(response =&gt; {\nthis.props.passBackResponse(response);\n});\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u62bc\u3057\u3066\u3044\u308b\u30dc\u30bf\u30f3\u306b\u3088\u3063\u3066\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u5909\u308f\u308b\u306e\u3067\u3001this.state.button\u3092\u4f7f\u7528\u3057\u3066URL\u306e\u4e00\u90e8\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001this.props.passBackResponse\u95a2\u6570\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u3053\u3068\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001ToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u6e21\u3059\u95a2\u6570\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u7de8\u96c6\u3084\u524a\u9664\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u5f8c\u306b\u3001Rust\u30b5\u30fc\u30d0\u304b\u3089ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u72b6\u614b\u3092\u3059\u3079\u3066\u53d6\u5f97\u3059\u308b\u305f\u3081\u3067\u3059\u3002\u3053\u306e\u305f\u3081\u3001App\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u6709\u52b9\u306b\u3057\u3066\u3001\u53d7\u3051\u6e21\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u300c\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u69cb\u7bc9\u3068\u7ba1\u7406\u300d\u30b5\u30d6\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u300cApp\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u300d\u3067\u884c\u3046\u3053\u3068\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002App \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u3001passBackResponse \u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u4e0b\u306b\u672a\u5b9f\u884c\u306e\u95a2\u6570\u3092\u6301\u3061\u3001ToDoItem \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u6e21\u3059\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u306f\u3001passBackResponse\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u4e0b\u306b\u3042\u308a\u3001\u65b0\u3057\u3044ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u72b6\u614b\u3092\u51e6\u7406\u3057\u3001App\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002</p> <p>\u3053\u308c\u3067\u3001\u3059\u3079\u3066\u306e\u95a2\u6570\u306e\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u3042\u3068\u306f\u3001render\u95a2\u6570\u306e\u623b\u308a\u5024\u3092\u5b9a\u7fa9\u3059\u308b\u3060\u3051\u3067\u3059\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>&lt;div&gt;\n&lt;p&gt;{this.state.title}&lt;/p&gt;\n&lt;button onClick={this.sendRequest}&gt;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{this.state.button}&lt;/button&gt;\n&lt;/div&gt;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001ToDo\u9805\u76ee\u306e\u30bf\u30a4\u30c8\u30eb\u304c\u6bb5\u843d\u30bf\u30b0\u3067\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u3001\u30dc\u30bf\u30f3\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u308b\u3068sendRequest\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u3053\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u5b8c\u6210\u3057\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u8868\u793a\u3059\u308b\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u305d\u306e\u524d\u306b\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3059\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/CreatingCustomComponentsInReact/#react_1","title":"React\u3067\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u79c1\u305f\u3061\u306eReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u4e00\u89a7\u8868\u793a\u3001\u7de8\u96c6\u3001\u524a\u9664\u306b\u3064\u3044\u3066\u306f\u6a5f\u80fd\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u5165\u529b\u3068\u4f5c\u6210\u30dc\u30bf\u30f3\u3067\u69cb\u6210\u3055\u308c\u3066\u304a\u308a\u3001\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u4f5c\u6210\u3067\u304d\u308bToDo\u9805\u76ee\u3092\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002src/components/CreateToDoItem.js\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>import React, { Component } from 'react';\nimport axios from \"axios\";\n</code></pre> <p>\u3053\u308c\u3089\u306f\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u6a19\u6e96\u7684\u306a\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u3059\u3002\u30a4\u30f3\u30dd\u30fc\u30c8\u304c\u5b9a\u7fa9\u3055\u308c\u308b\u3068\u3001CreateToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u6b21\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>class CreateToDoItem extends Component {\nstate = {\ntitle: \"\"\n}\ncreateItem = () =&gt; {\n. . .\n}\nhandleTitleChange = (e) =&gt; {\n. . .\n}\nrender() {\nreturn (\n. . .\n)\n}\n}\nexport default CreateToDoItem;\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u3001CreateToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u4ee5\u4e0b\u306e\u6a5f\u80fd\u3092\u6301\u3064\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <ul> <li>createItem: Rust\u30b5\u30fc\u30d0\u30fc\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3057\u3001\u30bf\u30a4\u30c8\u30eb\u3092\u6301\u3064ToDo\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3059\u308b\u72b6\u614b\u3067\u3059\u3002</li> <li>handleTitleChange\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u306f\u3001\u5165\u529b\u304c\u66f4\u65b0\u3055\u308c\u308b\u305f\u3073\u306b\u72b6\u614b\u3092\u66f4\u65b0\u3059\u308b</li> </ul> <p>\u3053\u306e2\u3064\u306e\u95a2\u6570\u3092\u8abf\u3079\u308b\u524d\u306b\u3001\u3053\u308c\u3089\u306e\u95a2\u6570\u3092\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3059\u308b\u9806\u5e8f\u3092\u53cd\u8ee2\u3055\u305b\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067render\u95a2\u6570\u306e\u30ea\u30bf\u30fc\u30f3\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>&lt;div className=\"inputContainer\"&gt;\n&lt;input type=\"text\" id=\"name\"\nplaceholder=\"create to do item\"\nvalue={this.state.title}\nonChange={this.handleTitleChange}/&gt;\n&lt;div className=\"actionButton\"\nid=\"create-button\"\nonClick={this.createItem}&gt;Create&lt;/div&gt;\n&lt;/div&gt;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u5165\u529b\u306e\u5024\u304cthis.state.title\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u5165\u529b\u304c\u5909\u5316\u3057\u305f\u3068\u304d\u306b\u306f\u3001this.handleTitleChange\u95a2\u6570\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\u3055\u3066\u3001\u3053\u3053\u307e\u3067\u3067render\u95a2\u6570\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3057\u305f\u304c\u3001\u65b0\u305f\u306b\u7d39\u4ecb\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u6a5f\u4f1a\u306b\u3001\u3082\u3046\u4e00\u5ea6CreateToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u6982\u8981\u3092\u898b\u3066\u3001createItem\u95a2\u6570\u3068handleTitleChange\u95a2\u6570\u3092\u81ea\u5206\u3067\u5b9a\u7fa9\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u3089\u306f\u3001ToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u95a2\u6570\u3068\u540c\u3058\u3088\u3046\u306a\u5f62\u3092\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>createItem\u95a2\u6570\u3068handleTitleChange\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>createItem = () =&gt; {\naxios.post(\n\"http://127.0.0.1:8000/v1/item/create/\" + this.state.title,\n{},\n{headers: {\"token\": \"some_token\"}})\n.then(response =&gt; {\nthis.setState({\"title\": \"\"});\nthis.props.passBackResponse(response);\n});\n}\nhandleTitleChange = (e) =&gt; {\nthis.setState({\"title\": e.target.value});\n}\u00a0\u00a0\u00a0\u00a0</code></pre> <p>\u3053\u308c\u3067\u3001\u4e21\u65b9\u306e\u30ab\u30b9\u30bf\u30e0\u30fb\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5b9a\u7fa9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u6b21\u306e\u30b5\u30d6\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30ab\u30b9\u30bf\u30e0\u30fb\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u7ba1\u7406\u3059\u308b\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u3002  </p>"},{"location":"5_DisplayingContentInTheBrowser/CreatingCustomComponentsInReact/#app","title":"\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092App\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u69cb\u7bc9\u30fb\u7ba1\u7406\u3059\u308b","text":"<p>\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u306e\u306f\u697d\u3057\u3044\u3067\u3059\u304c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u308f\u306a\u3051\u308c \u3070\u3042\u307e\u308a\u610f\u5473\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u30b5\u30d6\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001src/App.js \u30d5\u30a1\u30a4\u30eb\u306b\u3044\u304f\u3064\u304b\u306e\u8ffd\u52a0\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u3001\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>import ToDoItem from \"./components/ToDoItem\";\nimport CreateToDoItem from \"./components/CreateToDoItem\";\n</code></pre> <p>\u3055\u3066\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u6700\u521d\u306e\u6539\u9020\u306b\u79fb\u308a\u307e\u3059\u3002App\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306eprocessItemValues\u95a2\u6570\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>processItemValues(items) {\nlet itemList = [];\nitems.forEach((item, _) =&gt; {\nitemList.push(\n&lt;ToDoItem key={item.title + item.status}\ntitle={item.title}\nstatus={item.status.status}\npassBackResponse={this.handleReturnedState}\n/&gt;\n)\n})\nreturn itemList\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001Rust\u30b5\u30fc\u30d0\u304b\u3089\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u30eb\u30fc\u30d7\u51e6\u7406\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u4e00\u822c\u7684\u306aHTML\u30bf\u30b0\u306b\u30c7\u30fc\u30bf\u3092\u6e21\u3059\u306e\u3067\u306f\u306a\u304f\u3001ToDo\u9805\u76ee\u30c7\u30fc\u30bf\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u72ec\u81ea\u306e\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u6e21\u3057\u3001HTML\u30bf\u30b0\u306e\u3088\u3046\u306b\u6271\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u8fd4\u3055\u308c\u305f\u72b6\u614b\u3067\u72ec\u81ea\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u51e6\u7406\u3059\u308b\u3068\u306a\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3057\u3001\u72b6\u614b\u3092\u8a2d\u5b9a\u3059\u308b\u77e2\u5370\u95a2\u6570\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <pre><code>handleReturnedState = (response) =&gt; {\nlet pending_items = response.data[\"pending_items\"]\nlet done_items = response.data[\"done_items\"]\nthis.setState({\n\"pending_items\": this.processItemValues(pending_items),\n\"done_items\": this.processItemValues(done_items),\n\"pending_items_count\":\u00a0response.data[\"pending_item_count\"],\n\"done_items_count\": response.data[\"done_item_count\"]\n})\n}\n</code></pre> <p>\u3053\u308c\u306f\u3001getItems\u95a2\u6570\u3068\u975e\u5e38\u306b\u3088\u304f\u4f3c\u3066\u3044\u307e\u3059\u3002\u91cd\u8907\u3059\u308b\u30b3\u30fc\u30c9\u3092\u6e1b\u3089\u3057\u305f\u3044\u306e\u3067\u3042\u308c\u3070\u3001\u3053\u3053\u3067\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u884c\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u306f\u3001render\u95a2\u6570\u306ereturn\u6587\u3092\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>&lt;div className=\"App\"&gt;\n&lt;h1&gt;Pending Items&lt;/h1&gt;\n&lt;p&gt;done item count: \n\u00a0\u00a0\u00a0\u00a0{this.state.pending_items_count}&lt;/p&gt;\n\u00a0\u00a0\u00a0\u00a0{this.state.pending_items}\n\u00a0\u00a0\u00a0\u00a0&lt;h1&gt;Done Items&lt;/h1&gt;\n&lt;p&gt;done item count: {this.state.done_items_count}&lt;/p&gt;\n\u00a0\u00a0\u00a0\u00a0{this.state.done_items}\n\u00a0\u00a0\u00a0\u00a0&lt;CreateToDoItem \npassBackResponse={this.handleReturnedState} /&gt;\n&lt;/div&gt;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001createItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u4ee5\u5916\u306b\u306f\u3001\u3042\u307e\u308a\u5909\u5316\u304c\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002Rust\u30b5\u30fc\u30d0\u30fc\u3068React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d3\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p>\u56f35.12\u300c\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f7f\u7528\u3057\u305fReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d3\u30e5\u30fc</p> <p>\u56f35.12\u306f\u3001\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u3059\u3079\u3066\u306eAPI\u30b3\u30fc\u30eb\u304c\u52d5\u4f5c\u3057\u3001\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u6b63\u5e38\u306b\u52d5\u4f5c\u3059\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3042\u3068\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3092\u898b\u6804\u3048\u3088\u304f\u3059\u308b\u305f\u3081\u306b\u3001CSS\u3092React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u53d6\u308a\u8fbc\u3080\u3060\u3051\u3067\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/InheritingComponents/","title":"5.5 - \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u7d99\u627f","text":""},{"location":"5_DisplayingContentInTheBrowser/InheritingComponents/#_1","title":"\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u7d99\u627f","text":"<p>\u6642\u306b\u306f\u3001\u30d3\u30e5\u30fc\u306b\u6ce8\u5165\u3067\u304d\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u308a\u305f\u3044\u3068\u601d\u3046\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001CSS\u3068HTML\u306e\u4e21\u65b9\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001HTML\u306e\u6b63\u3057\u3044\u90e8\u5206\u306b\u633f\u5165\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u305d\u306e\u305f\u3081\u306b\u306f\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3092\u53d7\u3051\u53d6\u308a\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u304b\u3089\u30bf\u30b0\u3092\u4f5c\u6210\u3057\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u306b\u57fa\u3065\u3044\u3066HTML\u3068CSS\u3092\u30ed\u30fc\u30c9\u3059\u308badd_component\u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u306f\u3001views/app/content_loader.rs \u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p> <pre><code>pub fn add_component(component_tag: String, html_data: String) -&gt; String {\nlet css_tag: String = component_tag.to_uppercase() + \"_CSS\";\nlet html_tag: String = component_tag.to_uppercase() + \"_HTML\";\nlet css_path = String::from(\"./templates/components/\")\u00a0+ &amp;component_tag.to_lowercase() + \".css\";\nlet css_loaded = read_file(&amp;css_path);\nlet html_path = String::from(\"./templates/components/\") + &amp;component_tag.to_lowercase() + \".html\";\nlet html_loaded = read_file(&amp;html_path);\nlet html_data = html_data.replace(html_tag.as_str(), &amp;html_loaded);\nlet html_data = html_data.replace(css_tag.as_str(), &amp;css_loaded);\nreturn html_data\n} </code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u540c\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308bread_file\u95a2\u6570\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306eHTML\u3068CSS\u3092\u30d3\u30e5\u30fc\u30c7\u30fc\u30bf\u306b\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3057\u307e\u3059\u3002templates/components/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u5165\u308c\u5b50\u306b\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4eca\u56de\u306f\u3001\u30d8\u30c3\u30c0\u30fc\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u633f\u5165\u3059\u308b\u306e\u3067\u3001add_component\u95a2\u6570\u306b\u30d8\u30c3\u30c0\u30fc\u3092\u6e21\u3059\u3068\u3001header.html\u3068header.css\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3082\u3046\u3068\u3057\u307e\u3059\u3002templates/components/header.html \u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u4ee5\u4e0b\u306e HTML \u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>&lt;div class=\"header\"&gt;\n&lt;p&gt;complete tasks: &lt;/p&gt;&lt;p id=\"completeNum\"&gt;&lt;/p&gt;\n&lt;p&gt;pending tasks: &lt;/p&gt;&lt;p id=\"pendingNum\"&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u5b8c\u4e86\u3057\u305fToDo\u3068\u4fdd\u7559\u4e2d\u306eToDo\u306e\u4ef6\u6570\u3092\u8868\u793a\u3059\u308b\u3060\u3051\u3067\u3059\u3002templates/components/header.css \u30d5\u30a1\u30a4\u30eb\u3067\u3001\u6b21\u306e CSS \u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>.header {\nbackground: #034f84;\nmargin-bottom: 0.3rem;\n}\n.header p {\ncolor: white;\ndisplay: inline-block;\nmargin: 0.5rem;\nmargin-right: 0.4rem;\nmargin-left: 0.4rem;\n}\n</code></pre> <p>add_component\u95a2\u6570\u304cCSS\u3068HTML\u3092\u6b63\u3057\u3044\u4f4d\u7f6e\u306b\u633f\u5165\u3059\u308b\u305f\u3081\u306b\u306f\u3001templates/main.html\u30d5\u30a1\u30a4\u30eb\u306e"},{"location":"5_DisplayingContentInTheBrowser/InjectingCSSIntoHTML/","title":"5.4 - HTML\u306bCSS\u3092\u7d44\u307f\u8fbc\u3080","text":""},{"location":"5_DisplayingContentInTheBrowser/InjectingCSSIntoHTML/#htmlcss","title":"HTML\u306bCSS\u3092\u7d44\u307f\u8fbc\u3080","text":"<p>CSS\u306e\u6ce8\u5165\u306f\u3001JavaScript\u306e\u6ce8\u5165\u3068\u540c\u3058\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u3068\u308a\u307e\u3059\u3002HTML\u30d5\u30a1\u30a4\u30eb\u5185\u306bCSS\u30bf\u30b0\u3092\u7528\u610f\u3057\u3001\u305d\u306eCSS\u3092\u30d5\u30a1\u30a4\u30eb\u5185\u306eCSS\u306b\u7f6e\u304d\u63db\u3048\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li>HTML\u30d5\u30a1\u30a4\u30eb\u306bCSS\u30bf\u30b0\u3092\u8ffd\u52a0\u3059\u308b\u3002</li> <li>\u30a2\u30d7\u30ea\u5168\u4f53\u306e\u30d9\u30fc\u30b9\u3068\u306a\u308bCSS\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li>\u30e1\u30a4\u30f3\u30d3\u30e5\u30fc\u306eCSS\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li>CSS\u3068JavaScript\u3092\u63d0\u4f9b\u3059\u308b\u305f\u3081\u306bRust crate\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002</li> <li>\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u8a73\u3057\u304f\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002</li> </ol>"},{"location":"5_DisplayingContentInTheBrowser/InjectingCSSIntoHTML/#htmlcss_1","title":"HTML\u306bCSS\u30bf\u30b0\u3092\u8ffd\u52a0\u3059\u308b","text":"<p>\u307e\u305a\u3001templates/main.html \u30d5\u30a1\u30a4\u30eb\u3092\u5909\u66f4\u3057\u307e\u3059\u3002</p> <pre><code> &lt;style&gt;\n{{BASE_CSS}}\n{{CSS}}\n&lt;/style&gt;\n&lt;body&gt;\n&lt;div class=\"mainContainer\"&gt;\n&lt;h1&gt;Done Items&lt;/h1&gt;\n&lt;div id=\"doneItems\"&gt;&lt;/div&gt;\n&lt;h1&gt;To Do Items&lt;/h1&gt;\n&lt;div id=\"pendingItems\"&gt;&lt;/div&gt;\n&lt;div class=\"inputContainer\"&gt;\n&lt;input type=\"text\" id=\"name\"\nplaceholder=\"create to do item\"&gt;\n&lt;div class=\"actionButton\" \nid=\"create-button\" \nvalue=\"Send\"&gt;Create&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;script&gt;\n{{JAVASCRIPT}}\n&lt;/script&gt;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u30012\u3064\u306eCSS\u30bf\u30b0\u304c\u3042\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002BASE_CSS}}\u30bf\u30b0\u306f\u3001\u753b\u9762\u30b5\u30a4\u30ba\u306b\u5fdc\u3058\u305f\u80cc\u666f\u8272\u3084\u5217\u306e\u6bd4\u7387\u306a\u3069\u3001\u8907\u6570\u306e\u7570\u306a\u308b\u30d3\u30e5\u30fc\u3067\u7d71\u4e00\u3055\u308c\u308b\u30d9\u30fc\u30b9CSS\u3092\u8a18\u8ff0\u3059\u308b\u305f\u3081\u306e\u30bf\u30b0\u3067\u3059\u3002BASE_CSS}}\u30bf\u30b0\u306f\u3001\u3053\u306e\u30d3\u30e5\u30fc\u306eCSS\u30af\u30e9\u30b9\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002\u656c\u79f0\u7565\u3001css/base.css\u3068css/main.css\u306f\u3001\u79c1\u305f\u3061\u306e\u30d3\u30e5\u30fc\u306e\u305f\u3081\u306b\u4f5c\u3089\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\u307e\u305f\u3001mainContainer\u3068\u3044\u3046\u30af\u30e9\u30b9\u3092\u6301\u3064div\u306e\u4e2d\u306b\u5168\u3066\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u5165\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u76ee\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u3059\u3079\u3066\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u753b\u9762\u4e0a\u3067\u4e2d\u592e\u306b\u914d\u7f6e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3055\u3089\u306b\u3001CSS\u3067\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u30af\u30e9\u30b9\u3092\u8ffd\u52a0\u3057\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u30dc\u30bf\u30f3\u3092\u30dc\u30bf\u30f3\u306eHTML\u30bf\u30b0\u304b\u3089div\u306eHTML\u30bf\u30b0\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u304c\u7d42\u308f\u308b\u3068\u3001javascript/main.js\u30d5\u30a1\u30a4\u30eb\u306erenderItems\u95a2\u6570\u304c\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u30eb\u30fc\u30d7\u306e\u305f\u3081\u306b\u6b21\u306e\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u307e\u3059\u3002</p> <pre><code>function renderItems(items, processType, elementId, processFunction) {\n. . . for (i = 0; i &lt; items.length; i++) {\n. . .\nplaceholder += '&lt;div class=\"itemContainer\"&gt;' +\n'&lt;p&gt;' + title + '&lt;/p&gt;' +\n'&lt;div class=\"actionButton\" ' + 'id=\"' + placeholderId + '\"&gt;'\n+ processType + '&lt;/div&gt;' + \"&lt;/div&gt;\";\nitemsMeta.push({\"id\": placeholderId, \"title\":\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0title});\n}\n. . .\n}\n</code></pre> <p>\u3053\u308c\u3092\u8003\u616e\u3057\u3066\u3001css/base.css\u30d5\u30a1\u30a4\u30eb\u306b\u30d9\u30fc\u30b9CSS\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/InjectingCSSIntoHTML/#css","title":"\u30d9\u30fc\u30b9\u3068\u306a\u308bCSS\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u6b21\u306b\u3001\u30da\u30fc\u30b8\u3068\u305d\u306e\u69cb\u6210\u8981\u7d20\u306e\u30b9\u30bf\u30a4\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305a\u3001css/base.css\u30d5\u30a1\u30a4\u30eb\u306b\u30da\u30fc\u30b8\u306e\u30dc\u30c7\u30a3\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u3081\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u3001\u30dc\u30c7\u30a3\u306e\u57fa\u672c\u7684\u306a\u8a2d\u5b9a\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>body {\nbackground-color: #92a8d1;\nfont-family: Arial, Helvetica, sans-serif;\nheight: 100vh;\n} </code></pre> <p>\u80cc\u666f\u8272\u306f\u3001\u8272\u306e\u7a2e\u985e\u3092\u793a\u3059\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3067\u3059\u3002\u3053\u306e\u53c2\u7167\u306f\u3001\u898b\u305f\u3060\u3051\u3067\u306f\u610f\u5473\u304c\u306a\u3044\u3088\u3046\u306b\u601d\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u30aa\u30f3\u30e9\u30a4\u30f3\u3067\u306f\u30ab\u30e9\u30fc\u30d4\u30c3\u30ab\u30fc\u304c\u3042\u308a\u3001\u8272\u3092\u898b\u3066\u9078\u3076\u3068\u53c2\u7167\u30b3\u30fc\u30c9\u304c\u63d0\u4f9b\u3055\u308c\u307e\u3059\u3002\u30b3\u30fc\u30c9\u30a8\u30c7\u30a3\u30bf\u30fc\u306b\u3088\u3063\u3066\u306f\u3053\u306e\u6a5f\u80fd\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3082\u306e\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u624b\u3063\u53d6\u308a\u65e9\u304f\u53c2\u8003\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001HTML\u30ab\u30e9\u30fc\u30d4\u30c3\u30ab\u30fc\u3067\u30b0\u30b0\u308c\u3070\u3001\u7121\u6599\u3067\u5229\u7528\u3067\u304d\u308b\u30aa\u30f3\u30e9\u30a4\u30f3\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a\u30c4\u30fc\u30eb\u304c\u305f\u304f\u3055\u3093\u51fa\u3066\u304d\u307e\u3059\u3002\u5148\u307b\u3069\u306e\u8a2d\u5b9a\u3067\u3001\u30da\u30fc\u30b8\u5168\u4f53\u306e\u80cc\u666f\u306f#92a8d1\u3068\u3044\u3046\u30cd\u30a4\u30d3\u30fc\u30d6\u30eb\u30fc\u306e\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u3060\u3051\u3060\u3068\u3001\u30da\u30fc\u30b8\u306e\u5927\u534a\u306e\u80cc\u666f\u304c\u767d\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u7d3a\u8272\u306e\u80cc\u666f\u306f\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u3042\u308b\u3068\u3053\u308d\u3060\u3051\u5b58\u5728\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u9ad8\u3055\u306f100vh\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002vh\u306f\u3001\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u306e\u9ad8\u3055\u306e1%\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002\u3053\u306e\u3053\u3068\u304b\u3089\u3001100vh\u306f\u3001body\u3067\u5b9a\u7fa9\u3057\u305f\u30b9\u30bf\u30a4\u30ea\u30f3\u30b0\u304c\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u306e100\uff05\u3092\u5360\u3081\u308b\u3053\u3068\u3092\u610f\u5473\u3059\u308b\u3068\u63a8\u6e2c\u3067\u304d\u308b\u3002\u6b21\u306b\u3001Arial\u3001Helvetica\u3001sans-serif\u306b\u4e0a\u66f8\u304d\u3055\u308c\u306a\u3044\u9650\u308a\u3001\u3059\u3079\u3066\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u30d5\u30a9\u30f3\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u3002font-family\u3067\u8907\u6570\u306e\u30d5\u30a9\u30f3\u30c8\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u305d\u306e\u3059\u3079\u3066\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u3082\u3001\u30d8\u30c3\u30c0\u30fc\u3084HTML\u30bf\u30b0\u306e\u30ec\u30d9\u30eb\u306b\u5fdc\u3058\u3066\u7570\u306a\u308b\u30d5\u30a9\u30f3\u30c8\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u3082\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u3001\u3053\u308c\u306f\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u30e1\u30ab\u30cb\u30ba\u30e0\u3067\u3059\u3002\u307e\u305a\u3001\u30d6\u30e9\u30a6\u30b6\u306fArial\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u8a66\u307f\u307e\u3059\u3002\u30d6\u30e9\u30a6\u30b6\u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001Helvetica\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u8a66\u307f\u3001\u305d\u308c\u3082\u5931\u6557\u3057\u305f\u5834\u5408\u306f\u3001sans-serif\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u8a66\u307f\u307e\u3059\u3002</p> <p>\u3053\u308c\u3067\u3001\u672c\u4f53\u306e\u4e00\u822c\u7684\u306a\u30b9\u30bf\u30a4\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u304c\u3001\u7570\u306a\u308b\u30b9\u30af\u30ea\u30fc\u30f3\u30b5\u30a4\u30ba\u306b\u3064\u3044\u3066\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b\uff1f\u4f8b\u3048\u3070\u3001\u643a\u5e2f\u96fb\u8a71\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u5408\u306f\u3001\u7570\u306a\u308b\u30b5\u30a4\u30ba\u306e\u30dc\u30c7\u30a3\u3092\u7528\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306e\u56f3\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u56f35.7 \u300c\u30b9\u30de\u30db\u3068\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30e2\u30cb\u30bf\u30fc\u306e\u4f59\u767d\u306e\u9055\u3044</p> <p>\u56f35.7\u306f\u3001ToDo\u9805\u76ee\u306e\u30ea\u30b9\u30c8\u304c\u5909\u5316\u3057\u305f\u3068\u304d\u306b\u3001\u4f59\u767d\u3068\u30b9\u30da\u30fc\u30b9\u304c\u5360\u3081\u308b\u5272\u5408\u3092\u793a\u3057\u305f\u3082\u306e\u3067\u3042\u308b\u3002\u643a\u5e2f\u96fb\u8a71\u306e\u5834\u5408\u3001\u753b\u9762\u5360\u6709\u7387\u304c\u4f4e\u3044\u306e\u3067\u3001\u753b\u9762\u306e\u5927\u534a\u3092ToDo\u9805\u76ee\u3067\u5360\u3081\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\u3057\u304b\u3057\u3001\u30ef\u30a4\u30c9\u30b9\u30af\u30ea\u30fc\u30f3\u306e\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30e2\u30cb\u30bf\u30fc\u3092\u4f7f\u3048\u3070\u3001\u753b\u9762\u306e\u307b\u3068\u3093\u3069\u3092ToDo\u9805\u76ee\u304c\u5360\u3081\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3082\u3057\u6bd4\u7387\u304c\u540c\u3058\u306a\u3089\u3001ToDo\u9805\u76ee\u306fX\u8ef8\u306b\u5f15\u304d\u4f38\u3070\u3055\u308c\u3001\u8aad\u307f\u3065\u3089\u304f\u3001\u7387\u76f4\u306b\u8a00\u3063\u3066\u898b\u6804\u3048\u3082\u60aa\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u305d\u3053\u3067\u767b\u5834\u3059\u308b\u306e\u304c\u30e1\u30c7\u30a3\u30a2\u30af\u30a8\u30ea\u3067\u3059\u3002\u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u5e45\u3084\u9ad8\u3055\u306a\u3069\u306e\u5c5e\u6027\u306b\u3088\u3063\u3066\u3001\u7570\u306a\u308b\u30b9\u30bf\u30a4\u30eb\u6761\u4ef6\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002\u307e\u305a\u306f\u30b9\u30de\u30db\u306e\u4ed5\u69d8\u304b\u3089\u3002\u3064\u307e\u308a\u3001\u753b\u9762\u306e\u5e45\u304c500\u30d4\u30af\u30bb\u30eb\u307e\u3067\u306a\u3089\u3001css/base.css\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067\u3001body\u306b\u4ee5\u4e0b\u306eCSS\u69cb\u6210\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>@media(max-width: 500px) {\nbody {\npadding: 1px;\ndisplay: grid;\ngrid-template-columns: 1fr;\n}\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30da\u30fc\u30b8\u306e\u7aef\u3068\u5404\u8981\u7d20\u306e\u5468\u308a\u306e\u30d1\u30c7\u30a3\u30f3\u30b0\u304c\u3061\u3087\u3046\u30691\u30d4\u30af\u30bb\u30eb\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30b0\u30ea\u30c3\u30c9\u8868\u793a\u3082\u3042\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u5217\u3068\u884c\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u3053\u3067\u306f\u305d\u306e\u6a5f\u80fd\u3092\u30d5\u30eb\u306b\u6d3b\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u30021\u5217\u3060\u3051\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u56f35.7\u306e\u30b9\u30de\u30db\u306e\u63cf\u5199\u306b\u3042\u308b\u3088\u3046\u306b\u3001ToDo\u9805\u76ee\u304c\u753b\u9762\u306e\u5927\u534a\u3092\u5360\u3081\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u6587\u8108\u3067\u306f\u30b0\u30ea\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u5927\u753b\u9762\u7528\u306e\u4ed6\u306e\u69cb\u6210\u3068\u306e\u95a2\u4fc2\u304c\u308f\u304b\u308b\u3088\u3046\u306b\u3001\u30b0\u30ea\u30c3\u30c9\u3092\u5165\u308c\u3066\u304a\u304d\u307e\u3057\u305f\u3002\u753b\u9762\u304c\u3082\u3046\u5c11\u3057\u5927\u304d\u304f\u306a\u308c\u3070\u3001\u30da\u30fc\u30b8\u30923\u3064\u306e\u7e26\u5217\u306b\u5206\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u771f\u3093\u4e2d\u306e\u5217\u306e\u5e45\u3068\u4e21\u5074\u306e\u5217\u306e\u5e45\u306e\u6bd4\u7387\u306f5\uff1a1\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u753b\u9762\u304c\u307e\u3060\u3042\u307e\u308a\u5927\u304d\u304f\u306a\u3044\u305f\u3081\u3001\u8868\u793a\u3059\u308b\u30a2\u30a4\u30c6\u30e0\u304c\u753b\u9762\u306e\u5927\u90e8\u5206\u3092\u5360\u3081\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u304b\u3089\u3067\u3059\u3002\u3053\u306e\u3088\u3046\u306a\u5834\u5408\u306f\u3001\u5225\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6301\u3064\u30e1\u30c7\u30a3\u30a2\u30af\u30a8\u30ea\u3092\u8ffd\u52a0\u3057\u3066\u8abf\u6574\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>@media(min-width: 501px) and (max-width: 550px) {\nbody {\npadding: 1px;\ndisplay: grid;\ngrid-template-columns: 1fr 5fr 1fr;\n} .mainContainer {\ngrid-column-start: 2;\n}\n}\n</code></pre> <p>\u307e\u305f\u3001ToDo\u9805\u76ee\u3092\u914d\u7f6e\u3059\u308bmainContainer CSS\u30af\u30e9\u30b9\u3067\u306f\u3001grid-column-start\u5c5e\u6027\u3092\u4e0a\u66f8\u304d\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3057\u306a\u3044\u3068\u3001mainContainer\u306f\u5e451fr\u3067\u5de6\u306e\u4f59\u767d\u306b\u62bc\u3057\u8fbc\u307e\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u306e\u4ee3\u308f\u308a\u30015fr\u306e\u771f\u3093\u4e2d\u3067\u59cb\u307e\u308a\u3001\u7d42\u308f\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002grid-column-finish\u5c5e\u6027\u3067\u3001mainContainer\u3092\u8907\u6570\u306e\u5217\u306b\u307e\u305f\u304c\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002  </p> <p>\u753b\u9762\u304c\u5927\u304d\u304f\u306a\u3063\u305f\u5834\u5408\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u5e45\u304c\u5236\u5fa1\u4e0d\u80fd\u306b\u306a\u3089\u306a\u3044\u3088\u3046\u306b\u3001\u6bd4\u7387\u3092\u3055\u3089\u306b\u8abf\u6574\u3057\u305f\u3044\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001\u4e2d\u592e\u306e\u30ab\u30e9\u30e0\u3068\u4e21\u30b5\u30a4\u30c9\u306e\u30ab\u30e9\u30e0\u306e\u6bd4\u7387\u30923\u5bfe1\u306b\u3057\u3001\u753b\u9762\u306e\u5e45\u304c1001px\u3092\u8d85\u3048\u305f\u30891\u5bfe1\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>@media(min-width: 551px) and (max-width: 1000px) {\nbody {\npadding: 1px;\ndisplay: grid;\ngrid-template-columns: 1fr 3fr 1fr;\n} .mainContainer {\ngrid-column-start: 2;\n}\n} @media(min-width: 1001px) {\nbody {\npadding: 1px;\ndisplay: grid;\ngrid-template-columns: 1fr 1fr 1fr;\n} .mainContainer {\ngrid-column-start: 2;\n}\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001\u3059\u3079\u3066\u306e\u30d3\u30e5\u30fc\u306b\u5bfe\u3057\u3066\u4e00\u822c\u7684\u306aCSS\u3092\u5b9a\u7fa9\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306b\u30d3\u30e5\u30fc\u56fa\u6709\u306eCSS\u3092css/main.css\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/InjectingCSSIntoHTML/#css_1","title":"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u306eCSS\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u3055\u3066\u3001\u30a2\u30d7\u30ea\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u5206\u89e3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002ToDo\u306e\u30ea\u30b9\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\u30ea\u30b9\u30c8\u306e\u5404\u9805\u76ee\u306f\u3001\u7570\u306a\u308b\u80cc\u666f\u8272\u3092\u6301\u3064div\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>.itemContainer {\nbackground: #034f84;\nmargin: 0.3rem;\n}\n</code></pre> <p>\u3053\u306e\u30af\u30e9\u30b9\u306f\u30de\u30fc\u30b8\u30f3\u304c0.3\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002rem\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u306f\u3001\u30de\u30fc\u30b8\u30f3\u3092\u30eb\u30fc\u30c8\u8981\u7d20\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u306b\u6bd4\u4f8b\u3057\u3066\u62e1\u5927\u7e2e\u5c0f\u3055\u305b\u305f\u3044\u304b\u3089\u3067\u3059\u3002\u307e\u305f\u3001\u30ab\u30fc\u30bd\u30eb\u304c\u30a2\u30a4\u30c6\u30e0\u306e\u4e0a\u306b\u4e57\u3063\u305f\u3068\u304d\u306b\u3001\u8272\u304c\u308f\u305a\u304b\u306b\u5909\u5316\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u3002</p> <pre><code>.itemContainer:hover {\nbackground: #034f99;\n}\n</code></pre> <p>\u30a2\u30a4\u30c6\u30e0\u30b3\u30f3\u30c6\u30ca\u5185\u3067\u306f\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u6bb5\u843d\u30bf\u30b0\u3067\u8868\u8a18\u3057\u3066\u3044\u307e\u3059\u3002\u30a2\u30a4\u30c6\u30e0\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u3059\u3079\u3066\u306e\u6bb5\u843d\u306e\u30b9\u30bf\u30a4\u30eb\u3092\u5b9a\u7fa9\u3057\u305f\u3044\u304c\u3001\u305d\u308c\u4ee5\u5916\u306e\u5834\u6240\u3067\u306f\u5b9a\u7fa9\u3057\u306a\u3044\u3002\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u6bb5\u843d\u306e\u30b9\u30bf\u30a4\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <pre><code>.itemContainer p {\ncolor: white;\ndisplay: inline-block;\nmargin: 0.5rem;\nmargin-right: 0.4rem;\nmargin-left: 0.4rem;\n}\n</code></pre> <p>inline-block\u306f\u3001\u30bf\u30a4\u30c8\u30eb\u3092div\u3068\u4e00\u7dd2\u306b\u8868\u793a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002margin\u306e\u5b9a\u7fa9\u306f\u3001\u30bf\u30a4\u30c8\u30eb\u304c\u30a2\u30a4\u30c6\u30e0\u30b3\u30f3\u30c6\u30ca\u306e\u7aef\u306b\u3074\u3063\u305f\u308a\u3068\u304f\u308b\u306e\u3092\u9632\u3050\u3060\u3051\u3067\u3059\u3002\u307e\u305f\u3001\u6bb5\u843d\u306e\u8272\u304c\u767d\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u30a2\u30a4\u30c6\u30e0\u306e\u30bf\u30a4\u30c8\u30eb\u304c\u30b9\u30bf\u30a4\u30ea\u30f3\u30b0\u3055\u308c\u305f\u306e\u3067\u3001\u6b8b\u308b\u30a2\u30a4\u30c6\u30e0\u306e\u30b9\u30bf\u30a4\u30ea\u30f3\u30b0\u306f\u3001\u7de8\u96c6\u304b\u524a\u9664\u306e\u3069\u3061\u3089\u304b\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u30dc\u30bf\u30f3\u3060\u3051\u3068\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u30dc\u30bf\u30f3\u306f\u3001\u30af\u30ea\u30c3\u30af\u3059\u308b\u5834\u6240\u304c\u308f\u304b\u308b\u3088\u3046\u306b\u3001\u80cc\u666f\u8272\u3092\u5909\u3048\u3066\u53f3\u5074\u306b\u8868\u793a\u3055\u305b\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u306e\u3088\u3046\u306b\u3001\u30dc\u30bf\u30f3\u306e\u30b9\u30bf\u30a4\u30eb\u3092\u30af\u30e9\u30b9\u3067\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>.actionButton {\ndisplay: inline-block;\nfloat: right;\nbackground: #f7786b;\nborder: none;\npadding: 0.5rem;\npadding-left: 2rem;\npadding-right: 2rem;\ncolor: white;\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001display\u3092\u5b9a\u7fa9\u3057\u3001\u53f3\u306b\u30d5\u30ed\u30fc\u30c8\u3059\u308b\u3088\u3046\u306b\u3057\u3001\u80cc\u666f\u8272\u3068padding\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u30db\u30d0\u30fc\u6642\u306b\u8272\u304c\u5909\u308f\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>.actionButton:hover {\nbackground: #f7686b;\ncolor: black;\n}\n</code></pre> <p>\u3055\u3066\u3001\u3053\u3053\u307e\u3067\u3067\u3059\u3079\u3066\u306e\u6982\u5ff5\u3092\u7db2\u7f85\u3057\u305f\u306e\u3067\u3001\u6b21\u306f\u5165\u529b\u30b3\u30f3\u30c6\u30ca\u306e\u30b9\u30bf\u30a4\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>.inputContainer {\nbackground: #034f84;\nmargin: 0.3rem;\nmargin-top: 2rem;\n}\n.inputContainer input {\ndisplay: inline-block;\nmargin: 0.4rem;\n}\n</code></pre> <p>\u5b8c\u6210\u3057\u307e\u3057\u305f\u3059\u3079\u3066\u306eCSS\u3001JavaScript\u3001HTML\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001\u30e1\u30a4\u30f3\u30d3\u30e5\u30fc\u306b\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/InjectingCSSIntoHTML/#rustcssjavascript","title":"Rust\u304b\u3089CSS\u3068JavaScript\u3092\u63d0\u4f9b\u3059\u308b","text":"<p>CSS\u306f\u3001views/app/items.rs\u30d5\u30a1\u30a4\u30eb\u3067\u63d0\u4f9b\u3055\u308c\u307e\u3059\u3002HTML\u3001JavaScript\u3001\u30d9\u30fc\u30b9CSS\u3001\u30e1\u30a4\u30f3CSS\u306e\u5404\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\u305d\u3057\u3066\u3001HTML\u30c7\u30fc\u30bf\u306e\u30bf\u30b0\u3092\u3001\u4ed6\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30fc\u30bf\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002  </p> <pre><code>pub async fn items() -&gt; HttpResponse {\nlet mut html_data = read_file(\"./templates/main.html\");\nlet javascript_data: String = read_file(\"./javascript/main.js\");\nlet css_data: String = read_file(\"./css/main.css\");\nlet base_css_data: String = read_file(\"./css/base.css\");\nhtml_data = html_data.replace(\"{{JAVASCRIPT}}\", &amp;javascript_data);\nhtml_data = html_data.replace(\"{{CSS}}\", &amp;css_data);\nhtml_data = html_data.replace(\"{{BASE_CSS}}\", &amp;base_css_data);\nHttpResponse::Ok()\n.content_type(\"text/html; charset=utf-8\")\n.body(html_data)\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u3092\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u3068\u3001\u6b21\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u306e\u3088\u3046\u306a\u76f4\u611f\u7684\u306a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3092\u6301\u3064\u30a2\u30d7\u30ea\u304c\u5b8c\u5168\u306b\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u56f35.8 \u300cCSS\u5f8c\u306e\u30e1\u30a4\u30f3\u30da\u30fc\u30b8</p> <p>\u30a2\u30d7\u30ea\u304c\u6a5f\u80fd\u3057\u3001\u30d9\u30fc\u30b9\u3068\u306a\u308bCSS\u3068HTML\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u3066\u3082\u3001\u72ec\u81ea\u306eCSS\u3092\u6301\u3064\u518d\u5229\u7528\u53ef\u80fd\u306a\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3HTML\u69cb\u9020\u3092\u6301\u3061\u305f\u3044\u3068\u601d\u3046\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u69cb\u9020\u4f53\u306f\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30d3\u30e5\u30fc\u306b\u6ce8\u5165\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4e00\u5ea6\u66f8\u3044\u3066\u304a\u3051\u3070\u3001\u4ed6\u306eHTML\u30d5\u30a1\u30a4\u30eb\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u304c\u5bb9\u6613\u306b\u306a\u308a\u3001\u8907\u6570\u306e\u30d3\u30e5\u30fc\u3067\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4e00\u8cab\u6027\u3092\u78ba\u4fdd\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30d3\u30e5\u30fc\u306e\u4e0a\u90e8\u306b\u30a4\u30f3\u30d5\u30a9\u30e1\u30fc\u30b7\u30e7\u30f3\u30d0\u30fc\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u3001\u4ed6\u306e\u30d3\u30e5\u30fc\u3067\u3082\u540c\u3058\u30b9\u30bf\u30a4\u30eb\u3067\u8868\u793a\u3055\u305b\u305f\u3044\u3068\u601d\u3046\u3067\u3057\u3087\u3046\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8aac\u660e\u3059\u308b\u3088\u3046\u306b\u3001\u60c5\u5831\u30d0\u30fc\u3092\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3068\u3057\u3066\u4e00\u5ea6\u4f5c\u6210\u3057\u3001\u305d\u308c\u3092\u4ed6\u306e\u30d3\u30e5\u30fc\u306b\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/InjectingJavaScriptIntoHTML/","title":"5.3 - HTML\u306bJavaScript\u3092\u6ce8\u5165\u3059\u308b","text":""},{"location":"5_DisplayingContentInTheBrowser/InjectingJavaScriptIntoHTML/#htmljavascript","title":"HTML\u306bJavaScript\u3092\u6ce8\u5165\u3059\u308b","text":"<p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u7d42\u3048\u308b\u3068\u3001JavaScript\u3092\u4f7f\u3063\u3066Rust\u30b5\u30fc\u30d0\u3092\u547c\u3073\u51fa\u3057\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u8ffd\u52a0\u3001\u7de8\u96c6\u3001\u524a\u9664\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3001\u305d\u308c\u307b\u3069\u304d\u308c\u3044\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u5341\u5206\u306b\u6a5f\u80fd\u3059\u308b\u30e1\u30a4\u30f3\u30d3\u30e5\u30fc\u304c\u5b8c\u6210\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u524a\u9664API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002HTML\u306bJavaScript\u3092\u6ce8\u5165\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u624b\u9806\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li>delete item API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li>JavaScript\u306e\u8aad\u307f\u8fbc\u307f\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u3001HTML\u30c7\u30fc\u30bf\u5185\u306eJavaScript\u30bf\u30b0\u3092\u3001\u30e1\u30a4\u30f3\u30a2\u30a4\u30c6\u30e0\u306eRust\u30d3\u30e5\u30fc\u3067\u8aad\u307f\u8fbc\u3093\u3060JavaScript\u30c7\u30fc\u30bf\u3068\u7f6e\u304d\u63db\u3048\u308b\u3002</li> <li>HTML\u30d5\u30a1\u30a4\u30eb\u306bJavaScript\u30bf\u30b0\u3092\u8ffd\u52a0\u3057\u3001JavaScript\u3067\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306bHTML\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306bID\u3092\u8ffd\u52a0\u3059\u308b\u3002</li> <li>JavaScript\u3067ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u95a2\u6570\u3092\u4f5c\u6210\u3057\u3001ID\u3092\u4f7f\u7528\u3057\u3066HTML\u306b\u30d0\u30a4\u30f3\u30c9\u3057\u307e\u3059\u3002</li> <li>JavaScript\u3067API\u30b3\u30fc\u30eb\u95a2\u6570\u3092\u4f5c\u6210\u3057\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3084\u308a\u53d6\u308a\u3059\u308b\u3002</li> <li>JavaScript\u3067\u3001\u53d6\u5f97\u3001\u524a\u9664\u3001\u7de8\u96c6\u3001\u4f5c\u6210\u306e\u5404\u6a5f\u80fd\u3092\u69cb\u7bc9\u3057\u3001\u30dc\u30bf\u30f3\u306b\u4f7f\u7528\u3055\u305b\u308b\u3002 \u3067\u306f\u3001\u8a73\u3057\u304f\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002</li> </ol> <p>\u8a73\u3057\u304f\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/InjectingJavaScriptIntoHTML/#_1","title":"\u524a\u9664\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u8ffd\u52a0","text":"<p>\u524a\u9664API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u306e\u306f\u3001\u3082\u3046\u7c21\u5358\u306a\u306f\u305a\u3067\u3059\u3002\u3082\u3057\u305d\u3046\u3057\u305f\u3044\u306e\u3067\u3042\u308c\u3070\u3001\u3053\u306e\u30d3\u30e5\u30fc\u3092\u81ea\u5206\u3067\u5b9f\u88c5\u3057\u3066\u307f\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u3053\u306e\u30d7\u30ed\u30bb\u30b9\u306b\u306f\u3082\u3046\u6163\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002</p> <ol> <li>\u3082\u3057\u60a9\u3093\u3067\u3044\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u4ee5\u4e0b\u306e\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30fc\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092views/to_do/delete.rs\u30d5\u30a1\u30a4\u30eb\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>use actix_web::{web, HttpResponse};\nuse serde_json::value::Value;\nuse serde_json::Map;\n</code></pre> <p>\u3053\u308c\u3089\u306f\u65b0\u3057\u3044\u3082\u306e\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u4f7f\u3044\u6163\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3057\u3001\u3069\u3053\u3092\u6d3b\u7528\u3059\u308c\u3070\u3044\u3044\u306e\u304b\u3082\u308f\u304b\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002</p> <ol> <li>\u6b21\u306b\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u69cb\u9020\u4f53\u3068\u95a2\u6570\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> <pre><code>use crate::to_do::{to_do_factory, enums::TaskStatus};\nuse crate::json_serialization::{to_do_item::ToDoItem, to_do_items::ToDoItems};\nuse crate::processes::process_input;\nuse crate::jwt::JwToken;\nuse crate::state::read_file;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001to_do\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u3001ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002json_serialization\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3001ToDoItem\u3092\u53d7\u3051\u53d6\u308a\u3001ToDoItems\u3092\u8fd4\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001process_input\u95a2\u6570\u3067\u9805\u76ee\u306e\u524a\u9664\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u3053\u306e\u30da\u30fc\u30b8\u3092\u8a2a\u308c\u305f\u4eba\u304c\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u306f\u907f\u3051\u305f\u3044\u3002\u305d\u306e\u305f\u3081\u3001JwToken\u69cb\u9020\u4f53\u304c\u5fc5\u8981\u3067\u3059\u3002\u6700\u5f8c\u306b\u3001read_file\u95a2\u6570\u3067\u30a2\u30a4\u30c6\u30e0\u306e\u72b6\u614b\u3092\u8aad\u307f\u53d6\u308a\u307e\u3059\u3002</p> <ol> <li>\u3053\u308c\u3067\u5fc5\u8981\u306a\u3082\u306e\u304c\u63c3\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u524a\u9664\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</li> </ol> <pre><code>pub async fn delete(to_do_item: web::Json&lt;ToDoItem&gt;, token: JwToken) -&gt; HttpResponse {\n. . .\n}\n\u3053\u3053\u3067\u306f\u3001ToDoItem\u3092JSON\u3068\u3057\u3066\u53d7\u3051\u5165\u308c\u3001\u30d3\u30e5\u30fc\u306bJwToken\u3092\u6dfb\u4ed8\u3057\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6642\u70b9\u3067\u306f\u3001JwToken\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6dfb\u4ed8\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002JwToken\u306e\u8a8d\u8a3c\u30ed\u30b8\u30c3\u30af\u306f\u3001\u7b2c7\u7ae0\u300c\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u7ba1\u7406\u300d\u3067\u7ba1\u7406\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n4. delete\u30d3\u30e5\u30fc\u306e\u5185\u90e8\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067JSON\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u3067\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u72b6\u614b\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n```rust\nlet state: Map&lt;String, Value&gt; = read_file(\"./state.json\");\n</code></pre> <ol> <li>\u305d\u3057\u3066\u3001\u3053\u306e\u30bf\u30a4\u30c8\u30eb\u306e\u30a2\u30a4\u30c6\u30e0\u304c\u30b9\u30c6\u30fc\u30c8\u306b\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u306a\u3044\u5834\u5408\u306f\u3001not found HTTP response\u3092\u8fd4\u3057\u307e\u3059\u3002\u3082\u3057\u3042\u308c\u3070\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u30bf\u30a4\u30c8\u30eb\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u6e21\u3057\u307e\u3059\u3002\u3053\u306e\u30c1\u30a7\u30c3\u30af\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u62bd\u51fa\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>let status: TaskStatus;\nmatch &amp;state.get(&amp;to_do_item.title) {\nSome(result) =&gt; {\nstatus = TaskStatus::from_string(result.as_str().unwrap().to_string());\n}\nNone =&gt; {\nreturn HttpResponse::NotFound().json(format!(\"{} not in state\", &amp;to_do_item.title))\n}\n}\n</code></pre> <ol> <li>\u3053\u308c\u3067\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3068\u30bf\u30a4\u30c8\u30eb\u304c\u308f\u304b\u3063\u305f\u306e\u3067\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3057\u3001delete\u30b3\u30de\u30f3\u30c9\u3092\u4ed8\u3051\u3066process_input\u95a2\u6570\u306b\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001JSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30a2\u30a4\u30c6\u30e0\u304c\u524a\u9664\u3055\u308c\u307e\u3059\u3002</li> </ol> <pre><code>let existing_item = to_do_factory(to_do_item.title.as_str(), status.clone());\nprocess_input(existing_item, \"delete\".to_owned(), &amp;state);\n</code></pre> <ol> <li>ToDoItems\u69cb\u9020\u4f53\u306bResponder trait\u3092\u5b9f\u88c5\u3057\u3001ToDoItems::get_state()\u95a2\u6570\u306fJSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30a2\u30a4\u30c6\u30e0\u3092\u5165\u529b\u3057\u305fToDoItems\u69cb\u9020\u4f53\u3092\u8fd4\u3059\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3057\u305f\u304c\u3063\u3066\u3001delete\u30d3\u30e5\u30fc\u304b\u3089\u6b21\u306e\u3088\u3046\u306areturn\u6587\u304c\u8fd4\u3055\u308c\u307e\u3059\u3002</li> </ol> <pre><code>return HttpResponse::Ok().json(ToDoItems::get_state())\n</code></pre> <ol> <li>delete\u30d3\u30e5\u30fc\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001\u305d\u308c\u3092src/views/to_do/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u52a0\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d3\u30e5\u30fc\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306b\u306a\u308a\u307e\u3059\u3002</li> </ol> <pre><code>mod create;\nmod get;\nmod edit;\nmod delete;\nuse actix_web::web::{ServiceConfig, post, get, scope};\npub fn to_do_views_factory(app: &amp;mut ServiceConfig) {\napp.service(\nscope(\"v1/item\")\n.route(\"create/{title}\", post().to(create::create))\n.route(\"get\", get().to(get::get))\n.route(\"edit\", post().to(edit::edit))\n.route(\"delete\", post().to(delete::delete))\n);\n}\n</code></pre> <ol> <li>to_do_views_factory\u3092\u7d20\u65e9\u304f\u691c\u67fb\u3059\u308b\u3053\u3068\u3067\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u7ba1\u7406\u306b\u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u30d3\u30e5\u30fc\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u53d6\u308a\u51fa\u3057\u3066\u3001\u5225\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u633f\u5165\u3059\u308b\u3068\u3057\u305f\u3089\u3001\u4f55\u3092\u524a\u9664\u3057\u3001\u4f55\u3092\u8ffd\u52a0\u3057\u305f\u304b\u3092\u5373\u5ea7\u306b\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> </ol> <p>\u524a\u9664\u30d3\u30e5\u30fc\u304c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5b8c\u5168\u306b\u7d71\u5408\u3055\u308c\u305f\u306e\u3067\u30012\u756a\u76ee\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u3042\u308bJavaScript\u306e\u30ed\u30fc\u30c9\u6a5f\u80fd\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306b\u9032\u307f\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/InjectingJavaScriptIntoHTML/#javascript","title":"JavaScript\u306e\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b","text":"<p>\u3055\u3066\u3001\u3059\u3079\u3066\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u6e96\u5099\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u30e1\u30a4\u30f3\u30a2\u30d7\u30ea\u306e\u30d3\u30e5\u30fc\u3092\u518d\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u524d\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001<code>&lt;script&gt;</code>\u30bb\u30af\u30b7\u30e7\u30f3\u306eJavaScript\u304c\u30011\u3064\u306e\u5927\u304d\u306a\u6587\u5b57\u5217\u306e\u4e00\u90e8\u3067\u3042\u308b\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\u305d\u3053\u3067\u3001\u3053\u306e\u30d3\u30e5\u30fc\u3067\u306f\u3001HTML\u30d5\u30a1\u30a4\u30eb\u306e<code>&lt;script&gt;</code>\u30bb\u30af\u30b7\u30e7\u30f3\u306b{{JAVASCRIPT}}\u30bf\u30b0\u3092\u8a18\u8ff0\u3057\u305f\u6587\u5b57\u5217\u3068\u3057\u3066\u3001HTML\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\u6b21\u306b\u3001JavaScript\u30d5\u30a1\u30a4\u30eb\u3092\u6587\u5b57\u5217\u3068\u3057\u3066\u8aad\u307f\u8fbc\u307f\u3001{{JAVASCRIPT}}\u30bf\u30b0\u3092JavaScript\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u6587\u5b57\u5217\u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002\u6700\u5f8c\u306b\u3001views/app/items.rs\u30d5\u30a1\u30a4\u30eb\u5185\u306ebody\u3067\u5b8c\u5168\u306a\u6587\u5b57\u5217\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <pre><code>pub async fn items() -&gt; HttpResponse {\nlet mut html_data = read_file(\"./templates/main.html\");\nlet javascript_data = read_file(\"./javascript/main.js\");\nhtml_data = html_data.replace(\"{{JAVASCRIPT}}\", &amp;javascript_data);\nHttpResponse::Ok()\n.content_type(\"text/html; charset=utf-8\")\n.body(html_data)\n}\n</code></pre>"},{"location":"5_DisplayingContentInTheBrowser/InjectingJavaScriptIntoHTML/#htmljavascript_1","title":"HTML\u5185\u306bJavaScript\u30bf\u30b0\u3092\u8ffd\u52a0\u3059\u308b","text":"<p>\u524d\u306e\u30b9\u30c6\u30c3\u30d7\u306e\u30a2\u30a4\u30c6\u30e0\u95a2\u6570\u304b\u3089\u3001\u30eb\u30fc\u30c8\u306bJavaScript\u3068\u3044\u3046\u65b0\u3057\u3044\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u305d\u306e\u4e2d\u306bmain.js\u3068\u3044\u3046\u540d\u524d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u30d3\u30e5\u30fc\u306e\u5909\u66f4\u306b\u4f34\u3044\u3001templates/main.html\u30d5\u30a1\u30a4\u30eb\u306b\u3082\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>&lt;body&gt;\n&lt;h1&gt;Done Items&lt;/h1&gt;\n&lt;div id=\"doneItems\"&gt;&lt;/div&gt;\n&lt;h1&gt;To Do Items&lt;/h1&gt;\n&lt;div id=\"pendingItems\"&gt;&lt;/div&gt;\n&lt;input type=\"text\" id=\"name\" placeholder=\"create to do\n\u00a0\u00a0\u00a0\u00a0 item\"&gt;\n&lt;button id=\"create-button\" value=\"Send\"&gt;Create&lt;/button&gt;\n&lt;/body&gt;\n&lt;script&gt;\n{{JAVASCRIPT}}\n&lt;/script&gt;\n</code></pre> <p>\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f\u3001\u4fdd\u7559\u4e2d\u306e\u9805\u76ee\u3068\u5b8c\u4e86\u3057\u305f\u9805\u76ee\u3092\u8fd4\u3059\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002ID\u304c\u300cdoneItems\u300d\u306ediv\u306b\u306f\u3001API\u30b3\u30fc\u30eb\u3067\u5b8c\u4e86\u3057\u305fToDo\u9805\u76ee\u304c\u633f\u5165\u3055\u308c\u307e\u3059\u3002</p> <p>\u6b21\u306b\u3001API\u30b3\u30fc\u30eb\u3067\u53d6\u5f97\u3057\u305f\u4fdd\u7559\u30a2\u30a4\u30c6\u30e0\u3092\u3001ID\u304c\u300cpendingItems\u300d\u306ediv\u306b\u633f\u5165\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001\u30c6\u30ad\u30b9\u30c8\u3068\u30dc\u30bf\u30f3\u3092\u542b\u3080\u5165\u529b\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u65b0\u3057\u3044\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/InjectingJavaScriptIntoHTML/#javascript_1","title":"\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0JavaScript\u95a2\u6570\u306e\u69cb\u7bc9","text":"<p>HTML\u304c\u5b9a\u7fa9\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306fjavascript/main.js\u30d5\u30a1\u30a4\u30eb\u306b\u30ed\u30b8\u30c3\u30af\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <ol> <li>\u6700\u521d\u306b\u4f5c\u308b\u95a2\u6570\u306f\u3001\u30e1\u30a4\u30f3\u30da\u30fc\u30b8\u306e\u3059\u3079\u3066\u306eToDo\u9805\u76ee\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u3053\u308c\u306f\u3001javascript/main.js\u30d5\u30a1\u30a4\u30eb\u306e\u30b3\u30fc\u30c9\u306e\u4e2d\u3067\u6700\u3082\u8907\u96d1\u306a\u90e8\u5206\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u79c1\u305f\u3061\u306f\u57fa\u672c\u7684\u306b\u3001HTML\u30b3\u30fc\u30c9\u3092\u66f8\u304fJavaScript\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u5f8c\u307b\u3069\u3001React\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\u3059\u308b\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u3001React\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u3066\u3053\u308c\u3092\u884c\u3046\u5fc5\u8981\u6027\u3092\u7f6e\u304d\u63db\u3048\u308b\u4e88\u5b9a\u3067\u3059\u3002\u4eca\u306e\u3068\u3053\u308d\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\u3059\u308b\u30ec\u30f3\u30c0\u30fc\u95a2\u6570\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u5404\u30a2\u30a4\u30c6\u30e0\u306f\u3001HTML\u3067\u6b21\u306e\u3088\u3046\u306a\u5f62\u5f0f\u3092\u3068\u308a\u307e\u3059\u3002</li> </ol> <pre><code>&lt;div&gt;\n&lt;div&gt;\n&lt;p&gt;learn to code rust&lt;/p&gt;\n&lt;button id=\"edit-learn-to-code-rust\"&gt;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0edit\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;/button&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre> <p>ToDo\u9805\u76ee\u306e\u30bf\u30a4\u30c8\u30eb\u304c\u6bb5\u843d\u306eHTML\u30bf\u30b0\u306e\u4e2d\u306b\u5165\u308c\u5b50\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30dc\u30bf\u30f3\u304c\u3042\u308a\u307e\u3059\u3002HTML\u30bf\u30b0\u306eid\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u4e00\u610f\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u3053\u3067\u3001\u3053\u306eID\u3092\u3001\u30dc\u30bf\u30f3\u3067\u4f55\u3092\u3059\u308b\u304b\u3068\u3044\u3046\u3053\u3068\u3068\u3001ToDo\u9805\u76ee\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u3082\u3068\u306b\u69cb\u6210\u3057\u307e\u3059\u3002\u3053\u306eid\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u3001\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u3092\u4f7f\u3063\u3066API\u30b3\u30fc\u30eb\u3092\u884c\u3046\u95a2\u6570\u3092\u30d0\u30a4\u30f3\u30c9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <ol> <li>\u30ec\u30f3\u30c0\u30fc\u95a2\u6570\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u3001\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u9805\u76ee\u3001\u5b9f\u884c\u3059\u308b\u51e6\u7406\u306e\u7a2e\u985e\uff08\u7de8\u96c6\u307e\u305f\u306f\u524a\u9664\uff09\u3001\u3053\u308c\u3089\u306e\u9805\u76ee\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308bHTML\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u8981\u7d20ID\u3001\u304a\u3088\u3073\u5404ToDo\u9805\u76ee\u30dc\u30bf\u30f3\u306b\u7d50\u5408\u3059\u308b\u95a2\u6570\u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u306e\u6982\u8981\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002</li> </ol> <pre><code>function renderItems(items, processType, elementId, processFunction) {\n. . .\n}\n</code></pre> <ol> <li>renderItems\u95a2\u6570\u306e\u5185\u90e8\u3067\u306f\u3001\u307e\u305aHTML\u3092\u69cb\u7bc9\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067ToDo\u9805\u76ee\u3092\u30eb\u30fc\u30d7\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>let itemsMeta = [];\nlet placeholder = \"&lt;div&gt;\"\nfor (let i = 0; i &lt; items.length; i++) {\n. . .\n}\nplaceholder += \"&lt;/div&gt;\"\ndocument.getElementById(elementId).innerHTML = placeholder;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u5404ToDo\u9805\u76ee\u306b\u5bfe\u3057\u3066\u751f\u6210\u3059\u308bHTML\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3059\u308b\u305f\u3081\u306e\u914d\u5217\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306fitemsMeta\u3068\u3044\u3046\u5909\u6570\u306b\u683c\u7d0d\u3055\u308c\u3001\u5f8c\u307b\u3069renderItems\u95a2\u6570\u3067\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u3092\u4f7f\u3063\u3066processFunction\u3092\u5404ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30dc\u30bf\u30f3\u306b\u30d0\u30a4\u30f3\u30c9\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u6b21\u306b\u30011\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u306b\u5bfe\u3057\u3066\u3059\u3079\u3066\u306eToDo\u9805\u76ee\u3092\u53ce\u5bb9\u3059\u308bHTML\u3092placeholder\u5909\u6570\u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001div\u30bf\u30b0\u304b\u3089\u59cb\u3081\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u9805\u76ee\u3054\u3068\u306b\u30eb\u30fc\u30d7\u3057\u3066\u30c7\u30fc\u30bf\u3092HTML\u306b\u5909\u63db\u3057\u3001\u6700\u5f8c\u306bdiv\u30bf\u30b0\u3092\u9589\u3058\u3066HTML\u3092\u5b8c\u6210\u3055\u305b\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001placeholder\u3068\u547c\u3070\u308c\u308b\u69cb\u7bc9\u3055\u308c\u305fHTML\u6587\u5b57\u5217\u3092innerHTML\u306b\u633f\u5165\u3057\u3066\u3044\u307e\u3059\u3002innerHTML\u306e\u4f4d\u7f6e\u306f\u3001\u69cb\u7bc9\u3057\u305fToDo\u9805\u76ee\u3092\u8868\u793a\u3059\u308b\u30da\u30fc\u30b8\u3067\u3059\u3002</p> <ol> <li>\u30eb\u30fc\u30d7\u306e\u4e2d\u3067\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u500b\u3005\u306eToDo\u9805\u76ee\u306eHTML\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> <pre><code>let title = items[i][\"title\"];\nlet placeholderId = processType + \"-\" + title.replaceAll(\" \", \"-\");\nplaceholder += \"&lt;div&gt;\" + title + \"&lt;button \" + 'id=\"' + placeholderId + '\"&gt;' + processType +'&lt;/button&gt;' + \"&lt;/div&gt;\";\nitemsMeta.push({\"id\": placeholderId, \"title\": title});\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30eb\u30fc\u30d7\u3057\u3066\u3044\u308b\u9805\u76ee\u304b\u3089\u9805\u76ee\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u62bd\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001\u30a4\u30d9\u30f3\u30c8\u30fb\u30ea\u30b9\u30ca\u30fc\u306b\u30d0\u30a4\u30f3\u30c9\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3059\u308b\u30a2\u30a4\u30c6\u30e0\u306eID\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u30bf\u30a4\u30c8\u30eb\u3068ID\u3092\u5b9a\u7fa9\u3057\u305f\u306e\u3067\u3001\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u306eHTML\u6587\u5b57\u5217\u306b\u30bf\u30a4\u30c8\u30eb\u3092\u6301\u3064div\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3055\u3089\u306b\u3001placeholderId\u3092\u6301\u3064\u30dc\u30bf\u30f3\u3092\u8ffd\u52a0\u3057\u3001\u6700\u5f8c\u306bdiv\u3092\u8ffd\u52a0\u3057\u3066\u7d42\u4e86\u3057\u307e\u3059\u3002HTML\u6587\u5b57\u5217\u3078\u306e\u8ffd\u52a0\u304c\u3001;\u3067\u7d42\u4e86\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001placeholderId\u3068title\u3092itemsMeta\u914d\u5217\u306b\u8ffd\u52a0\u3057\u3001\u5f8c\u3067\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002</p> <ol> <li>\u6b21\u306b\u3001itemsMeta\u3092\u30eb\u30fc\u30d7\u3055\u305b\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> </ol> <pre><code>\u00a0\u00a0\u00a0. . .\nplaceholder += \"&lt;/div&gt;\"\ndocument.getElementById(elementId).innerHTML = placeholder;\nfor (let i = 0; i &lt; itemsMeta.length; i++) {\ndocument\n.getElementById(itemsMeta[i][\"id\"])\n.addEventListener(\"click\", processFunction);\n}\n}\n</code></pre> <p>\u3055\u3066\u3001processFunction\u306f\u3001ToDo\u9805\u76ee\u306e\u96a3\u306b\u4f5c\u6210\u3057\u305f\u30dc\u30bf\u30f3\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u305f\u5834\u5408\u306b\u8d77\u52d5\u3057\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u3067\u30a2\u30a4\u30c6\u30e0\u304c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u307e\u3057\u305f\u304c\u3001API\u30b3\u30fc\u30eb\u95a2\u6570\u3067\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304b\u3089\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u3001\u3053\u308c\u304b\u3089\u898b\u3066\u3044\u304d\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/InjectingJavaScriptIntoHTML/#apijavascript","title":"API\u30b3\u30fc\u30ebJavaScript\u95a2\u6570\u306e\u69cb\u7bc9","text":"<p>\u30ec\u30f3\u30c0\u30fc\u95a2\u6570\u304c\u3067\u304d\u305f\u306e\u3067\u3001API\u30b3\u30fc\u30eb\u95a2\u6570\u3092\u898b\u307e\u3057\u3087\u3046\u3002</p> <ol> <li>\u307e\u305a\u3001javascript/main.js\u30d5\u30a1\u30a4\u30eb\u306bAPI\u30b3\u30fc\u30eb\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u95a2\u6570\u306f\u3001API\u30b3\u30fc\u30eb\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3067\u3042\u308bURL\u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002\u307e\u305f\u3001POST\u3001GET\u3001PUT\u306e\u3044\u305a\u308c\u304b\u306e\u6587\u5b57\u5217\u3067\u3042\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u30fb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> <pre><code>function apiCall(url, method) {\nlet xhr = new XMLHttpRequest();\nxhr.withCredentials = true;\n</code></pre> <ol> <li>\u305d\u3057\u3066\u3001apiCall\u95a2\u6570\u5185\u306b\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u3092\u5b9a\u7fa9\u3057\u3001\u547c\u3073\u51fa\u3057\u304c\u7d42\u4e86\u3057\u305f\u3089\u8fd4\u3055\u308c\u305fJSON\u3067ToDo\u9805\u76ee\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> <pre><code>xhr.addEventListener('readystatechange', function() {\nif (this.readyState === this.DONE) {\nrenderItems(\nJSON.parse(this.responseText)[\"pending_items\"], \"edit\",\n\"pendingItems\",\neditItem);\nrenderItems(\nJSON.parse(this.responseText)[\"done_items\"],\n\"delete\",\n\"doneItems\",\ndeleteItem);\n}\n});\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001templates/main.html \u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3057\u305f ID \u3092\u6e21\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001API\u30b3\u30fc\u30eb\u304b\u3089\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3082\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001editem\u95a2\u6570\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u3001\u4fdd\u7559\u4e2d\u306e\u30a2\u30a4\u30c6\u30e0\u306b\u4ed8\u968f\u3059\u308b\u30dc\u30bf\u30f3\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u3001\u305d\u306e\u30a2\u30a4\u30c6\u30e0\u304c\u5b8c\u4e86\u30a2\u30a4\u30c6\u30e0\u306b\u306a\u3063\u305f\u3068\u304d\u306b\u3001edit\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3092\u8e0f\u307e\u3048\u3066\u3001\u5b8c\u4e86\u3057\u305f\u30a2\u30a4\u30c6\u30e0\u306e\u30dc\u30bf\u30f3\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u308b\u3068\u3001deleteItem\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u3001apiCall\u95a2\u6570\u3092\u4f5c\u308a\u7d9a\u3051\u307e\u3059\u3002</p> <ol> <li>\u3053\u306e\u5f8c\u3001editItem\u95a2\u6570\u3068deleteItem\u95a2\u6570\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001apiCall\u95a2\u6570\u304c\u547c\u3070\u308c\u308b\u305f\u3073\u306b\u3001\u30a2\u30a4\u30c6\u30e0\u304c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u308b\u3053\u3068\u3082\u5206\u304b\u3063\u3066\u3044\u307e\u3059\u3002</li> </ol> <p>\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u3092\u5b9a\u7fa9\u3057\u305f\u306e\u3067\u3001API\u30b3\u30fc\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30e1\u30bd\u30c3\u30c9\u3068URL\u3092\u6e96\u5099\u3057\u3001\u30d8\u30c3\u30c0\u30fc\u3092\u5b9a\u7fa9\u3057\u3001\u5fc5\u8981\u306a\u3068\u304d\u306b\u3044\u3064\u3067\u3082\u9001\u4fe1\u3067\u304d\u308b\u3088\u3046\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8fd4\u3055\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002</p> <pre><code>\u00a0\u00a0\u00a0\u00a0xhr.open(method, url);\nxhr.setRequestHeader('content-type', 'application/json');\nxhr.setRequestHeader('user-token', 'token');\nreturn xhr\n}\n</code></pre> <p>\u3055\u3066\u3001apiCall\u95a2\u6570\u3092\u4f7f\u3063\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3078\u306e\u547c\u3073\u51fa\u3057\u3092\u884c\u3044\u3001API\u547c\u3073\u51fa\u3057\u5f8c\u306e\u30a2\u30a4\u30c6\u30e0\u306e\u65b0\u3057\u3044\u72b6\u614b\u3067\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3092\u518d\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u6700\u5f8c\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u9032\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u3001\u53d6\u5f97\u3001\u524a\u9664\u3001\u7de8\u96c6\u6a5f\u80fd\u3092\u5b9f\u884c\u3059\u308b\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/InjectingJavaScriptIntoHTML/#javascript_2","title":"\u30dc\u30bf\u30f3\u7528\u306eJavaScript\u95a2\u6570\u3092\u4f5c\u308b","text":"<p>\u3053\u306e\u30d8\u30c3\u30c0\u30fc\u306f\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3067\u30cf\u30fc\u30c9\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3055\u308c\u3066\u3044\u308b\u30a2\u30af\u30bb\u30d7\u30bf\u30f3\u30c8\u30fc\u30af\u30f3\u3092\u30cf\u30fc\u30c9\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u7b2c7\u7ae0\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u7ba1\u7406\u3067\u3001auth\u30d8\u30c3\u30c0\u30fc\u3092\u9069\u5207\u306b\u5b9a\u7fa9\u3059\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002API\u30b3\u30fc\u30eb\u95a2\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001\u6b21\u306feditem\u95a2\u6570\u306b\u79fb\u308a\u307e\u3059\u3002</p> <pre><code>function editItem() {\nlet title = this.id.replaceAll(\"-\", \" \").replace(\"edit \", \"\");\nlet call = apiCall(\"/v1/item/edit\", \"POST\");\nlet json = {\n\"title\": title,\n\"status\": \"DONE\"\n};\ncall.send(JSON.stringify(json));\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u304c\u5c5e\u3059\u308bHTML\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u3001\u3053\u308c\u3092\u7d4c\u7531\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002edit\u3092\u524a\u9664\u3057\u3001-\u3092\u30b9\u30da\u30fc\u30b9\u306b\u5207\u308a\u66ff\u3048\u308b\u3068\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306eID\u304cToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30bf\u30a4\u30c8\u30eb\u306b\u5909\u63db\u3055\u308c\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\u6b21\u306b\u3001apiCall\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u3001\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002replace\u95a2\u6570\u306e \"edit \"\u306e\u6587\u5b57\u5217\u306b\u306f\u30b9\u30da\u30fc\u30b9\u304c\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u30b9\u30da\u30fc\u30b9\u304c\u3042\u308b\u306e\u306f\u3001edit\u6587\u5b57\u5217\u306e\u5f8c\u306e\u30b9\u30da\u30fc\u30b9\u3082\u524a\u9664\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3089\u3067\u3059\u3002\u3053\u306e\u30b9\u30da\u30fc\u30b9\u3092\u524a\u9664\u3057\u306a\u3044\u3068\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u9001\u4fe1\u3055\u308c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304cJSON\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30a4\u30c6\u30e0\u306e\u30bf\u30a4\u30c8\u30eb\u306e\u96a3\u306b\u30b9\u30da\u30fc\u30b9\u3092\u6301\u305f\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068API\u547c\u3073\u51fa\u3057\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u3089\u3001\u30bf\u30a4\u30c8\u30eb\u3092\u8f9e\u66f8\u306b\u6e21\u3057\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3092done\u3068\u3057\u3066\u6e21\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u4fdd\u7559\u4e2d\u306e\u30a2\u30a4\u30c6\u30e0\u3092done\u306b\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u304c\u5206\u304b\u3063\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002\u3053\u308c\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001JSON\u30dc\u30c7\u30a3\u3092\u542b\u3080API\u30b3\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002</p> <p>\u3055\u3066\u3001\u540c\u3058\u624b\u6cd5\u3067deleteItem\u95a2\u6570\u3082\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <pre><code>function deleteItem() {\nlet title = this.id.replaceAll(\"-\", \" \").replace(\"delete \", \"\");\nlet call = apiCall(\"/v1/item/delete\", \"POST\");\nlet json = {\n\"title\": title,\n\"status\": \"DONE\"\n};\ncall.send(JSON.stringify(json));\n}\n</code></pre> <p>\u3053\u3053\u3067\u3082\u3001replace\u95a2\u6570\u306e \"delete \"\u6587\u5b57\u5217\u306e\u4e2d\u306b\u30b9\u30da\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u51e6\u7406\u306f\u5b8c\u5168\u306b\u51e6\u7406\u3055\u308c\u305f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u7de8\u96c6\u3068\u524a\u9664\u306e\u95a2\u6570\u3068\u3001\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\u6b21\u306b\u3001\u30da\u30fc\u30b8\u304c\u6700\u521d\u306b\u8aad\u307f\u8fbc\u307e\u308c\u305f\u3068\u304d\u306b\u3001\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u8aad\u307f\u8fbc\u307e\u305b\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u7c21\u5358\u306aAPI\u30b3\u30fc\u30eb\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</p> <pre><code>function getItems() {\nlet call = apiCall(\"/v1/item/get\", 'GET');\ncall.send()\n}\ngetItems();\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001GET\u30e1\u30bd\u30c3\u30c9\u3067API\u30b3\u30fc\u30eb\u3092\u884c\u3044\u3001\u305d\u308c\u3092\u9001\u4fe1\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001getItems\u95a2\u6570\u304c\u95a2\u6570\u306e\u5916\u3067\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306f\u3001\u30d3\u30e5\u30fc\u304c\u30ed\u30fc\u30c9\u3055\u308c\u305f\u3068\u304d\u306b\u4e00\u5ea6\u3060\u3051\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002</p> <p>\u9577\u3044\u9593\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u3057\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u3042\u3068\u5c11\u3057\u3067\u5b8c\u6210\u3067\u3059\u3002\u3042\u3068\u306f\u3001\u30c6\u30ad\u30b9\u30c8\u5165\u529b\u3068\u30dc\u30bf\u30f3\u306e\u4f5c\u6210\u6a5f\u80fd\u3092\u5b9a\u7fa9\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u30b7\u30f3\u30d7\u30eb\u306a\u30a4\u30d9\u30f3\u30c8\u30fb\u30ea\u30b9\u30ca\u30fc\u3068create\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306eAPI\u30b3\u30fc\u30eb\u3067\u7ba1\u7406\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>document.getElementById(\"create-button\")\n.addEventListener(\"click\", createItem);\nfunction createItem() {\nlet title = document.getElementById(\"name\");\nlet call = apiCall(\"/v1/item/create/\" + title.value, \"POST\");\ncall.send();\ndocument.getElementById(\"name\").value = null;\n}\n</code></pre> <p>\u307e\u305f\u3001\u30c6\u30ad\u30b9\u30c8\u5165\u529b\u306e\u5024\u3092null\u306b\u8a2d\u5b9a\u3059\u308b\u8a73\u7d30\u3082\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002input\u3092null\u306b\u8a2d\u5b9a\u3057\u305f\u306e\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u3001\u4f5c\u6210\u3055\u308c\u305f\u3070\u304b\u308a\u306e\u53e4\u3044\u30a2\u30a4\u30c6\u30e0\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u5225\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3067\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u306e\u30e1\u30a4\u30f3\u30d3\u30e5\u30fc\u3092\u53e9\u304f\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <p>\u56f35.5 \u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u305fToDo\u9805\u76ee\u304c\u8868\u793a\u3055\u308c\u305f\u30e1\u30a4\u30f3\u30da\u30fc\u30b8</p> <p>\u3055\u3066\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u304c\u601d\u3044\u901a\u308a\u306b\u52d5\u304f\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <ol> <li>\u6d17\u6fef\u5b8c\u4e86\u306e\u9805\u76ee\u306e\u6a2a\u306b\u3042\u308b\u524a\u9664\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3002</li> <li>\u671d\u98df\u306b\u30b7\u30ea\u30a2\u30eb\u3092\u98df\u3079\u308b\u300d\u3068\u5165\u529b\u3057\u3001\u300c\u4f5c\u6210\u300d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3002</li> <li>\u671d\u98df\u306b\u30e9\u30fc\u30e1\u30f3\u3092\u98df\u3079\u308b\u300d\u3068\u5165\u529b\u3057\u3001\uff3b\u4f5c\u6210\uff3d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002</li> <li>\u671d\u98df\u306b\u30e9\u30fc\u30e1\u30f3\u3092\u98df\u3079\u308b\u300d\u9805\u76ee\u306e\u7de8\u96c6\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002</li> </ol> <p>\u4ee5\u4e0a\u306e\u624b\u9806\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c\u304c\u5f97\u3089\u308c\u308b\u306f\u305a\u3067\u3059\u3002</p> <p>\u56f35.6-\u524d\u8ff0\u3057\u305f\u624b\u9806\u304c\u5b8c\u4e86\u3057\u305f\u5f8c\u306e\u30e1\u30a4\u30f3\u30da\u30fc\u30b8</p> <p>\u3053\u308c\u3067\u3001\u5b8c\u5168\u306b\u6a5f\u80fd\u3059\u308b\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u304c\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\u3059\u3079\u3066\u306e\u30dc\u30bf\u30f3\u304c\u6a5f\u80fd\u3057\u3001\u30ea\u30b9\u30c8\u304c\u5373\u5ea7\u306b\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u898b\u305f\u76ee\u306f\u3042\u307e\u308a\u304d\u308c\u3044\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u9593\u9694\u304c\u306a\u304f\u3001\u3059\u3079\u3066\u304c\u767d\u9ed2\u3067\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3092\u6539\u5584\u3059\u308b\u306b\u306f\u3001HTML\u30d5\u30a1\u30a4\u30eb\u306bCSS\u3092\u7d44\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/LiftingCSSIntoReact/","title":"5.9 - CSS\u3092React\u306b\u6301\u3061\u8fbc\u3080","text":""},{"location":"5_DisplayingContentInTheBrowser/LiftingCSSIntoReact/#cssreact","title":"CSS\u3092React\u306b\u6301\u3061\u8fbc\u3080","text":"<p>React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u6700\u5f8c\u306e\u4e00\u6b69\u3092\u8e0f\u307f\u51fa\u3057\u307e\u3057\u305f\u3002CSS\u3092\u8907\u6570\u306e\u7570\u306a\u308b\u30d5\u30a1\u30a4\u30eb\u306b\u5206\u5272\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u7ae0\u3082\u7d42\u76e4\u306b\u5dee\u3057\u639b\u304b\u308a\u3001\u3082\u3046\u4e00\u5ea6CSS\u3092\u898b\u76f4\u3059\u3068\u3001\u4e0d\u5fc5\u8981\u306b\u91cd\u8907\u3057\u305f\u30b3\u30fc\u30c9\u3067\u3053\u306e\u7ae0\u3092\u57cb\u3081\u5c3d\u304f\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002HTML\u3068JavaScript\u306f\u7570\u306a\u308a\u307e\u3059\u304c\u3001CSS\u306f\u540c\u3058\u3082\u306e\u3067\u3059\u3002\u305d\u3053\u3067\u3001\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u3059\u3079\u3066\u306eCSS\u3092\u30b3\u30d4\u30fc\u3057\u3066\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <ul> <li>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8/\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8/\u30d8\u30c3\u30c0\u30fc.css</li> <li>css/\u30d9\u30fc\u30b9.css</li> <li>css/main.css</li> </ul> <p>\u3053\u3053\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308bCSS\u30d5\u30a1\u30a4\u30eb\u3092front_end/src/App.css\u30d5\u30a1\u30a4\u30eb\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002CSS\u306b\u306f1\u3064\u3060\u3051\u5909\u66f4\u304c\u3042\u308a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u30b9\u30cb\u30da\u30c3\u30c8\u306b\u793a\u3059\u3088\u3046\u306b\u3001\u3059\u3079\u3066\u306e.body\u53c2\u7167\u3092.App\u306b\u7f6e\u304d\u63db\u3048\u308b\u5fc5\u8981\u304c\u3042\u308b\u3068\u3053\u308d\u3067\u3059\u3002</p> <pre><code>.App {\nbackground-color: #92a8d1;\nfont-family: Arial, Helvetica, sans-serif;\nheight: 100vh;\n}\n@media(min-width: 501px) and (max-width: 550px) {\n.App {\npadding: 1px;\ndisplay: grid;\ngrid-template-columns: 1fr 5fr 1fr;\n}\n.mainContainer {\ngrid-column-start: 2;\n}\n}\n. . .\n</code></pre> <p>\u3053\u308c\u3067\u3001CSS\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001\u30a2\u30d7\u30ea\u3084\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3067\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u30ec\u30f3\u30c0\u30fc\u95a2\u6570\u306e\u623b\u308a\u5024\u306eHTML\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u30023\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3059\u3079\u3066\u3092\u901a\u3057\u3066\u4f5c\u696d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002src/App.js\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067CSS\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>import \"./App.css\";\n</code></pre> <p>\u6b21\u306b\u3001\u30d8\u30c3\u30c0\u30fc\u3092\u8ffd\u52a0\u3057\u3001div\u30bf\u30b0\u3092\u6b63\u3057\u3044\u30af\u30e9\u30b9\u3067\u5b9a\u7fa9\u3057\u3001render\u95a2\u6570\u306e\u623b\u308a\u6587\u306b\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code>&lt;div className=\"App\"&gt;\n&lt;div className=\"mainContainer\"&gt;\n&lt;div className=\"header\"&gt;\n&lt;p&gt;complete tasks: \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{this.state.done_items_count}&lt;/p&gt;\n&lt;p&gt;pending tasks: \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{this.state.pending_items_count}&lt;/p&gt;\n&lt;/div&gt;\n&lt;h1&gt;Pending Items&lt;/h1&gt;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{this.state.pending_items}\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;h1&gt;Done Items&lt;/h1&gt;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{this.state.done_items}\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;CreateToDoItem passBackResponse=\n{this.handleReturnedState}/&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre> <p>src/components/ToDoItem.js\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067CSS\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>import \"../App.css\";\n</code></pre> <p>\u6b21\u306b\u3001\u30dc\u30bf\u30f3\u3092div\u306b\u5909\u66f4\u3057\u3001render\u95a2\u6570\u306ereturn\u6587\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>&lt;div className=\"itemContainer\"&gt;\n&lt;p&gt;{this.state.title}&lt;/p&gt;\n&lt;div className=\"actionButton\" onClick={this.sendRequest}&gt;\n        {this.state.button}\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre> <p>\u6b21\u306b\u3001\u30dc\u30bf\u30f3\u3092div\u306b\u5909\u66f4\u3057\u3001render\u95a2\u6570\u306ereturn\u6587\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>&lt;div className=\"inputContainer\"&gt;\n&lt;input type=\"text\" id=\"name\"\nplaceholder=\"create to do item\"\nvalue={this.state.title}\nonChange={this.handleTitleChange}/&gt;\n&lt;div className=\"actionButton\"\nid=\"create-button\"\nonClick={this.createItem}&gt;\n            Create\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre> <p>\u3053\u308c\u3067\u3001Rust\u306eWeb\u30b5\u30fc\u30d0\u304b\u3089React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306bCSS\u3092\u6301\u3061\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002Rust\u30b5\u30fc\u30d0\u30fc\u3068React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u56f3\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <p>\u56f35.13\u300cCSS\u3092\u8ffd\u52a0\u3057\u305fReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d3\u30e5\u30fc</p> <p>\u305d\u3057\u3066\u3001\u3053\u308c\u3060!React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u7acb\u3061\u4e0a\u3052\u3066\u5b9f\u884c\u3059\u308b\u307e\u3067\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u304c\u3001React\u306e\u65b9\u304c\u67d4\u8edf\u6027\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u6587\u5b57\u5217\u3092\u624b\u52d5\u3067\u64cd\u4f5c\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u305f\u3081\u3001React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u306b\u304f\u3044\u3053\u3068\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3055\u3089\u306b\u3001React\u3067\u69cb\u7bc9\u3059\u308b\u5229\u70b9\u306f\u3082\u30461\u3064\u3042\u308a\u3001\u305d\u308c\u306f\u65e2\u5b58\u306e\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u3067\u3059\u3002\u6b21\u56de\u306f\u3001React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Electron\u3067\u30e9\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u3053\u3068\u3067\u3001React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u52d5\u4f5c\u3059\u308b\u30b3\u30f3\u30d1\u30a4\u30eb\u6e08\u307f\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5909\u63db\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/MakingAPICallsInReact/","title":"5.7 - React\u3067API\u3092\u547c\u3073\u51fa\u3059","text":""},{"location":"5_DisplayingContentInTheBrowser/MakingAPICallsInReact/#reactapi","title":"React\u3067API\u3092\u547c\u3073\u51fa\u3059","text":"<p>\u3053\u308c\u3067\u57fa\u672c\u7684\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3078\u306eAPI\u30b3\u30fc\u30eb\u3092\u5b9f\u884c\u3057\u59cb\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u4e3b\u306bfront_end/src/App.js\u30d5\u30a1\u30a4\u30eb\u306b\u7126\u70b9\u3092\u5f53\u3066\u307e\u3059\u3002Rust\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u307e\u305a\u3001package.json\u30d5\u30a1\u30a4\u30eb\u306edependencies\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>\"axios\": \"^0.26.1\"\n</code></pre> <p>\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <pre><code>$ npm install\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u8ffd\u52a0\u306e\u4f9d\u5b58\u95a2\u4fc2\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\u6b21\u306b\u3001front_end/src/App.js \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</p> <pre><code>import React, { Component } from 'react';\nimport axios from 'axios';\n</code></pre> <p>\u30a2\u30d7\u30ea\u30af\u30e9\u30b9\u306e\u7d99\u627f\u306b\u306fComponent\u3092\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3078\u306eAPI\u547c\u3073\u51fa\u3057\u306b\u306faxios\u3092\u4f7f\u7528\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u3055\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067App\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3057\u3001\u72b6\u614b\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>class App extends Component {\nstate = {\n\"pending_items\": [],\n\"done_items\": [],\n\"pending_items_count\": 0,\n\"done_items_count\": 0\n}\n}\nexport default App;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u81ea\u4f5c\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3068\u540c\u3058\u69cb\u9020\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001Rust\u30b5\u30fc\u30d0\u30fc\u306eget items\u30d3\u30e5\u30fc\u304b\u3089\u8fd4\u3055\u308c\u308b\u30c7\u30fc\u30bf\u3067\u3082\u3042\u308a\u307e\u3059\u3002\u3055\u3066\u3001\u3069\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u3092\u6271\u3046\u306e\u304b\u304c\u308f\u304b\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <ol> <li>App\u30af\u30e9\u30b9\u5185\u306b\u3001Rust\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u95a2\u6570\u3092\u53d6\u5f97\u3059\u308b\u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li>\u3053\u306e\u95a2\u6570\u304cApp\u30af\u30e9\u30b9\u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u305f\u3068\u304d\u306b\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</li> <li>App\u30af\u30e9\u30b9\u5185\u306b\u3001Rust\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u8fd4\u3055\u308c\u305f\u30a2\u30a4\u30c6\u30e0\u3092HTML\u306b\u51e6\u7406\u3059\u308b\u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li>App\u30af\u30e9\u30b9\u5185\u306b\u3001\u524d\u8ff0\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u3059\u3079\u3066\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u8868\u793a\u3059\u308b\u95a2\u6570\u3092\u4f5c\u6210\u3057\u3001\u7d42\u4e86\u3057\u307e\u3059\u3002</li> <li>Rust\u30b5\u30fc\u30d0\u30fc\u304c\u4ed6\u306e\u30bd\u30fc\u30b9\u304b\u3089\u306e\u547c\u3073\u51fa\u3057\u3092\u53d7\u4fe1\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</li> </ol> <p>\u3053\u308c\u3089\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u5165\u308b\u524d\u306b\u3001App\u30af\u30e9\u30b9\u306e\u30a2\u30a6\u30c8\u30e9\u30a4\u30f3\u304c\u6b21\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3002</p> <pre><code>class App extends Component {\nstate = {\n. . .\n}\n// makes the API call\ngetItems() {\n. . .\n}\n// ensures the API call is updated when mounted\ncomponentDidMount() {\n. . .\n}\n// convert items from API to HTML \nprocessItemValues(items) {\n. . .\n}\n// returns the HTML to be rendered\nrender() {\nreturn (\n. . .\n)\n}\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001API\u30b3\u30fc\u30eb\u3092\u884c\u3046\u95a2\u6570\u306b\u7740\u624b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <ol> <li>App\u30af\u30e9\u30b9\u306e\u5185\u90e8\u3067\u306f\u3001getItems\u95a2\u6570\u304c\u6b21\u306e\u3088\u3046\u306a\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u3068\u308a\u307e\u3059\u3002</li> </ol> <pre><code>axios.get(\"http://127.0.0.1:8000/v1/item/get\", {headers: {\"token\": \"some_token\"}})\n.then(response =&gt; {\nlet pending_items = response.data[\"pending_items\"]\nlet done_items = response.data[\"done_items\"]\nthis.setState({\n. . .\n})\n});\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001URL\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30d8\u30c3\u30c0\u306b\u30c8\u30fc\u30af\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u4eca\u306f\u307e\u3060Rust\u30b5\u30fc\u30d0\u3067\u30e6\u30fc\u30b6\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u5358\u7d14\u306a\u6587\u5b57\u5217\u3092\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3053\u308c\u3092\u9589\u3058\u307e\u3059\u3002axios.get\u306f\u30d7\u30ed\u30df\u30b9\u306a\u306e\u3067\u3001.then\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002.then\u62ec\u5f27\u306e\u4e2d\u306e\u30b3\u30fc\u30c9\u306f\u3001\u30c7\u30fc\u30bf\u304c\u8fd4\u3055\u308c\u305f\u3068\u304d\u306b\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u62ec\u5f27\u306e\u4e2d\u3067\u3001\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u3001this.setState\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002this.setState\u95a2\u6570\u306f\u3001App\u30af\u30e9\u30b9\u306e\u72b6\u614b\u3092\u66f4\u65b0\u3059\u308b\u95a2\u6570\u3067\u3059\u3002\u305f\u3060\u3057\u3001this.setState\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001App\u30af\u30e9\u30b9\u306erender\u95a2\u6570\u3082\u5b9f\u884c\u3055\u308c\u3001\u30d6\u30e9\u30a6\u30b6\u304c\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002\u3053\u306ethis.setState\u95a2\u6570\u306e\u5185\u90e8\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>\"pending_items\": this.processItemValues(pending_items),\n\"done_items\": this.processItemValues(done_items),\n\"pending_items_count\": response.data[\"pending_item_count\"],\n\"done_items_count\": response.data[\"done_item_count\"]\n</code></pre> <p>\u3053\u308c\u3067getItems\u304c\u5b8c\u6210\u3057\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304b\u3089\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3055\u3066\u3001\u5b9a\u7fa9\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306f\u3053\u308c\u3092\u78ba\u5b9f\u306b\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li>App\u30af\u30e9\u30b9\u304c\u30ed\u30fc\u30c9\u3055\u308c\u305f\u3068\u304d\u306bgetItems\u95a2\u6570\u304c\u767a\u751f\u3057\u3001\u72b6\u614b\u304c\u66f4\u65b0\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</li> </ol> <pre><code>componentDidMount() {\nthis.getItems();\n}\n</code></pre> <p>getItems\u306f\u3001App\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u305f\u76f4\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b\u305f\u3081\u3001\u3053\u308c\u306f\u7c21\u5358\u3067\u3059\u3002\u3064\u307e\u308a\u3001componentDidMount\u95a2\u6570\u3067this.setState\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30d6\u30e9\u30a6\u30b6\u304c\u753b\u9762\u3092\u66f4\u65b0\u3059\u308b\u524d\u306b\u4f59\u5206\u306a\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c\u30c8\u30ea\u30ac\u30fc\u3055\u308c\u307e\u3059\u3002render\u304c2\u56de\u547c\u3073\u51fa\u3055\u308c\u305f\u3068\u3057\u3066\u3082\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u306f\u4e2d\u9593\u72b6\u614b\u306f\u898b\u3048\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001React Component\u30af\u30e9\u30b9\u304b\u3089\u7d99\u627f\u3057\u305f\u591a\u304f\u306e\u95a2\u6570\u306e1\u3064\u3067\u3059\u3002\u30da\u30fc\u30b8\u304c\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3068\u540c\u6642\u306b\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u9032\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a\u8aad\u307f\u8fbc\u3093\u3060\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3057\u307e\u3059\u3002</p> <ol> <li>App\u30af\u30e9\u30b9\u5185\u306eprocessItemValues\u95a2\u6570\u3067\u306f\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u8868\u3059JSON\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u914d\u5217\u3092\u53d6\u308a\u8fbc\u307f\u3001HTML\u306b\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>processItemValues(items) {\nlet itemList = [];\nitems.forEach((item, index)=&gt;{\nitemList.push(\n&lt;li key={index}&gt;{item.title} {item.status}&lt;/li&gt;\n)\n})\nreturn itemList\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u9805\u76ee\u3092\u30eb\u30fc\u30d7\u3057\u3066li HTML\u8981\u7d20\u306b\u5909\u63db\u3057\u3001\u7a7a\u306e\u914d\u5217\u306b\u8ffd\u52a0\u3057\u3066\u3001\u57cb\u307e\u3063\u305f\u3089\u8fd4\u3059\u3060\u3051\u3067\u3059\u3002getItems\u95a2\u6570\u3067state\u306b\u5165\u308c\u308b\u524d\u306b\u3001processItemValue\u95a2\u6570\u3067\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u3067\u3001\u30b9\u30c6\u30fc\u30c8\u306b\u3059\u3079\u3066\u306eHTML\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u63c3\u3063\u305f\u306e\u3067\u3001render\u95a2\u6570\u3067\u30da\u30fc\u30b8\u4e0a\u306b\u914d\u7f6e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li>App\u30af\u30e9\u30b9\u3067\u306f\u3001render\u95a2\u6570\u306fHTML\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8fd4\u3059\u3060\u3051\u3067\u3059\u3002\u3053\u308c\u306b\u306f\u4f59\u5206\u306a\u30ed\u30b8\u30c3\u30af\u306f\u4f7f\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8fd4\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>&lt;div className=\"App\"&gt;\n&lt;h1&gt;Done Items&lt;/h1&gt;\n&lt;p&gt;done item count: {this.state.done_items_count}&lt;/p&gt;\n{this.state.done_items}\n&lt;h1&gt;Pending Items&lt;/h1&gt;\n&lt;p&gt;pending item count: {this.state.pending_items_count}&lt;/p&gt;\n{this.state.pending_items}\n&lt;/div&gt;\n</code></pre> <p>\u3053\u3053\u3067\u3001\u79c1\u305f\u3061\u306e\u72b6\u614b\u304c\u76f4\u63a5\u53c2\u7167\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u672c\u7ae0\u306e\u524d\u534a\u3067\u63a1\u7528\u3057\u305f\u624b\u52d5\u3067\u306e\u6587\u5b57\u5217\u64cd\u4f5c\u304b\u3089\u5927\u304d\u304f\u5909\u308f\u3063\u305f\u70b9\u3067\u3059\u3002React\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u3088\u308a\u30af\u30ea\u30fc\u30f3\u3067\u3001\u30a8\u30e9\u30fc\u306e\u30ea\u30b9\u30af\u3092\u6e1b\u3089\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u306f\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3078\u306e\u547c\u3073\u51fa\u3057\u3092\u4f34\u3046\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u51e6\u7406\u304c\u52d5\u4f5c\u3059\u308b\u306f\u305a\u3067\u3059\u3002\u3057\u304b\u3057\u3001Rust\u30b5\u30fc\u30d0\u30fc\u306f\u3001React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5225\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3042\u308b\u3053\u3068\u3092\u7406\u7531\u306b\u30d6\u30ed\u30c3\u30af\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u4fee\u6b63\u3059\u308b\u305f\u3081\u306b\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u9032\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  </p> <ol> <li>\u4eca\u73fe\u5728\u3001\u79c1\u305f\u3061\u306eRust\u30b5\u30fc\u30d0\u30fc\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30d6\u30ed\u30c3\u30af\u3057\u307e\u3059\u3002\u3053\u308c\u306fCORS\uff08Cross-Origin Resource Sharing\uff1a\u30af\u30ed\u30b9\u30aa\u30ea\u30b8\u30f3\u30ea\u30bd\u30fc\u30b9\u5171\u6709\uff09\u306b\u8d77\u56e0\u3057\u3066\u3044\u307e\u3059\u3002CORS\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u540c\u3058\u30aa\u30ea\u30b8\u30f3\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u8a31\u53ef\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u4ee5\u524d\u306f\u3053\u308c\u3068\u3044\u3063\u305f\u554f\u984c\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u751f\u306eHTML\u3092\u66f8\u3044\u3066Rust\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u914d\u4fe1\u3057\u3066\u3044\u305f\u3068\u304d\u306f\u3001\u540c\u3058\u30aa\u30ea\u30b8\u30f3\u304b\u3089\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u6765\u3066\u3044\u305f\u306e\u3067\u3059\u3002\u3057\u304b\u3057\u3001React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306f\u7570\u306a\u308b\u30aa\u30ea\u30b8\u30f3\u304b\u3089\u3084\u3063\u3066\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u4fee\u6b63\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306bCORS\u3092\u4f9d\u5b58\u95a2\u4fc2\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> <pre><code>actix-cors = \"0.6.1\"\n</code></pre> <p>src/main.rs\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067CORS\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use actix_cors::Cors;\n</code></pre> <p>\u3053\u3053\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u5b9a\u7fa9\u306e\u524d\u306bCORS\u30dd\u30ea\u30b7\u30fc\u3092\u5b9a\u7fa9\u3057\u3001\u30d3\u30e5\u30fc\u306e\u8a2d\u5b9a\u306e\u76f4\u5f8c\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067CORS\u30dd\u30ea\u30b7\u30fc\u3092\u30e9\u30c3\u30d7\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\nHttpServer::new(|| {\nlet cors = Cors::default().allow_any_origin()\n.allow_any_method()\n.allow_any_header();\nlet app = App::new()\n.wrap_fn(|req, srv| {\nprintln!(\"{}-{}\", req.method(), req.uri());\nlet future = srv.call(req);\nasync {\nlet result = future.await?;\nOk(result)\n}\n})\n.configure(views::views_factory)\n.wrap(cors);\nreturn app\n})\n.bind(\"127.0.0.1:8000\")?\n.run()\n.await\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u306fReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u4ed8\u3051\u308b\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u3002</p> <p>\u5099\u8003</p> <p>CORS\u30dd\u30ea\u30b7\u30fc\u3092\u5b9a\u7fa9\u3057\u305f\u3068\u304d\u3001\u3059\u3079\u3066\u306e\u30e1\u30bd\u30c3\u30c9\u3001\u30d8\u30c3\u30c0\u30fc\u3001\u30aa\u30ea\u30b8\u30f3\u3092\u8a31\u53ef\u3059\u308b\u3068\u3044\u3046\u8868\u73fe\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u6b21\u306e\u3088\u3046\u306aCORS\u306e\u5b9a\u7fa9\u3067\u306f\u3001\u3088\u308a\u7c21\u6f54\u306a\u8868\u73fe\u304c\u53ef\u80fd\u3067\u3059\u3002</p> <p>let cors = Cors::permissive();</p> <p>\u3055\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c6\u30b9\u30c8\u3057\u3066\u3001\u52d5\u4f5c\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002Cargo\u3067Rust\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u3001\u5225\u306e\u7aef\u672b\u3067React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u308c\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u30ed\u30fc\u30c9\u3055\u308c\u305f\u3068\u304d\u306b\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002</p> <p>\u56f35.11 - React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304cRust\u30b5\u30fc\u30d0\u30fc\u3068\u6700\u521d\u306b\u901a\u4fe1\u3057\u305f\u3068\u304d\u306e\u30d3\u30e5\u30fc</p> <p>\u3053\u308c\u3067\u3001Rust\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3078\u306e\u547c\u3073\u51fa\u3057\u304c\u671f\u5f85\u901a\u308a\u306b\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u540d\u524d\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002React\u304c\u512a\u308c\u3066\u3044\u308b\u306e\u306f\u3001\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u69cb\u7bc9\u3067\u3059\u3002\u3064\u307e\u308a\u3001ToDo\u9805\u76ee\u3054\u3068\u306b\u72ec\u81ea\u306e\u72b6\u614b\u3084\u95a2\u6570\u3092\u6301\u3064\u500b\u5225\u306e\u30af\u30e9\u30b9\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/ServingHTMLCSSAndJavaScriptUsingRust/","title":"5.2 - Rust\u3092\u4f7f\u3063\u305fHTML\u3001CSS\u3001JavaScript\u306e\u30b5\u30fc\u30d3\u30b9\u63d0\u4f9b","text":""},{"location":"5_DisplayingContentInTheBrowser/ServingHTMLCSSAndJavaScriptUsingRust/#rusthtmlcssjavascript","title":"Rust\u3092\u4f7f\u3063\u305fHTML\u3001CSS\u3001JavaScript\u306e\u30b5\u30fc\u30d3\u30b9\u63d0\u4f9b","text":"<p>\u524d\u7ae0\u3067\u306f\u3001\u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u3092JSON\u306e\u5f62\u3067\u8fd4\u3057\u307e\u3057\u305f\u3002\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u898b\u308b\u3053\u3068\u306e\u3067\u304d\u308bHTML\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u3053\u306eHTML\u30c7\u30fc\u30bf\u306b\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u524d\u7ae0\u3067\u5b9a\u7fa9\u3057\u305fAPI\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u5bfe\u8a71\u3057\u3001ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3001\u7de8\u96c6\u3001\u524a\u9664\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u30dc\u30bf\u30f3\u3068\u30d5\u30a9\u30fc\u30e0\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u69cb\u9020\u3092\u3068\u308b\u72ec\u81ea\u306e\u30a2\u30d7\u30ea\u30d3\u30e5\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u69cb\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>views\n\u251c\u2500\u2500 app\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 items.rs\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 mod.rs\n</code></pre>"},{"location":"5_DisplayingContentInTheBrowser/ServingHTMLCSSAndJavaScriptUsingRust/#html","title":"\u57fa\u672c\u7684\u306aHTML\u3092\u63d0\u4f9b\u3059\u308b","text":"<p>items.rs\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001ToDo\u9805\u76ee\u3092\u8868\u793a\u3059\u308b\u30e1\u30a4\u30f3\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u305d\u306e\u524d\u306b\u3001items.rs\u30d5\u30a1\u30a4\u30eb\u3067HTML\u3092\u8fd4\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u6700\u3082\u7c21\u5358\u306a\u65b9\u6cd5\u3092\u63a2\u3063\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use actix_web::HttpResponse;\npub async fn items() -&gt; HttpResponse {\nHttpResponse::Ok()\n.content_type(\"text/html; charset=utf-8\")\n.body(\"&lt;h1&gt;Items&lt;/h1&gt;\")\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001HTML\u30b3\u30f3\u30c6\u30f3\u30c4\u30bf\u30a4\u30d7\u3068Items\u306e\u30dc\u30c7\u30a3\u3092\u6301\u3064HttpResponse\u69cb\u9020\u4f53\u3092\u8fd4\u3059\u3060\u3051\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u30a2\u30d7\u30ea\u306bHttpResponse\u3092\u6e21\u3059\u306b\u306f\u3001app/views/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use actix_web::web;\nmod items;\npub fn app_views_factory(app: &amp;mut web::ServiceConfig) {\napp.route(\"/\", web::get().to(items::items));\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30b5\u30fc\u30d3\u30b9\u3092\u69cb\u7bc9\u3059\u308b\u4ee3\u308f\u308a\u306b\u3001\u5358\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30eb\u30fc\u30c8\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u3053\u3053\u304c\u30e9\u30f3\u30c7\u30a3\u30f3\u30b0\u30da\u30fc\u30b8\u3067\u3042\u308b\u305f\u3081\u3067\u3059\u3002\u3082\u3057\u3001\u30eb\u30fc\u30c8\u3067\u306f\u306a\u304f\u30b5\u30fc\u30d3\u30b9\u3092\u5b9a\u7fa9\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u304c\u306a\u3044\u3068\u30b5\u30fc\u30d3\u30b9\u306e\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002</p> <p>app_views_factory \u3092\u5b9a\u7fa9\u3057\u305f\u3089\u3001views/mod.rs \u30d5\u30a1\u30a4\u30eb\u3067\u3053\u308c\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u305d\u306e\u524d\u306b\u3001views/mod.rs \u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u3067 app \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>mod app;\n</code></pre> <p>\u30a2\u30d7\u30ea\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3057\u305f\u3089\u3001\u540c\u3058\u30d5\u30a1\u30a4\u30eb\u5185\u306eviews_factory\u95a2\u6570\u3067\u30a2\u30d7\u30ea\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>app::app_views_factory(app);\n</code></pre> <p>HTML\u30b5\u30fc\u30d3\u30f3\u30b0\u30d3\u30e5\u30fc\u304c\u30a2\u30d7\u30ea\u306e\u4e00\u90e8\u3068\u306a\u3063\u305f\u306e\u3067\u3001\u3053\u308c\u3092\u5b9f\u884c\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u3067\u30db\u30fc\u30e0URL\u3092\u547c\u3073\u51fa\u3059\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <p>\u56f35.1 - \u6700\u521d\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u305fHTML\u30d3\u30e5\u30fc</p> <p>HTML\u304c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\u56f35.1\u3067\u898b\u305f\u5185\u5bb9\u304b\u3089\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u30dc\u30c7\u30a3\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6587\u5b57\u5217\u3092\u8fd4\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3068\u63a8\u8ad6\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>HttpResponse::Ok()\n.content_type(\"text/html; charset=utf-8\")\n.body(\"&lt;h1&gt;Items&lt;/h1&gt;\")\n</code></pre> <p>\u3053\u308c\u306f\u3001\u6587\u5b57\u5217\u304cHTML\u5f62\u5f0f\u3067\u3042\u308c\u3070\u3001HTML\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\u3053\u306e\u5553\u793a\u304b\u3089\u3001Rust\u30b5\u30fc\u30d0\u30fc\u304c\u63d0\u4f9b\u3059\u308bHTML\u30d5\u30a1\u30a4\u30eb\u304b\u3089HTML\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u306b\u306f\u3069\u3046\u3057\u305f\u3089\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u304b\uff1f\u5148\u306b\u9032\u3080\u524d\u306b\u3001\u3053\u306e\u3053\u3068\u306b\u3064\u3044\u3066\u8003\u3048\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306f\u3001\u3042\u306a\u305f\u306e\u554f\u984c\u89e3\u6c7a\u80fd\u529b\u3092\u935b\u3048\u308b\u3053\u3068\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/ServingHTMLCSSAndJavaScriptUsingRust/#html_1","title":"\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u57fa\u672c\u7684\u306aHTML\u3092\u8aad\u307f\u53d6\u308b","text":"<p>HTML\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u3001\u305d\u306eHTML\u30d5\u30a1\u30a4\u30eb\u3092\u6587\u5b57\u5217\u306b\u6574\u3048\u3066\u3001HttpResponse\u306e\u30dc\u30c7\u30a3\u306b\u305d\u306e\u6587\u5b57\u5217\u3092\u633f\u5165\u3059\u308b\u3060\u3051\u3067\u3001\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u304d\u308b\u3002\u305d\u3046\u3001\u3068\u3066\u3082\u7c21\u5358\u306a\u3053\u3068\u306a\u306e\u3067\u3059\u3002\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u30ed\u30fc\u30c0\u30fc\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002</p> <p>\u57fa\u672c\u7684\u306a\u30b3\u30f3\u30c6\u30f3\u30c4\u30ed\u30fc\u30c0\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u306b\u306f\u3001\u307e\u305aviews/app/content_loader.rs\u30d5\u30a1\u30a4\u30eb\u306bHTML\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u6a5f\u80fd\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002</p> <pre><code>use std::fs;\npub fn read_file(file_path: &amp;str) -&gt; String {\nlet data: String = fs::read_to_string(file_path).expect(\"Unable to read file\");\nreturn data\n}\n</code></pre> <p>\u3053\u3053\u3067\u3084\u3089\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u306f\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30dc\u30c7\u30a3\u306b\u5fc5\u8981\u306a\u306e\u306f\u3053\u308c\u3060\u3051\u306a\u306e\u3067\u3001\u6587\u5b57\u5217\u3092\u8fd4\u3059\u3053\u3068\u3067\u3059\u3002\u6b21\u306b\u3001views/app/mod.rs\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u306bmod content_loader;\u3068\u3044\u3046\u884c\u3092\u8a2d\u3051\u3066\u3001\u30ed\u30fc\u30c0\u30fc\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <p>\u3055\u3066\u3001\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u6a5f\u80fd\u304c\u3067\u304d\u305f\u306e\u3067\u3001HTML\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u308c\u306f\u3001src\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u4e00\u7dd2\u306btemplates\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002templates\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u306b\u3001templates/main.html\u3068\u3044\u3046HTML\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3001\u6b21\u306e\u3088\u3046\u306a\u5185\u5bb9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta charSet=\"UTF-8\"/&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/&gt;\n&lt;meta httpEquiv=\"X-UA-Compatible\" content=\"ie=edge\"/&gt;\n&lt;meta name=\"description\" content=\"This is a simple to do app\"/&gt;\n&lt;title&gt;To Do App&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;To Do Items&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001body\u30bf\u30b0\u306b\u524d\u56de\u7d39\u4ecb\u3057\u305f\u5185\u5bb9\u3068\u540c\u3058\u5185\u5bb9\u3001\u3064\u307e\u308aTo Do Items\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306b\u3001meta\u30bf\u30b0\u306e\u7bc4\u56f2\u3092\u5b9a\u7fa9\u3059\u308bhead\u30bf\u30b0\u304c\u3042\u308a\u307e\u3059\u3002viewport\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30da\u30fc\u30b8\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u5bf8\u6cd5\u3068\u62e1\u5927\u7e2e\u5c0f\u3092\u3069\u306e\u3088\u3046\u306b\u6271\u3046\u304b\u3092\u30d6\u30e9\u30a6\u30b6\u306b\u6307\u793a\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u3055\u307e\u3056\u307e\u306a\u30c7\u30d0\u30a4\u30b9\u3084\u753b\u9762\u30b5\u30a4\u30ba\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u3001\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u306f\u91cd\u8981\u3067\u3059\u3002\u3053\u306e\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u3067\u3001\u30da\u30fc\u30b8\u306e\u5e45\u3092\u30c7\u30d0\u30a4\u30b9\u306e\u753b\u9762\u3068\u540c\u3058\u5e45\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30da\u30fc\u30b8\u306e\u521d\u671f\u30b9\u30b1\u30fc\u30eb\u30921.0\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002httpEquiv\u30bf\u30b0\u306b\u79fb\u308b\u3068\u3001X-UA-Compatible\u306b\u8a2d\u5b9a\u3057\u3001\u3053\u308c\u306f\u53e4\u3044\u30d6\u30e9\u30a6\u30b6\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\u6700\u5f8c\u306e\u30bf\u30b0\u306f\u3001\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u304c\u4f7f\u7528\u3067\u304d\u308b\u30da\u30fc\u30b8\u306e\u8aac\u660e\u6587\u3067\u3059\u3002title\u30bf\u30b0\u306f\u3001to do\u30a2\u30d7\u30ea\u304c\u30d6\u30e9\u30a6\u30b6\u306e\u30bf\u30b0\u306b\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u3053\u308c\u3067\u3001\u6a19\u6e96\u7684\u306a\u30d8\u30c3\u30c0\u30fc\u306e\u30bf\u30a4\u30c8\u30eb\u304c\u30dc\u30c7\u30a3\u306b\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/ServingHTMLCSSAndJavaScriptUsingRust/#html_2","title":"\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3060\u57fa\u672c\u7684\u306aHTML\u3092\u63d0\u4f9b\u3059\u308b","text":"<p>\u3055\u3066\u3001HTML\u30d5\u30a1\u30a4\u30eb\u3092\u5b9a\u7fa9\u3057\u305f\u306e\u3067\u3001\u305d\u308c\u3092\u30ed\u30fc\u30c9\u3057\u3066\u63d0\u4f9b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002src/views/app/items.rs\u30d5\u30a1\u30a4\u30eb\u306b\u623b\u308a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067HTML\u30d5\u30a1\u30a4\u30eb\u3092\u30ed\u30fc\u30c9\u3057\u3001\u305d\u308c\u3092\u63d0\u4f9b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use actix_web::HttpResponse;\nuse super::content_loader::read_file;\npub async fn items() -&gt; HttpResponse {\nlet html_data = read_file(\"./templates/main.html\");\nHttpResponse::Ok()\n.content_type(\"text/html; charset=utf-8\")\n.body(html_data)\n}\n</code></pre> <p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <p>\u56f35.2-HTML\u30da\u30fc\u30b8\u3092\u8aad\u307f\u8fbc\u3093\u3060\u3068\u304d\u306e\u69d8\u5b50</p> <p>\u56f35.2\u3067\u306f\u3001\u4ee5\u524d\u3068\u540c\u3058\u51fa\u529b\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u56f35.2\u306e\u30bf\u30d6\u306b\u300cTo Do App\u300d\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306e\u306f\u3001HTML\u30d5\u30a1\u30a4\u30eb\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u304c\u30d3\u30e5\u30fc\u306b\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002HTML\u30d5\u30a1\u30a4\u30eb\u3092\u5b8c\u5168\u306b\u5229\u7528\u3059\u308b\u3053\u3068\u3092\u59a8\u3052\u308b\u3082\u306e\u306f\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002HTML\u30d5\u30a1\u30a4\u30eb\u304c\u63d0\u4f9b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u91ce\u671b\u3067\u3042\u308b\u30da\u30fc\u30b8\u3078\u306e\u6a5f\u80fd\u8ffd\u52a0\u306b\u79fb\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/ServingHTMLCSSAndJavaScriptUsingRust/#htmljavascript","title":"HTML\u30d5\u30a1\u30a4\u30eb\u306bJavaScript\u3092\u8ffd\u52a0\u3059\u308b","text":"<p>\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u3068\u3063\u3066\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u72b6\u614b\u306b\u5bfe\u3057\u3066\u4f55\u3082\u3067\u304d\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u3001\u4fbf\u5229\u3068\u306f\u8a00\u3048\u307e\u305b\u3093\u3002\u3053\u308c\u3092\u4fee\u6b63\u3059\u308b\u524d\u306b\u3001\u6b21\u306e\u56f3\u3092\u898b\u3066\u3001HTML\u30d5\u30a1\u30a4\u30eb\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u7406\u89e3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u56f35.3\u300cHTML\u30d5\u30a1\u30a4\u30eb\u306e\u4e00\u822c\u7684\u306a\u30ec\u30a4\u30a2\u30a6\u30c8</p> <p>\u3053\u3053\u3067\u3001\u56f35.3\u3067\u306f\u3001\u30d8\u30c3\u30c0\u30fc\u306bmeta\u30bf\u30b0\u3092\u5b9a\u7fa9\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002\u3057\u304b\u3057\u3001\u30d8\u30c3\u30c0\u30fc\u306e\u4e2d\u306b\u30b9\u30bf\u30a4\u30eb\u30fb\u30bf\u30b0\u3092\u5b9a\u7fa9\u3067\u304d\u308b\u3053\u3068\u3082\u308f\u304b\u308a\u307e\u3059\u3002\u30d8\u30c3\u30c0\u30fc\u306e\u4e0b\u306e\u30b9\u30bf\u30a4\u30eb\u30bf\u30b0\u306e\u4e2d\u3067\u3001\u30b9\u30bf\u30a4\u30eb\u306bCSS\u3092\u633f\u5165\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30dc\u30c7\u30a3\u30fc\u306e\u4e0b\u306b\u306f\u30b9\u30af\u30ea\u30d7\u30c8\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u3042\u308a\u3001JavaScript\u3092\u633f\u5165\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306eJavaScript\u306f\u30d6\u30e9\u30a6\u30b6\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u3001\u30dc\u30c7\u30a3\u5185\u306e\u8981\u7d20\u3068\u76f8\u4e92\u4f5c\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001CSS\u3068JavaScript\u3092\u7d44\u307f\u8fbc\u3093\u3060HTML\u30d5\u30a1\u30a4\u30eb\u3092\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b7\u30f3\u30b0\u30eb\u30da\u30fc\u30b8\u30a2\u30d7\u30ea\u3068\u3057\u3066\u5341\u5206\u306b\u6a5f\u80fd\u3059\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u672c\u7ae0\u306e\u5c0e\u5165\u90e8\u5206\u3092\u632f\u308a\u8fd4\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u79c1\u306fRust\u304c\u5927\u597d\u304d\u3067\u3001\u3059\u3079\u3066\u3092Rust\u3067\u66f8\u3051\u3068\u8a00\u3044\u305f\u3044\u885d\u52d5\u306b\u99c6\u3089\u308c\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u5de5\u5b66\u306e\u3069\u306e\u8a00\u8a9e\u306b\u3068\u3063\u3066\u3082\u826f\u3044\u30a2\u30a4\u30c7\u30a2\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002JavaScript\u3067\u6a5f\u80fd\u7684\u306a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30d3\u30e5\u30fc\u3092\u7c21\u5358\u306b\u63d0\u4f9b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u4eca\u3001JavaScript\u306f\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30cb\u30fc\u30ba\u306b\u5fdc\u3048\u308b\u6700\u826f\u306e\u9078\u629e\u3068\u8a00\u3048\u308b\u3067\u3057\u3087\u3046\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/ServingHTMLCSSAndJavaScriptUsingRust/#javascript","title":"JavaScript\u3092\u4f7f\u3063\u305f\u5f53\u793e\u30b5\u30fc\u30d0\u30fc\u3068\u306e\u901a\u4fe1","text":"<p>\u3055\u3066\u3001HTML\u30d5\u30a1\u30a4\u30eb\u306e\u3069\u3053\u306bJavaScript\u3092\u633f\u5165\u3059\u308b\u304b\u304c\u308f\u304b\u3063\u305f\u306e\u3067\u3001\u6b21\u306f\u305d\u306e\u6a5f\u80fd\u3092\u30c6\u30b9\u30c8\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3067\u306f\u3001HTML\u30dc\u30c7\u30a3\u306b\u30dc\u30bf\u30f3\u3092\u4f5c\u6210\u3057\u3001\u305d\u308c\u3092JavaScript\u95a2\u6570\u306b\u878d\u5408\u3055\u305b\u3001\u305d\u306e\u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u30d6\u30e9\u30a6\u30b6\u304c\u5165\u529b\u3055\u308c\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30a2\u30e9\u30fc\u30c8\u3092\u51fa\u529b\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u306f\u4f55\u306e\u5f79\u306b\u3082\u7acb\u3061\u307e\u305b\u3093\u304c\u3001HTML\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3044\u3066\u306e\u7406\u89e3\u304c\u6b63\u3057\u3044\u3053\u3068\u3092\u8a3c\u660e\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u3092 templates/main.html \u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> <pre><code>&lt;body&gt;\n&lt;h1&gt;To Do Items&lt;/h1&gt;\n&lt;input type=\"text\" id=\"name\" placeholder=\"create to do item\"&gt;\n&lt;button id=\"create-button\" value=\"Send\"&gt;Create&lt;/button&gt;\n&lt;/body&gt;\n&lt;script&gt;\nlet createButton = document.getElementById(\"create-button\");\ncreateButton.addEventListener(\"click\", postAlert);\nfunction postAlert() {\nlet titleInput = document.getElementById(\"name\");\nalert(titleInput.value);\ntitleInput.value = null;\n}\n&lt;/script&gt;\n</code></pre> <p>body\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u3001input\u3068button\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002input\u3068button\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u306f\u3001\u305d\u308c\u305e\u308c\u56fa\u6709\u306eID\u540d\u3092\u4ed8\u3051\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001button\u306eID\u3092\u4f7f\u3063\u3066\u30a4\u30d9\u30f3\u30c8\u30fb\u30ea\u30b9\u30ca\u30fc\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30dc\u30bf\u30f3\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u305f\u3068\u304d\u306b\u5b9f\u884c\u3055\u308c\u308bpostAlert\u95a2\u6570\u3092\u305d\u306e\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u306b\u30d0\u30a4\u30f3\u30c9\u3057\u307e\u3059\u3002postAlert\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001ID\u3092\u4f7f\u3063\u3066\u5165\u529b\u3092\u53d6\u5f97\u3057\u3001\u5165\u529b\u306e\u5024\u3092\u30a2\u30e9\u30fc\u30c8\u3067\u51fa\u529b\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001input\u306e\u5024\u3092null\u306b\u8a2d\u5b9a\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u5225\u306e\u5024\u3092\u5165\u529b\u3057\u3066\u51e6\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u65b0\u3057\u3044main.html\u30d5\u30a1\u30a4\u30eb\u306b\u3001input\u306btesting\u3092\u5165\u308c\u3066\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u56f35.4 \u300cJavaScript\u3067\u30a2\u30e9\u30fc\u30c8\u306b\u63a5\u7d9a\u3057\u305f\u5834\u5408\u306e\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u306e\u52b9\u679c</p> <p>JavaScript\u306f\u3001body\u306e\u4e2d\u3067\u8981\u7d20\u304c\u76f8\u4e92\u4f5c\u7528\u3059\u308b\u3053\u3068\u306b\u3068\u3069\u307e\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002JavaScript\u3092\u4f7f\u3063\u3066\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306eRust\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306bAPI\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u6025\u3044\u3067main.html\u30d5\u30a1\u30a4\u30eb\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5168\u4f53\u3092\u66f8\u304d\u8fbc\u3080\u524d\u306b\u3001\u7acb\u3061\u6b62\u307e\u3063\u3066\u8003\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3093\u306a\u3053\u3068\u3092\u3057\u305f\u3089\u3001main.html\u30d5\u30a1\u30a4\u30eb\u306f\u5de8\u5927\u306a\u30d5\u30a1\u30a4\u30eb\u306b\u81a8\u308c\u4e0a\u304c\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u30c7\u30d0\u30c3\u30b0\u304c\u5927\u5909\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30b3\u30fc\u30c9\u304c\u91cd\u8907\u3057\u3066\u3057\u307e\u3046\u53ef\u80fd\u6027\u3082\u3042\u308a\u307e\u3059\u3002\u540c\u3058JavaScript\u3092\u4ed6\u306e\u30d3\u30e5\u30fc\u3067\u3082\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u306e\u3067\u3057\u3087\u3046\u304b\u3002\u5225\u306eHTML\u30d5\u30a1\u30a4\u30eb\u306b\u30b3\u30d4\u30fc\uff06\u30da\u30fc\u30b9\u30c8\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u3067\u306f\u62e1\u5f35\u6027\u304c\u4f4e\u304f\u3001\u95a2\u6570\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u3001\u91cd\u8907\u3057\u3066\u3044\u308b\u95a2\u6570\u306e\u66f4\u65b0\u3092\u5fd8\u308c\u3066\u3057\u307e\u3046\u5371\u967a\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001React\u306e\u3088\u3046\u306aJavaScript\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u304c\u4fbf\u5229\u3067\u3059\u3002React\u306b\u3064\u3044\u3066\u306f\u3053\u306e\u7ae0\u306e\u5f8c\u534a\u3067\u8aac\u660e\u3057\u307e\u3059\u304c\u3001\u4eca\u306f\u3001JavaScript\u3068HTML\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u96e2\u3059\u308b\u65b9\u6cd5\u3092\u8003\u3048\u308b\u3053\u3068\u3067\u3001\u4f4e\u4f9d\u5b58\u306a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3092\u5b8c\u6210\u3055\u305b\u307e\u3057\u3087\u3046\u3002</p> <p>\u3053\u306eJavaScript\u306f\u3001\u57fa\u672c\u7684\u306bHTML\u3092\u305d\u306e\u5834\u3067\u624b\u52d5\u3067\u66f8\u304d\u63db\u3048\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u300c\u3084\u3063\u3064\u3051\u4ed5\u4e8b\u300d\u3068\u8868\u73fe\u3059\u308b\u4eba\u3082\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u7570\u306a\u308b\u30a2\u30d7\u30ed\u30fc\u30c1\u306e\u5229\u70b9\u3092\u771f\u306b\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u306f\u3001React\u3092\u63a2\u6c42\u3059\u308b\u524d\u306b\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u91cd\u8981\u3067\u3059\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u9032\u3080\u524d\u306b\u3001src/views/to_do/create.rs\u30d5\u30a1\u30a4\u30eb\u306b\u3042\u308bcreate\u30d3\u30e5\u30fc\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u524d\u306e\u7ae0\u3067\u958b\u767a\u3057\u305f\u5185\u5bb9\u3092\u518d\u78ba\u8a8d\u3059\u308b\u826f\u3044\u6a5f\u4f1a\u3067\u3059\u3002\u6587\u5b57\u5217\u3067\u306f\u306a\u304f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u73fe\u5728\u306e\u72b6\u614b\u3092\u8fd4\u3059\u3088\u3046\u306b\u3001\u4f5c\u6210\u30d3\u30e5\u30fc\u3092\u57fa\u672c\u7684\u306b\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u8a66\u307f\u308b\u3068\u3001\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>use actix_web::HttpResponse;\nuse serde_json::Value;\nuse serde_json::Map;\nuse actix_web::HttpRequest;\nuse crate::to_do::{to_do_factory, enums::TaskStatus};\nuse crate::json_serialization::to_do_items::ToDoItems;\nuse crate::state::read_file;\nuse crate::processes::process_input;\npub async fn create(req: HttpRequest) -&gt; HttpResponse {\nlet state: Map&lt;String, Value&gt; = read_file(\"./state.json\");\nlet title: String = req.match_info().get(\"title\").unwrap().to_string();\nlet item = to_do_factory(&amp;title.as_str(), TaskStatus::PENDING);\nprocess_input(item, \"create\".to_string(), &amp;state);\nreturn HttpResponse::Ok().json(ToDoItems::get_state())\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001\u3059\u3079\u3066\u306eToDo\u9805\u76ee\u304c\u6700\u65b0\u306b\u306a\u308a\u3001\u6a5f\u80fd\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u9032\u307f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u304c\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u547c\u3073\u51fa\u3059\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/Summary/","title":"5.11 - \u307e\u3068\u3081","text":""},{"location":"5_DisplayingContentInTheBrowser/Summary/#_1","title":"\u307e\u3068\u3081","text":"<p>\u3053\u306e\u7ae0\u3067\u306f\u3001Postman\u306e\u3088\u3046\u306a\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u4f9d\u5b58\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u304c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u6700\u7d42\u7684\u306a\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3057\u305f\u3002\u79c1\u305f\u3061\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u3068\u633f\u5165\u306e\u6a5f\u80fd\u3092\u6301\u3064\u3001\u72ec\u81ea\u306e\u30a2\u30d7\u30ea\u30d3\u30e5\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001HTML\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u3001JavaScript\u3084CSS\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30fc\u30bf\u3092\u30d3\u30e5\u30fc\u30c7\u30fc\u30bf\u306b\u633f\u5165\u3057\u3001\u305d\u306e\u30c7\u30fc\u30bf\u3092\u63d0\u4f9b\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002</p> <p>\u3053\u308c\u306b\u3088\u308a\u3001ToDo\u9805\u76ee\u3092\u7de8\u96c6\u3001\u524a\u9664\u3001\u4f5c\u6210\u3057\u305f\u3068\u304d\u306b\u81ea\u52d5\u7684\u306b\u66f4\u65b0\u3055\u308c\u308b\u52d5\u7684\u306a\u30d3\u30e5\u30fc\u304c\u5b9f\u73fe\u3057\u307e\u3057\u305f\u3002\u307e\u305f\u3001CSS\u3068JavaScript\u306e\u57fa\u672c\u3092\u5b66\u3073\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u304b\u3089API\u30b3\u30fc\u30eb\u3092\u884c\u3044\u3001\u30d3\u30e5\u30fc\u306e\u7279\u5b9a\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306eHTML\u3092\u52d5\u7684\u306b\u7de8\u96c6\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u5927\u304d\u3055\u306b\u5fdc\u3058\u3066\u30d3\u30e5\u30fc\u5168\u4f53\u306e\u30b9\u30bf\u30a4\u30eb\u3082\u7ba1\u7406\u3057\u307e\u3057\u305f\u3002\u306a\u304a\u3001\u5916\u90e8\u306e\u30af\u30ec\u30fc\u30c8\u306b\u306f\u4f9d\u5b58\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001HTML\u30c7\u30fc\u30bf\u3092\u3069\u306e\u3088\u3046\u306b\u51e6\u7406\u3067\u304d\u308b\u304b\u3092\u7406\u89e3\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u304b\u3089\u3067\u3059\u3002</p> <p>\u305d\u306e\u5f8c\u3001React\u3067\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3092\u518d\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002\u6642\u9593\u304c\u304b\u304b\u308a\u3001\u52d5\u304f\u90e8\u5206\u3082\u5897\u3048\u307e\u3057\u305f\u304c\u3001HTML\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8a18\u8ff0\u3059\u308b\u305f\u3081\u306b\u6587\u5b57\u5217\u3092\u624b\u52d5\u3067\u64cd\u4f5c\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u305f\u3081\u3001\u3088\u308a\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u3067\u5b89\u5168\u306a\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u307e\u305f\u3001React\u306fElectron\u3068\u76f8\u6027\u304c\u3088\u304f\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3059\u308b\u305f\u3081\u306e\u5225\u306e\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001React\u306b\u50be\u5012\u3057\u305f\u7406\u7531\u304c\u3088\u304f\u308f\u304b\u308a\u307e\u3059\u3002</p> <p>\u73fe\u5728\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u306f\u984d\u9762\u901a\u308a\u306b\u52d5\u4f5c\u3057\u307e\u3059\u304c\u3001\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u3068\u3044\u3046\u70b9\u3067\u306f\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u79c1\u305f\u3061\u306f\u30c7\u30fc\u30bf\u306e\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u51e6\u7406\u3092\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u4fdd\u5b58\u3059\u308b\u30c7\u30fc\u30bf\u306b\u5bfe\u3059\u308b\u30c1\u30a7\u30c3\u30af\u3082\u3042\u308a\u307e\u305b\u3093\u3057\u3001\u8907\u6570\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u6301\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u3082\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u6b21\u7ae0\u3067\u306f\u3001Docker\u3067\u30ed\u30fc\u30ab\u30eb\u306b\u52d5\u4f5c\u3059\u308bPostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u5bfe\u8a71\u3059\u308b\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002</p>"},{"location":"5_DisplayingContentInTheBrowser/TechnicalRequirements/","title":"5.1 - \u6280\u8853\u8981\u4ef6","text":""},{"location":"5_DisplayingContentInTheBrowser/TechnicalRequirements/#_1","title":"\u6280\u8853\u8981\u4ef6","text":"<p>\u524d\u7ae0\u3067\u4f5c\u6210\u3057\u305f\u30b5\u30fc\u30d0\u30fc\u30b3\u30fc\u30c9\u3092\u30d9\u30fc\u30b9\u306b\u3001https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter04/extracting_data_from_views/web_app\u3002</p> <p>\u672c\u7ae0\u306e\u30b3\u30fc\u30c9\u306f\u3001https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter05 \u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u307e\u305f\u3001React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u3001Node.js\u3092\u4f7f\u7528\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002Node\u3068npm\u306f\u3001https://docs.npmjs.com/downloading-and-installing-node-js-and-npm \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u624b\u9806\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/","title":"6 - PostgreSQL\u306b\u3088\u308b\u30c7\u30fc\u30bf\u6c38\u7d9a\u5316","text":""},{"location":"6_DataPersistenceWithPostgreSQL/#postgresql","title":"PostgreSQL\u306b\u3088\u308b\u30c7\u30fc\u30bf\u6c38\u7d9a\u5316","text":"<p>\u3053\u306e\u672c\u306e\u3053\u306e\u6642\u70b9\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306f\u5b9a\u7fa9\u3055\u308c\u3066\u304a\u308a\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u306f\u984d\u9762\u901a\u308a\u306b\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u306fJSON\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u66f8\u304d\u3092\u884c\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u3063\u3066\u3044\u307e\u3059\u3002</p> <p>\u672c\u7ae0\u3067\u306f\u3001JSON\u30d5\u30a1\u30a4\u30eb\u3092\u5ec3\u6b62\u3057\u3001\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306ePostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u3001Docker\u3092\u4f7f\u3063\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u307e\u305f\u3001Docker\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u3092\u76e3\u8996\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3082\u8abf\u67fb\u3057\u307e\u3059\u3002\u6b21\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30b9\u30ad\u30fc\u30de\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u3084\u308a\u53d6\u308a\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092Rust\u3067\u69cb\u7bc9\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u4f5c\u6210\u3001\u7de8\u96c6\u3001\u524a\u9664\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304cJSON\u30d5\u30a1\u30a4\u30eb\u306e\u4ee3\u308f\u308a\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u3084\u308a\u53d6\u308a\u3059\u308b\u3088\u3046\u306b\u3001\u30a2\u30d7\u30ea\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u9805\u76ee\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p> <ul> <li>PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u69cb\u7bc9</li> <li>Diesel\u3067PostgreSQL\u306b\u63a5\u7d9a\u3059\u308b\u3002</li> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092PostgreSQL\u306b\u63a5\u7d9a\u3059\u308b</li> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u6210\u3059\u308b</li> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30eb\u306e\u7ba1\u7406</li> </ul> <p>\u3053\u306e\u7ae0\u306e\u7d42\u308f\u308a\u306b\u306f\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u66f8\u304d\u3084\u524a\u9664\u3092\u884c\u3046\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3001\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3067\u7ba1\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u306b\u5909\u66f4\u3092\u52a0\u3048\u305f\u5834\u5408\u306f\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u7ba1\u7406\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u304c\u3067\u304d\u308c\u3070\u3001\u30d7\u30fc\u30eb\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u6700\u9069\u5316\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u304c\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u30d3\u30e5\u30fc\u306b\u30d2\u30c3\u30c8\u3059\u308b\u524d\u306b\u30b5\u30fc\u30d0\u30fc\u304cHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u62d2\u5426\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/BuildingADatabaseConnectionPool/","title":"6.7 - \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30eb\u306e\u69cb\u7bc9","text":""},{"location":"6_DataPersistenceWithPostgreSQL/BuildingADatabaseConnectionPool/#_1","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30eb\u306e\u69cb\u7bc9","text":"<p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30eb\u306f\u3001\u9650\u3089\u308c\u305f\u6570\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3067\u3059\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u5fc5\u8981\u3068\u3059\u308b\u3068\u304d\u3001\u30d7\u30fc\u30eb\u304b\u3089\u63a5\u7d9a\u3092\u53d6\u308a\u51fa\u3057\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u63a5\u7d9a\u3092\u5fc5\u8981\u3068\u3057\u306a\u304f\u306a\u3063\u305f\u3089\u3001\u63a5\u7d9a\u3092\u30d7\u30fc\u30eb\u306b\u623b\u3057\u307e\u3059\u3002\u30d7\u30fc\u30eb\u306b\u63a5\u7d9a\u304c\u6b8b\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u6b21\u306e\u56f3\u306b\u898b\u3089\u308c\u308b\u3088\u3046\u306b\u3001\u5229\u7528\u53ef\u80fd\u306a\u63a5\u7d9a\u304c\u3042\u308b\u307e\u3067\u5f85\u3061\u307e\u3059\u3002</p> <p>\u56f36.7 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30eb\uff08\u63a5\u7d9a\u6570\u306f3\u3064\u307e\u3067</p> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u524d\u306b\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306b\u6b21\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>lazy_static = \"1.4.0\"\n</code></pre> <p>\u6b21\u306b\u3001src/database.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u3066\u3001import\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>use actix_web::dev::Payload;\nuse actix_web::error::ErrorServiceUnavailable;\nuse actix_web::{Error, FromRequest, HttpRequest};\nuse futures::future::{Ready, ok, err};\nuse lazy_static::lazy_static;\nuse diesel::{\nr2d2::{Pool, ConnectionManager, PooledConnection},\npg::PgConnection,\n};\nuse crate::config::Config;\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3057\u305f\u30a4\u30f3\u30dd\u30fc\u30c8\u304b\u3089\u3001\u65b0\u3057\u3044\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u66f8\u304d\u51fa\u3059\u3068\u3069\u3046\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u304b\uff1f\u3053\u306e\u6642\u70b9\u3067\u3001\u7acb\u3061\u6b62\u307e\u3063\u3066\u3001\u3053\u308c\u3089\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u4f55\u304c\u3067\u304d\u308b\u304b\u3092\u8003\u3048\u308b\u306e\u306f\u826f\u3044\u6a5f\u4f1a\u3067\u3059\u3002</p> <p>\u30a4\u30f3\u30dd\u30fc\u30c8\u306e\u6700\u521d\u306e\u30d6\u30ed\u30c3\u30af\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u30d3\u30e5\u30fc\u306b\u5230\u9054\u3059\u308b\u524d\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u78ba\u7acb\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002import\u306e2\u756a\u76ee\u306e\u30d6\u30ed\u30c3\u30af\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u6700\u5f8c\u306e Config \u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u63a5\u7d9a\u7528\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 URL \u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002\u30a4\u30f3\u30dd\u30fc\u30c8\u304c\u5b8c\u4e86\u3057\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u63a5\u7d9a\u30d7\u30fc\u30eb\u69cb\u9020\u4f53\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>type PgPool = Pool&lt;ConnectionManager&lt;PgConnection&gt;&gt;;\npub struct DbConnection {\npub db_connection: PgPool,\n}\n</code></pre> <p>\u524d\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001PgPool\u69cb\u9020\u4f53\u304c\u30d7\u30fc\u30eb\u5185\u306e\u63a5\u7d9a\u3092\u7ba1\u7406\u3059\u308b\u63a5\u7d9a\u30de\u30cd\u30fc\u30b8\u30e3\u3067\u3042\u308b\u3053\u3068\u3092\u8ff0\u3079\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u9759\u7684\u53c2\u7167\u3067\u3042\u308b\u63a5\u7d9a\u3092\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>lazy_static! {\npub static ref DBCONNECTION: DbConnection = {\nlet connection_string = Config::new().map.get(\"DB_URL\").unwrap().as_str().unwrap().to_string();\nDbConnection {\ndb_connection: PgPool::builder()\n.max_size(8)\n.build(ConnectionManager::new(connection_string))\n.expect(\"failed to create db connection_pool\")\n}\n};\n}\n</code></pre> <p>\u524d\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089 URL \u3092\u53d6\u5f97\u3057\u3001\u63a5\u7d9a\u30d7\u30fc\u30eb\u3092\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u9759\u7684\u53c2\u7167\u3067\u3042\u308b\u305f\u3081\u3001DBCONNECTION\u5909\u6570\u306e\u5bff\u547d\u306f\u30b5\u30fc\u30d0\u30fc\u306e\u5bff\u547d\u3068\u4e00\u81f4\u3057\u307e\u3059\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u3001establish_connection\u95a2\u6570\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30eb\u304b\u3089\u63a5\u7d9a\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub fn establish_connection() -&gt; PooledConnection&lt;ConnectionManager&lt;PgConnection&gt;&gt; {\nreturn DBCONNECTION.db_connection.get().unwrap()\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001PooledConnection\u69cb\u9020\u4f53\u3092\u8fd4\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001establish_connection\u95a2\u6570\u3092\u5fc5\u8981\u306a\u3068\u304d\u306b\u6bce\u56de\u547c\u3073\u51fa\u3059\u3053\u3068\u306f\u3057\u305f\u304f\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305f\u3001\u4f55\u3089\u304b\u306e\u7406\u7531\u3067\u63a5\u7d9a\u3092\u78ba\u7acb\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u3001\u30d3\u30e5\u30fc\u306b\u5230\u9054\u3059\u308b\u524d\u306bHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u62d2\u5426\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u3067\u3059\u3002JWToken\u69cb\u9020\u4f53\u3068\u540c\u69d8\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u30d3\u30e5\u30fc\u306b\u6e21\u3059\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u69cb\u9020\u4f53\u306b\u306f1\u3064\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u308a\u3001\u6b21\u306e\u3088\u3046\u306b\u30d7\u30fc\u30eb\u3055\u308c\u305f\u63a5\u7d9a\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code>pub struct DB {\npub connection: PooledConnection&lt;ConnectionManager&lt;PgConnection&gt;&gt;\n}\n</code></pre> <p>\u3053\u306eDB\u69cb\u9020\u4f53\u3092\u4f7f\u3048\u3070\u3001JWToken\u69cb\u9020\u4f53\u3068\u540c\u69d8\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067FromRequest trait\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>impl FromRequest for DB {\ntype Error = Error;\ntype Future = Ready&lt;Result&lt;DB, Error&gt;&gt;;\nfn from_request(_: &amp;HttpRequest, _: &amp;mut Payload) -&gt; Self::Future {\nmatch DBCONNECTION.db_connection.get() {\nOk(connection) =&gt; {\nreturn ok(DB{connection})\n},\nErr(_) =&gt; {\nreturn err(ErrorServiceUnavailable(\n\"could not make connection to database\"))\n}\n}\n}\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u306e\u53d6\u5f97\u3092\u76f4\u63a5\u30a2\u30f3\u30e9\u30c3\u30d7\u3059\u308b\u3053\u3068\u306f\u3057\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u3001\u63a5\u7d9a\u6642\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u3001\u5f79\u7acb\u3064\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u3068\u3082\u306b\u30a8\u30e9\u30fc\u3092\u8fd4\u3057\u307e\u3059\u3002\u63a5\u7d9a\u304c\u6210\u529f\u3057\u305f\u5834\u5408\u306f\u3001\u305d\u306e\u65e8\u3092\u8fd4\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u30d3\u30e5\u30fc\u3067\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b3\u30fc\u30c9\u306e\u7e70\u308a\u8fd4\u3057\u3092\u907f\u3051\u308b\u305f\u3081\u3001\u3053\u3053\u3067\u306f\u7de8\u96c6\u30d3\u30e5\u30fc\u3060\u3051\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u304c\u3001\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306f\u3059\u3079\u3066\u306e\u30d3\u30e5\u30fc\u306b\u9069\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>use crate::diesel;\nuse diesel::prelude::*;\nuse actix_web::{web, HttpResponse};\nuse crate::json_serialization::{to_do_item::ToDoItem, to_do_items::ToDoItems};\nuse crate::jwt::JwToken;\nuse crate::schema::to_do;\nuse crate::database::DB;\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001DB\u69cb\u9020\u4f53\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u7de8\u96c6\u30d3\u30e5\u30fc\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>pub async fn edit(to_do_item: web::Json&lt;ToDoItem&gt;, token: JwToken, db: DB) -&gt; HttpResponse {\nlet results = to_do::table.filter(to_do::columns::title\n.eq(&amp;to_do_item.title));\nlet _ = diesel::update(results)\n.set(to_do::columns::status.eq(\"DONE\"))\n.execute(&amp;db.connection);\nreturn HttpResponse::Ok().json(ToDoItems::get_state())\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001DB\u69cb\u9020\u4f53\u306econnection\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u76f4\u63a5\u53c2\u7167\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u5b9f\u306f\u3001DB\u69cb\u9020\u4f53\u3092\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u306e\u3088\u3046\u306b\u30d3\u30e5\u30fc\u306b\u6e21\u305b\u3070\u3001\u30d7\u30fc\u30eb\u3055\u308c\u305f\u63a5\u7d9a\u3092\u30d3\u30e5\u30fc\u306b\u53d6\u308a\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002  </p>"},{"location":"6_DataPersistenceWithPostgreSQL/BuildingOurPostgreSQLDatabase/","title":"6.2 - PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u69cb\u7bc9","text":""},{"location":"6_DataPersistenceWithPostgreSQL/BuildingOurPostgreSQLDatabase/#postgresql","title":"PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u69cb\u7bc9","text":"<p>\u672c\u66f8\u306e\u3053\u306e\u6642\u70b9\u307e\u3067\u3001\u79c1\u305f\u3061\u306fJSON\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066ToDo\u9805\u76ee\u3092\u4fdd\u5b58\u3057\u3066\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001\u4eca\u306e\u3068\u3053\u308d\u3046\u307e\u304f\u6a5f\u80fd\u3057\u3066\u3044\u307e\u3059\u3002\u5b9f\u969b\u3001\u672c\u66f8\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3067\u3082\u3001JSON\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066\u30bf\u30b9\u30af\u3092\u5b8c\u4e86\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u7406\u7531\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u672c\u756a\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067JSON\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u3044\u304f\u3064\u304b\u306e\u6b20\u70b9\u306b\u51fa\u304f\u308f\u3059\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/BuildingOurPostgreSQLDatabase/#_1","title":"\u304d\u3061\u3093\u3068\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f7f\u3046\u3079\u304d\u7406\u7531","text":"<p>JSON\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u8aad\u307f\u66f8\u304d\u304c\u5897\u3048\u308b\u3068\u3001\u540c\u6642\u4e26\u884c\u6027\u306e\u554f\u984c\u3084\u30c7\u30fc\u30bf\u306e\u7834\u640d\u306b\u76f4\u9762\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30c7\u30fc\u30bf\u306e\u7a2e\u985e\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u305b\u3093\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u5225\u306e\u958b\u767a\u8005\u304cJSON\u30d5\u30a1\u30a4\u30eb\u306b\u7570\u306a\u308b\u30c7\u30fc\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u95a2\u6570\u3092\u66f8\u3044\u3066\u3082\u3001\u4f55\u3082\u652f\u969c\u306f\u306a\u3044\u3002</p> <p>\u307e\u305f\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u3082\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002ToDo\u30a2\u30a4\u30c6\u30e0\u306b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408\u3001\u3053\u308c\u306fJSON\u30d5\u30a1\u30a4\u30eb\u306b\u633f\u5165\u3059\u308b\u65b0\u3057\u3044ToDo\u30a2\u30a4\u30c6\u30e0\u306b\u306e\u307f\u5f71\u97ff\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001ToDo\u9805\u76ee\u306e\u4e2d\u306b\u306f\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u304c\u3042\u308b\u3082\u306e\u3068\u306a\u3044\u3082\u306e\u304c\u3042\u308a\u3001\u30a2\u30d7\u30ea\u306b\u30d0\u30b0\u3092\u3082\u305f\u3089\u3059\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001JSON\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306e\u9762\u3067\u3082\u9650\u754c\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u73fe\u5728\u306f\u3001\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u5168\u4f53\u3092\u8aad\u307f\u8fbc\u307f\u3001\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u5168\u4f53\u306e\u9805\u76ee\u3092\u5909\u66f4\u3057\u3001\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u5168\u4f53\u3092JSON\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\u3060\u3051\u3067\u3059\u3002\u3053\u308c\u3067\u306f\u52b9\u7387\u7684\u3068\u306f\u8a00\u3048\u305a\u3001\u62e1\u5f35\u6027\u3082\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305f\u3001\u3053\u308c\u3089\u306eToDo\u9805\u76ee\u3092\u5225\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u306e\u3088\u3046\u306a\u30e6\u30fc\u30b6\u30fc\u306b\u30ea\u30f3\u30af\u3055\u305b\u308b\u3053\u3068\u3082\u963b\u5bb3\u3055\u308c\u308b\u3002\u3055\u3089\u306b\u3001\u4eca\u306f\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u4f7f\u3063\u305f\u691c\u7d22\u3057\u304b\u3067\u304d\u306a\u3044\u3002\u3082\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u30c6\u30fc\u30d6\u30eb\u3068ToDo\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30ea\u30f3\u30af\u3057\u305fSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f7f\u3048\u3070\u3001\u30e6\u30fc\u30b6\u30fc\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u3001\u30bf\u30a4\u30c8\u30eb\u306b\u57fa\u3065\u3044\u3066ToDo\u30a2\u30a4\u30c6\u30e0\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u3053\u308c\u3089\u306e\u7d44\u307f\u5408\u308f\u305b\u3082\u53ef\u80fd\u3067\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u306f\u3001Docker\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3067\u306f\u3001\u306a\u305cDocker\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f</p>"},{"location":"6_DataPersistenceWithPostgreSQL/BuildingOurPostgreSQLDatabase/#docker","title":"\u306a\u305cDocker\u3092\u4f7f\u3046\u306e\u304b\uff1f","text":"<p>\u306a\u305cDocker\u3092\u4f7f\u3046\u306e\u304b\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3001\u307e\u305aDocker\u304c\u4f55\u306a\u306e\u304b\u3092\u7406\u89e3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002Docker\u306f\u57fa\u672c\u7684\u306b\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3088\u308a\u5177\u4f53\u7684\u3067\u7c92\u5ea6\u306e\u9ad8\u3044\u65b9\u6cd5\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002Docker\u30b3\u30f3\u30c6\u30ca\u306f\u3001\u5358\u4e00\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3001\u305d\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u3059\u3079\u3066\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u5206\u96e2\u3057\u307e\u3059\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306fDocker\u30b3\u30f3\u30c6\u30ca\u306e\u5185\u90e8\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002Docker\u30b3\u30f3\u30c6\u30ca\u306f\u3001\u4e92\u3044\u306b\u901a\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Docker\u30b3\u30f3\u30c6\u30ca\u306f\u5358\u4e00\u306e\u5171\u901a\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\uff08OS\uff09\u3092\u5171\u6709\u3059\u308b\u305f\u3081\u3001\u4e92\u3044\u306b\u3001\u307e\u305fOS\u5168\u4f53\u304b\u3089\u533a\u5206\u3051\u3055\u308c\u3066\u304a\u308a\u3001Docker\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u4eee\u60f3\u30de\u30b7\u30f3\u3068\u6bd4\u8f03\u3057\u3066\u3088\u308a\u5c11\u306a\u3044\u30e1\u30e2\u30ea\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002Docker\u30b3\u30f3\u30c6\u30ca\u306e\u304a\u304b\u3052\u3067\u3001\u79c1\u305f\u3061\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u79fb\u690d\u6027\u3092\u9ad8\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Docker\u30b3\u30f3\u30c6\u30ca\u304c\u81ea\u5206\u306e\u30de\u30b7\u30f3\u3067\u52d5\u4f5c\u3057\u3066\u3044\u308c\u3070\u3001Docker\u3092\u642d\u8f09\u3057\u305f\u5225\u306e\u30de\u30b7\u30f3\u3067\u3082\u52d5\u4f5c\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u7279\u5225\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3001OS\u30ec\u30d9\u30eb\u306e\u4f9d\u5b58\u95a2\u4fc2\u3082\u542b\u3081\u3066\u3001\u5225\u9014\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u7d50\u679c\u3001Docker\u3092\u4f7f\u3048\u3070\u3001\u30b5\u30fc\u30d0\u30fc\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u3067\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3067\u304d\u308b\u305f\u3081\u3001Web\u958b\u767a\u306b\u304a\u3044\u3066\u5927\u304d\u306a\u67d4\u8edf\u6027\u3092\u767a\u63ee\u3057\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/BuildingOurPostgreSQLDatabase/#docker_1","title":"Docker\u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u52d5\u304b\u3059\u65b9\u6cd5","text":"<p>\u3053\u306e\u3088\u3046\u306a\u3053\u3068\u3092\u8003\u3048\u308b\u3068\u3001SQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u4f59\u5206\u306a\u30b9\u30c6\u30c3\u30d7\u3092\u8e0f\u3080\u3053\u3068\u306f\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u308b\u3068\u8a00\u3048\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u3001\u30b3\u30f3\u30c6\u30ca\u306e\u4f5c\u6210\u3068\u5229\u7528\u3092\u652f\u63f4\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3042\u308bDocker\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u30b3\u30f3\u30c6\u30ca\u81ea\u4f53\u306fLinux\u306e\u6280\u8853\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u305d\u306e\u5b9f\u884c\u74b0\u5883\u5168\u4f53\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3057\u3066\u5206\u96e2\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u30b3\u30f3\u30c6\u30ca\u306f\u6280\u8853\u7684\u306b\u306f\u5206\u96e2\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u304c\u3001\u672c\u7ae0\u3067\u884c\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u8996\u899a\u5316\u3059\u308b\u305f\u3081\u306b\u3001\u30df\u30cb\u8efd\u91cf\u4eee\u60f3\u30de\u30b7\u30f3\u3068\u8003\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30b3\u30f3\u30c6\u30ca\u306f\u3001Docker Hub\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u4f5c\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u6b21\u306e\u56f3\u306b\u898b\u3089\u308c\u308b\u3088\u3046\u306b\u3001\u30b3\u30f3\u30c6\u30ca\u3092\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u524d\u306b\u3001\u3053\u308c\u3089\u306e\u30a4\u30e1\u30fc\u30b8\u306b\u72ec\u81ea\u306e\u30b3\u30fc\u30c9\u3092\u633f\u5165\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f36.1 \u300cDocker\u30a4\u30e1\u30fc\u30b8\u3068\u30b3\u30f3\u30c6\u30ca\u306e\u95a2\u4fc2</p> <p>Docker\u3092\u4f7f\u3048\u3070\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306a\u3069\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u958b\u767a\u74b0\u5883\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Docker\u3092\u4f7f\u3048\u3070\u3001\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3084\u30a2\u30d7\u30ea\u3092\u7acb\u3061\u4e0a\u3052\u3066\u3001\u5fc5\u8981\u306a\u6642\u306b\u5fc5\u8981\u306a\u3060\u3051\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u307e\u305a\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u30b3\u30f3\u30c6\u30ca\u306e\u5728\u5eab\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>$ docker container ls -a\n</code></pre> <p>Docker\u304c\u30d5\u30ec\u30c3\u30b7\u30e5\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3042\u308c\u3070\u3001\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>CONTAINER ID\u00a0\u00a0IMAGE\u00a0\u00a0COMMAND\u00a0\u00a0CREATED\u00a0\u00a0STATUS\u00a0\u00a0PORTS\u00a0\u00a0NAMES\n</code></pre> <p>\u898b\u3066\u306e\u901a\u308a\u3001\u5bb9\u5668\u304c\u306a\u3044\u3002\u307e\u305f\u3001\u30a4\u30e1\u30fc\u30b8\u306e\u5728\u5eab\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u4ee5\u4e0b\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>$ docker image ls\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>REPOSITORY\u00a0\u00a0TAG\u00a0\u00a0IMAGE ID\u00a0\u00a0CREATED\u00a0\u00a0SIZE\n</code></pre> <p>\u7e70\u308a\u8fd4\u3057\u306b\u306a\u308a\u307e\u3059\u304c\u3001Docker\u304c\u65b0\u898f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3042\u308c\u3070\u3001\u30b3\u30f3\u30c6\u30ca\u306f\u5b58\u5728\u3057\u307e\u305b\u3093\u3002</p> <p>Docker\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u306f\u3001\u4ed6\u306b\u3082\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001OS\u3084\u69cb\u6210\u3092\u5b9a\u7fa9\u3057\u305f\u72ec\u81ea\u306eDockerfile\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u3053\u3067\u306fdocker-compose\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059\u3002docker-compose\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u5b9a\u7fa9\u304c\u7c21\u5358\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30b3\u30f3\u30c6\u30ca\u3084\u30b5\u30fc\u30d3\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306b\u3001\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308bdocker-compose.yml\u30d5\u30a1\u30a4\u30eb\u306b\u3001\u4ee5\u4e0b\u306eYAML\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002</p> <pre><code>version: \"3.7\"\nservices:\npostgres:\ncontainer_name: 'to-do-postgres'\nimage: 'postgres:11.2'\nrestart: always\nports:\n- '5432:5432'\nenvironment:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0'POSTGRES_USER=username'\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0'POSTGRES_DB=to_do'\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0'POSTGRES_PASSWORD=password'\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u3067\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u30022\u30841\u306a\u3069\u306e\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u304c\u7570\u306a\u308b\u30b9\u30bf\u30a4\u30eb\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u3063\u3066\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u5f15\u6570\u3082\u7570\u306a\u308a\u307e\u3059\u3002\u672c\u66f8\u3092\u57f7\u7b46\u3057\u3066\u3044\u308b\u6642\u70b9\u3067\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f33\u304c\u6700\u65b0\u7248\u3068\u306a\u308a\u307e\u3059\u3002\u5404docker-compose\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u9593\u306e\u5909\u66f4\u70b9\u306f\u3001\u4ee5\u4e0b\u306eURL\u3067\u7db2\u7f85\u3055\u308c\u3066\u3044\u307e\u3059: https://docs.docker.com/compose/compose-file/compose-versioning/.</p> <p>\u6b21\u306b\u3001postgres\u30bf\u30b0\u306e\u4e0b\u306b\u30cd\u30b9\u30c8\u3055\u308c\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002postgres\u3084services\u306a\u3069\u306e\u30bf\u30b0\u306f\u8f9e\u66f8\u3092\u8868\u3057\u3001\u30ea\u30b9\u30c8\u306f\u5404\u8981\u7d20\u306b-\u3092\u4ed8\u3051\u3066\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u3053\u306edocker-compose\u30d5\u30a1\u30a4\u30eb\u3092JSON\u306b\u5909\u63db\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u69cb\u9020\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>{\n\"version\": \"3.7\",\n\"services\": {\n\"postgres\": {\n\"container_name\": \"to-do-postgres\",\n\"image\": \"postgres:11.2\",\n\"restart\": \"always\",\n\"ports\": [\n\"5432:5432\"\n],\n\"environment\": [\n\"POSTGRES_USER=username\",\n\"POSTGRES_DB=to_do\",\n\"POSTGRES_PASSWORD=password\"\n]\n}\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30b5\u30fc\u30d3\u30b9\u304c\u5404\u30b5\u30fc\u30d3\u30b9\u3092\u8868\u3059\u8f9e\u66f8\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u540c\u3058\u8f9e\u66f8\u306e\u30ad\u30fc\u30922\u3064\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3088\u3046\u306b\u3001\u540c\u3058\u540d\u524d\u306e\u30bf\u30b0\u30922\u3064\u6301\u3064\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3068\u63a8\u8ad6\u3067\u304d\u308b\u3002\u307e\u305f\u3001\u5148\u306e\u30b3\u30fc\u30c9\u306f\u3001\u72ec\u81ea\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6301\u3064\u30b5\u30fc\u30d3\u30b9\u30bf\u30b0\u3092\u7a4d\u307f\u91cd\u306d\u7d9a\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u3082\u6559\u3048\u3066\u304f\u308c\u308b\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/BuildingOurPostgreSQLDatabase/#docker_2","title":"Docker\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5b9f\u884c\u3059\u308b","text":"<p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001\u540d\u524d\u304c\u3042\u308b\u306e\u3067\u3001\u30b3\u30f3\u30c6\u30ca\u3092\u898b\u305f\u3068\u304d\u306b\u3001\u30b5\u30fc\u30d0\u30fc\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u3044\u3063\u305f\u30b5\u30fc\u30d3\u30b9\u306b\u95a2\u9023\u3057\u3066\u3001\u5404\u30b3\u30f3\u30c6\u30ca\u304c\u4f55\u3092\u3057\u3066\u3044\u308b\u306e\u304b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a2d\u5b9a\u3068\u69cb\u7bc9\u306b\u95a2\u3057\u3066\u306f\u3001\u5e78\u904b\u306b\u3082\u516c\u5f0f\u306epostgres\u30a4\u30e1\u30fc\u30b8\u3092\u5f15\u3063\u5f35\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u306e\u30a4\u30e1\u30fc\u30b8\u306b\u306f\u3059\u3079\u3066\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001Docker\u306f\u305d\u308c\u3092\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u5f15\u3063\u5f35\u3063\u3066\u304d\u307e\u3059\u3002\u30a4\u30e1\u30fc\u30b8\u306f\u9752\u5199\u771f\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3059\u3002\u3053\u306e\u30a4\u30e1\u30fc\u30b8\u306f\u8a2d\u8a08\u56f3\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3001Docker\u306f\u3053\u306e\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u72ec\u81ea\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6301\u3064\u8907\u6570\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3044\u3064\u3082\u901a\u308a\u518d\u8d77\u52d5\u30dd\u30ea\u30b7\u30fc\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30b3\u30f3\u30c6\u30ca\u306e\u518d\u8d77\u52d5\u30dd\u30ea\u30b7\u30fc\u306f\u3001\u30b3\u30f3\u30c6\u30ca\u304c\u7d42\u4e86\u3057\u305f\u3068\u304d\u306b\u767a\u52d5\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u969c\u5bb3\u3084\u505c\u6b62\u306b\u57fa\u3065\u304f\u518d\u8d77\u52d5\u306e\u307f\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002</p> <p>Docker\u30b3\u30f3\u30c6\u30ca\u306b\u306f\u3001\u30de\u30b7\u30f3\u306b\u5bfe\u3057\u3066\u958b\u653e\u3055\u308c\u3066\u3044\u306a\u3044\u72ec\u81ea\u306e\u30dd\u30fc\u30c8\u304c\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30b3\u30f3\u30c6\u30ca\u30dd\u30fc\u30c8\u3092\u516c\u958b\u3057\u3001\u516c\u958b\u3055\u308c\u305f\u30dd\u30fc\u30c8\u3092Docker\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u5185\u90e8\u30dd\u30fc\u30c8\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u6a5f\u80fd\u3092\u8003\u616e\u3057\u3001\u30dd\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u3057\u304b\u3057\u3001\u3053\u306e\u4f8b\u3067\u306f\u3001\u5b9a\u7fa9\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u3057\u307e\u3059\u3002\u30dd\u30fc\u30c85432\u306eDocker\u30b3\u30f3\u30c6\u30ca\u3078\u306e\u7740\u4fe1\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u53d7\u3051\u5165\u308c\u3001\u5185\u90e8\u30dd\u30fc\u30c85432\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3059\u308b\u3053\u3068\u3092\u660e\u8a18\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u6b21\u306b\u3001\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\u3001\u304a\u3088\u3073\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u672c\u66f8\u3067\u306f\u3001\u4e00\u822c\u7684\u3067\u899a\u3048\u3084\u3059\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u30e6\u30fc\u30b6\u540d\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u672c\u756a\u74b0\u5883\u306b\u79fb\u884c\u3059\u308b\u5834\u5408\u306f\u3001\u3088\u308a\u5b89\u5168\u306a\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u30e6\u30fc\u30b6\u540d\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002docker-compose \u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>$ docker-compose up\n</code></pre> <p>\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089postgres\u30a4\u30e1\u30fc\u30b8\u3092\u53d6\u308a\u8fbc\u307f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u69cb\u7bc9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u6b21\u3005\u3068\u8868\u793a\u3055\u308c\u305f\u5f8c\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u306f\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>LOG:\u00a0\u00a0listening on IPv4 address \"0.0.0.0\", port 5432\nLOG:\u00a0\u00a0listening on IPv6 address \"::\", port 5432\nLOG:\u00a0\u00a0listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\"\nLOG:\u00a0\u00a0database system was shut down at 2022-04-23 17:36:45 UTC\nLOG:\u00a0\u00a0database system is ready to accept connections\n</code></pre> <p>\u3054\u89a7\u306e\u3088\u3046\u306b\u3001\u65e5\u4ed8\u3068\u6642\u9593\u306f\u7570\u306a\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u3053\u3067\u8a00\u308f\u308c\u3066\u3044\u308b\u306e\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u63a5\u7d9a\u3092\u53d7\u3051\u5165\u308c\u308b\u6e96\u5099\u304c\u3067\u304d\u305f\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u305d\u3046\u3001\u672c\u5f53\u306b\u7c21\u5358\u306a\u3053\u3068\u306a\u306e\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001Docker\u306e\u63a1\u7528\u306f\u6b62\u3081\u3089\u308c\u306a\u3044\u306e\u3067\u3059\u3002Ctrl + C\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001docker-compose\u304c\u505c\u6b62\u3057\u3001postgres\u30b3\u30f3\u30c6\u30ca\u304c\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3055\u308c\u307e\u3059\u3002</p> <p>\u3053\u3053\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3079\u3066\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u307f\u307e\u3059\u3002</p> <pre><code>$ docker container ls -a\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>CONTAINER ID\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0IMAGE\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0COMMAND\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0c99f3528690f\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0postgres:11.2\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \"docker-entrypoint.s\u2026\"\nCREATED\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0STATUS\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0PORTS\n4 hours ago\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Exited (0) About a minute ago\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0NAMES\nto-do-postgres\n</code></pre> <p>\u5148\u306e\u51fa\u529b\u3067\u306f\u3001\u3059\u3079\u3066\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\u3057\u305f\u305f\u3081\u3001\u30dd\u30fc\u30c8\u304c\u7a7a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/BuildingOurPostgreSQLDatabase/#docker_3","title":"Docker\u3067\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3068\u30dd\u30fc\u30c8\u3092\u63a2\u7d22\u3059\u308b","text":"<p>\u3082\u3057\u79c1\u305f\u3061\u304c\u518d\u3073\u30b5\u30fc\u30d3\u30b9\u3092\u958b\u59cb\u3057\u3001\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3068\u3057\u305f\u3089\u3001\u30dd\u30fc\u30c85432\u306fPORTS\u30bf\u30b0\u306e\u4e0b\u306b\u3042\u308b\u306f\u305a\u3067\u3059\u3002Docker\u30b3\u30f3\u30c6\u30ca\u3078\u306eCONTAINER ID\u306e\u53c2\u7167\u306f\u3001\u30b3\u30f3\u30c6\u30ca\u3054\u3068\u306b\u30e6\u30cb\u30fc\u30af\u3067\u7570\u306a\u308b/\u30e9\u30f3\u30c0\u30e0\u3067\u3042\u308b\u305f\u3081\u3001\u30e1\u30e2\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30ed\u30b0\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u969b\u306b\u306f\u3001\u3053\u308c\u3089\u3092\u53c2\u7167\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002docker-compose up\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u57fa\u672c\u7684\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u56f36.2 - docker-compose\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u69d8\u5b50</p> <p>\u56f36.2\u3067\u306f\u3001docker-compose\u304c\u4e00\u610f\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u4f7f\u7528\u3057\u3066\u3001\u30b3\u30f3\u30c6\u30ca\u3068\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306b\u4fdd\u6301\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6ce8\u610f\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u306f\u3001\u79c1\u305f\u3061\u306e\u30b3\u30f3\u30c6\u30ca\u306flocalhost\u4e0a\u3067\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3053\u3068\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001docker-compose\u304c\u7ba1\u7406\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u306b\u96fb\u8a71\u3092\u304b\u3051\u308b\u5834\u5408\u306f\u3001localhost\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305f\u3060\u3057\u3001docker-compose\u304b\u3089\u958b\u653e\u3055\u308c\u3066\u3044\u308b\u30dd\u30fc\u30c8\u306b\u547c\u3073\u51fa\u3059\u5fc5\u8981\u304c\u3042\u308a\u3001docker-compose\u306fdocker-compose.yml\u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30dd\u30fc\u30c8\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306ayml\u30d5\u30a1\u30a4\u30eb\u30672\u3064\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u3042\u308b\u3068\u3057\u307e\u3059\u3002</p> <pre><code>version: \"3.7\"\nservices:\npostgres:\ncontainer_name: 'to-do-postgres'\nimage: 'postgres:11.2'\nrestart: always\nports:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0'5432:5432'\nenvironment:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0'POSTGRES_USER=username'\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0'POSTGRES_DB=to_do'\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0'POSTGRES_PASSWORD=password'\npostgres_two:\ncontainer_name: 'to-do-postgres_two'\nimage: 'postgres:11.2'\nrestart: always\nports:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0'5433:5432'\nenvironment:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0'POSTGRES_USER=username'\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0'POSTGRES_DB=to_do'\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-\u00a0'POSTGRES_PASSWORD=password'\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u4e21\u65b9\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u30dd\u30fc\u30c85432\u3092\u901a\u3058\u3066\u30b3\u30f3\u30c6\u30ca\u3078\u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u53d7\u3051\u5165\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u885d\u7a81\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u4e00\u7dd2\u306b\u958b\u304f\u30dd\u30fc\u30c8\u306e1\u3064\u306f\u30dd\u30fc\u30c85433\u3067\u3001\u3053\u308c\u306f2\u756a\u76ee\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u306e\u30dd\u30fc\u30c85432\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3055\u308c\u3001\u4ee5\u4e0b\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u56f36.3 - docker-compose \u304c\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u69d8\u5b50</p> <p>\u3053\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306b\u3088\u308a\u3001\u8907\u6570\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u5b9f\u884c\u3059\u308b\u969b\u306e\u67d4\u8edf\u6027\u3092\u78ba\u4fdd\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002ToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5b9f\u884c\u3059\u308b\u3064\u3082\u308a\u306f\u306a\u3044\u306e\u3067\u3001postgres_two\u30b5\u30fc\u30d3\u30b9\u3092\u524a\u9664\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002postgres_two\u30b5\u30fc\u30d3\u30b9\u3092\u524a\u9664\u3057\u305f\u3089\u3001\u518d\u3073docker-compose\u3092\u5b9f\u884c\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002</p> <pre><code>$ docker image ls\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <pre><code>REPOSITORY\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0TAG\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0IMAGE ID\u00a0\u00a0\u00a0\u00a0postgres\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a011.2\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a03eda284d1840\nCREATED\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0SIZE\n17 months ago\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 312MB\n</code></pre> <p>\u5148\u306e\u51fa\u529b\u3067\u306f\u3001\u30a4\u30e1\u30fc\u30b8\u304cpostgres\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u5f15\u304d\u51fa\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30a4\u30e1\u30fc\u30b8\u306e\u30e6\u30cb\u30fc\u30af\u3067\u30e9\u30f3\u30c0\u30e0\u306aID\u3068\u3001\u30a4\u30e1\u30fc\u30b8\u304c\u4f5c\u6210\u3055\u308c\u305f\u65e5\u4ed8\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u3053\u308c\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u7acb\u3061\u4e0a\u3052\u65b9\u306e\u57fa\u672c\u304c\u308f\u304b\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067docker-compose\u3092\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>$ docker-compose up -d\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001\u3069\u306e\u30b3\u30f3\u30c6\u30ca\u304c\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3055\u308c\u305f\u304b\u3092\u4ee5\u4e0b\u306e\u51fa\u529b\u3067\u4f1d\u3048\u308b\u3060\u3051\u3067\u3059\u3002</p> <pre><code>Starting to-do-postgres ... done\n</code></pre> <p>\u30b3\u30f3\u30c6\u30ca\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u51fa\u529b\u3067\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>STATUS\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0PORTS\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0NAMES\nUp About a minute\u00a0\u00a0 0.0.0.0:5432-&gt;5432/tcp\u00a0\u00a0 to-do-postgres\n</code></pre> <p>\u5148\u307b\u3069\u306e\u51fa\u529b\u3067\u306f\u3001\u4ed6\u306e\u30bf\u30b0\u3082\u540c\u3058\u3067\u3059\u304c\u3001STATUS\u30bf\u30b0\u304b\u3089\u30b3\u30f3\u30c6\u30ca\u306e\u7a3c\u50cd\u6642\u9593\u3084\u3001\u3069\u306e\u30dd\u30fc\u30c8\u3092\u5360\u6709\u3057\u3066\u3044\u308b\u306e\u304b\u304c\u308f\u304b\u308a\u307e\u3059\u306d\u3002docker-compose\u306f\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u306e\u304b\u304c\u308f\u304b\u3089\u306a\u3044\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002logs\u30b3\u30de\u30f3\u30c9\u3092\u547c\u3073\u51fa\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30b3\u30f3\u30c6\u30ca\u306eID\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u3067\u3001\u3044\u3064\u3067\u3082\u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>$ docker logs c99f3528690f\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001\u6a19\u6e96\u7684\u306adocker-compose\u306eup\u30b3\u30de\u30f3\u30c9\u3068\u540c\u3058\u51fa\u529b\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002docker-compose\u3092\u505c\u6b62\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306bstop\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <pre><code>$ docker-compose stop\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001docker-compose\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3055\u305b\u308b\u3082\u306e\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u793a\u3055\u308c\u308bdown\u30b3\u30de\u30f3\u30c9\u3068\u306f\u7570\u306a\u308b\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>$ docker-compose down\n</code></pre> <p>down\u30b3\u30de\u30f3\u30c9\u306f\u3001\u79c1\u305f\u3061\u306e\u30b3\u30f3\u30c6\u30ca\u3082\u505c\u6b62\u3055\u305b\u307e\u3059\u3002\u3057\u304b\u3057\u3001down\u30b3\u30de\u30f3\u30c9\u306f\u30b3\u30f3\u30c6\u30ca\u3092\u524a\u9664\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u79c1\u305f\u3061\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u304c\u524a\u9664\u3055\u308c\u305f\u5834\u5408\u3001\u79c1\u305f\u3061\u306f\u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u3082\u5931\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u30dc\u30ea\u30e5\u30fc\u30e0\u3068\u3044\u3046\u8a2d\u5b9a\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u3042\u308a\u3001\u30b3\u30f3\u30c6\u30ca\u304c\u524a\u9664\u3055\u308c\u305f\u3068\u304d\u306b\u6211\u3005\u306e\u30c7\u30fc\u30bf\u304c\u524a\u9664\u3055\u308c\u308b\u306e\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u6211\u3005\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u3067\u306e\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u306b\u306f\u4e0d\u53ef\u6b20\u306a\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u5b9f\u969b\u3001\u30e9\u30c3\u30d7\u30c8\u30c3\u30d7\u304b\u3089\u30b3\u30f3\u30c6\u30ca\u3084\u30a4\u30e1\u30fc\u30b8\u3092\u5b9a\u671f\u7684\u306b\u524a\u9664\u3057\u305f\u304f\u306a\u308b\u306f\u305a\u3067\u3059\u3002\u79c1\u306f\u4ee5\u524d\u3001\u30ce\u30fc\u30c8\u30d1\u30bd\u30b3\u30f3\u304b\u3089\u4f7f\u308f\u306a\u304f\u306a\u3063\u305f\u30b3\u30f3\u30c6\u30ca\u3084\u30a4\u30e1\u30fc\u30b8\u3092\u524a\u9664\u3057\u305f\u3068\u3053\u308d\u300123GB\u304c\u89e3\u653e\u3055\u308c\u307e\u3057\u305f\u3002</p> <p>\u79c1\u305f\u3061\u306e\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u30de\u30b7\u30f3\u4e0a\u306eDocker\u30b3\u30f3\u30c6\u30ca\u306f\u3001\u4e00\u6642\u7684\u306a\u3082\u306e\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u3079\u304d\u3067\u3059\u3002Docker\u30b3\u30f3\u30c6\u30ca\u306f\u6a19\u6e96\u7684\u306a\u4eee\u60f3\u30de\u30b7\u30f3\u3088\u308a\u3082\u8efd\u91cf\u3067\u3059\u304c\u3001\u7121\u6599\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u4e0a\u3067Docker\u3092\u5b9f\u884c\u3059\u308b\u30a2\u30a4\u30c7\u30a2\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u304c\u30b5\u30fc\u30d0\u4e0a\u3067\u3069\u306e\u3088\u3046\u306b\u306a\u308b\u304b\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\u7279\u306bKubernetes\u306e\u3088\u3046\u306aDocker\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30ce\u30fc\u30c8PC\u4e0a\u3067Docker\u304c\u52d5\u4f5c\u3059\u308c\u3070\u3001\u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u3082\u52d5\u4f5c\u3059\u308b\u3053\u3068\u304c\u78ba\u5b9f\u3068\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/BuildingOurPostgreSQLDatabase/#bashdocker","title":"Bash\u30b9\u30af\u30ea\u30d7\u30c8\u3067Docker\u3092\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\u3059\u308b","text":"<p>Docker\u306f\u3001\u4e00\u8cab\u3057\u305f\u30c6\u30b9\u30c8\u3084\u958b\u767a\u306b\u3082\u5f79\u7acb\u3061\u307e\u3059\u3002\u79c1\u305f\u3061\u306f\u3001\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u305f\u3073\u306b\u540c\u3058\u7d50\u679c\u3092\u5f97\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u3068\u601d\u3046\u3067\u3057\u3087\u3046\u3002\u307e\u305f\u3001\u4ed6\u306e\u958b\u767a\u8005\u3092\u7c21\u5358\u306b\u53d6\u308a\u8fbc\u307f\u3001\u958b\u767a\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u306e\u30c6\u30a3\u30a2\u30c0\u30a6\u30f3\u3084\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3092\u8fc5\u901f\u304b\u3064\u7c21\u5358\u306b\u884c\u3048\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u79c1\u306f\u500b\u4eba\u7684\u306b\u3001\u7c21\u5358\u306a\u30c6\u30a3\u30a2\u30c0\u30a6\u30f3\u3068\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u306e\u624b\u9806\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u958b\u767a\u304c\u9045\u308c\u308b\u306e\u3092\u898b\u305f\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u8907\u96d1\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u53d6\u308a\u7d44\u3093\u3067\u3044\u308b\u3068\u304d\u3001\u8ffd\u52a0\u3057\u3066\u30c6\u30b9\u30c8\u3057\u3066\u3044\u308b\u30b3\u30fc\u30c9\u304c\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u50b7\u3092\u3064\u3051\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u5143\u306b\u623b\u3059\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u524a\u9664\u3057\u3066\u3082\u3046\u4e00\u5ea6\u59cb\u3081\u308b\u306e\u306f\u3001\u3053\u306e\u30c7\u30fc\u30bf\u3092\u518d\u69cb\u7bc9\u3059\u308b\u306e\u306b\u9577\u3044\u6642\u9593\u304c\u304b\u304b\u308b\u305f\u3081\u3001\u82e6\u75db\u3067\u3059\u3002\u958b\u767a\u8005\u306f\u3001\u6700\u521d\u306b\u3069\u306e\u3088\u3046\u306b\u30c7\u30fc\u30bf\u3092\u69cb\u7bc9\u3057\u305f\u304b\u3055\u3048\u899a\u3048\u3066\u3044\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3053\u306e\u3088\u3046\u306a\u4e8b\u614b\u3092\u9632\u3050\u65b9\u6cd5\u306f\u8907\u6570\u3042\u308a\u3001\u7b2c9\u7ae0\u300c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30c6\u30b9\u30c8\u3059\u308b\u300d\u3067\u8aac\u660e\u3057\u307e\u3059\u3002</p> <p>\u3068\u308a\u3042\u3048\u305a\u3001\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u8d77\u52d5\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u304c\u53ef\u80fd\u306b\u306a\u308b\u307e\u3067\u5f85\u6a5f\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u7834\u68c4\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u958b\u767a\u3092\u958b\u59cb\u3059\u308b\u305f\u3081\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3001\u30c6\u30b9\u30c8\u3001\u30aa\u30f3\u30dc\u30fc\u30c7\u30a3\u30f3\u30b0\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u57fa\u76e4\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u3001Rust Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bscripts\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001scripts/wait_for_database.sh \u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002</p> <pre><code>#!/bin/bash\ncd ..\ndocker-compose up -d\nuntil pg_isready -h localhost -p 5432 -U username\ndo\necho \"Waiting for postgres\"\nsleep 2;\ndone\necho \"docker is now running\"\ndocker-compose down\n</code></pre> <p>\u5148\u307b\u3069\u306e\u30b3\u30fc\u30c9\u3067\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u73fe\u5728\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092scripts\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067docker-compose\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u6b21\u306b\u3001pq_isready\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u30dd\u30fc\u30c85432\u306bping\u3092\u6253\u3061\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u63a5\u7d9a\u3092\u53d7\u3051\u5165\u308c\u308b\u6e96\u5099\u304c\u6574\u3046\u307e\u3067\u30eb\u30fc\u30d7\u3057\u307e\u3059\u3002</p> <p>\u91cd\u8981\u306a\u304a\u77e5\u3089\u305b</p> <p>pg_isready Bash\u30b3\u30de\u30f3\u30c9\u306f\u3001\u304a\u4f7f\u3044\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u3067\u5229\u7528\u3067\u304d\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002pg_isready\u30b3\u30de\u30f3\u30c9\u306f\u901a\u5e38\u3001PostgreSQL\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u4ed8\u5c5e\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001pg_isready\u306e\u4ee3\u308f\u308a\u306b\u3001\u4ee5\u4e0b\u306eDocker\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <p>docker run -it postgres --add-host host.docker.internal:host-gateway docker.io/postgres:14-alpine -h localhost -U username pg_isready \u307e\u3067\u3002</p> <p>\u3053\u3053\u3067\u306f\u3001postgres Docker\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30c1\u30a7\u30c3\u30af\u3092\u5b9f\u884c\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u63a5\u7d9a\u3092\u53d7\u3051\u5165\u308c\u308b\u6e96\u5099\u304c\u6574\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u3002</p> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u7a3c\u50cd\u3057\u305f\u3089\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u7a3c\u50cd\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u51fa\u529b\u3057\u3001docker-compose\u3092\u30c6\u30a2\u30c0\u30a6\u30f3\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u3092\u7834\u68c4\u3057\u307e\u3059\u3002wait_for_database.sh Bash\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002</p> <p><code>bash \u276f sh wait_for_database.sh  [+] Running 0/0  \u280b Network web_app_default\u00a0\u00a0Creating\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a00.2s  \u283f Container to-do-postgres\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Started\u00a0\u00a0\u00a0\u00a01.5s localhost:5432 - no response Waiting for postgres localhost:5432 - no response Waiting for postgres localhost:5432 - accepting connections docker is now running [+] Running 1/1  \u283f Container to-do-postgres\u00a0\u00a0Removed\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a01.2s  \u283f Network web_app_default\u00a0\u00a0 Removed</code></p> <p>\u3053\u306e\u51fa\u529b\u304b\u3089\u3001\u30eb\u30fc\u30d7\u306e\u7e70\u308a\u8fd4\u3057\u3054\u3068\u306b2\u79d2\u9593\u30b9\u30ea\u30fc\u30d7\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u8003\u3048\u308b\u3068\u3001\u65b0\u3057\u304f\u8d77\u52d5\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u63a5\u7d9a\u3092\u53d7\u3051\u4ed8\u3051\u308b\u307e\u3067\u306b\u304a\u3088\u305d4\u79d2\u304b\u304b\u3063\u305f\u3068\u63a8\u6e2c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001Docker\u3067\u30ed\u30fc\u30ab\u30eb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u57fa\u672c\u7684\u306a\u80fd\u529b\u306f\u8eab\u306b\u3064\u3044\u305f\u3068\u8a00\u3048\u308b\u3067\u3057\u3087\u3046\u3002    </p> <p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u79c1\u305f\u3061\u306e\u74b0\u5883\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3057\u305f\u3002\u307e\u305f\u3001Docker\u306e\u57fa\u672c\u3092\u5341\u5206\u306b\u7406\u89e3\u3057\u3001\u3044\u304f\u3064\u304b\u306e\u7c21\u5358\u306a\u30b3\u30de\u30f3\u30c9\u3060\u3051\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u69cb\u7bc9\u3001\u76e3\u8996\u3001\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3001\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3055\u3066\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u9032\u307f\u3001Rust\u3068diesel crate\u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u5bfe\u8a71\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/ConfiguringOurApplication/","title":"6.6 - \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u6210\u3059\u308b","text":""},{"location":"6_DataPersistenceWithPostgreSQL/ConfiguringOurApplication/#_1","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u6210\u3059\u308b","text":"<p>\u4eca\u3001\u79c1\u305f\u3061\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306eURL\u3092.env\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u3082\u3044\u3044\u306e\u3067\u3059\u304c\u3001yaml\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002Web\u30b5\u30fc\u30d0\u3092\u958b\u767a\u3059\u308b\u5834\u5408\u3001\u7570\u306a\u308b\u74b0\u5883\u3067\u5b9f\u884c\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u4eca\u306fRust\u30b5\u30fc\u30d0\u3092\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u3067\u52d5\u304b\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u5f8c\u3067\u30b5\u30fc\u30d0\u30fc\u3092\u72ec\u81ea\u306eDocker\u30a4\u30e1\u30fc\u30b8\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u3057\u3066\u3001\u30af\u30e9\u30a6\u30c9\u4e0a\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u30a4\u30f3\u30d5\u30e9\u3067\u306f\u3001\u3042\u308b\u30af\u30e9\u30b9\u30bf\u3067\u69cb\u7bc9\u3057\u305f\u30b5\u30fc\u30d0\u3092\u3001\u63a5\u7d9a\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u7570\u306a\u308b\u5225\u306e\u30af\u30e9\u30b9\u30bf\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u5185\u5411\u304d\u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3068\u5916\u5411\u304d\u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u5b9a\u7fa9\u3059\u308b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u4e0d\u53ef\u6b20\u306b\u306a\u308a\u307e\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u969b\u306b\u3001AWS S3\u306a\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u3066\u3001\u305d\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u9069\u3057\u305f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u306a\u304a\u3001\u74b0\u5883\u5909\u6570\u306f\u30b3\u30f3\u30c6\u30ca\u306b\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u305f\u3081\u3001\u30c7\u30d7\u30ed\u30a4\u6642\u306b\u512a\u5148\u7684\u306b\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u74b0\u5883\u5909\u6570\u3092\u4f7f\u7528\u3057\u3066Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u6210\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u7b2c13\u7ae0\u300c\u30af\u30ea\u30fc\u30f3\u306aWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u305f\u3081\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u300d\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\u4eca\u306e\u3068\u3053\u308d\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u7126\u70b9\u3092\u5f53\u3066\u307e\u3059\u3002\u307e\u305f\u3001\u3069\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u304b\u3068\u3044\u3046\u70b9\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u304c\u67d4\u8edf\u306b\u5bfe\u5fdc\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u7279\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u7279\u5b9a\u306e\u540d\u524d\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u8aad\u307f\u8fbc\u307e\u305b\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u9593\u9055\u3063\u305f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u30b5\u30fc\u30d0\u30fc\u306b\u8aad\u307f\u8fbc\u307e\u308c\u308b\u30ea\u30b9\u30af\u3092\u6e1b\u3089\u3059\u305f\u3081\u306b\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u9069\u5207\u306a\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u5fdc\u3058\u305f\u9069\u5207\u306a\u540d\u524d\u3092\u4ed8\u3051\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u3092\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u3068\u304d\u306b\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u306f yaml \u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001Cargo.toml \u30d5\u30a1\u30a4\u30eb\u306b serde_yaml \u4f9d\u5b58\u95a2\u4fc2\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>serde_yaml = \"0.8.23\"\n</code></pre> <p>yaml\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u3081\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001yaml\u30d5\u30a1\u30a4\u30eb\u306e\u5024\u3092HashMap\u306b\u30ed\u30fc\u30c9\u3059\u308b\u72ec\u81ea\u306e\u8a2d\u5b9a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f1\u3064\u306e\u69cb\u9020\u4f53\u3067\u5b9f\u73fe\u3067\u304d\u308b\u306e\u3067\u3001config\u30e2\u30b8\u30e5\u30fc\u30eb\u30921\u3064\u306e\u30d5\u30a1\u30a4\u30eb\uff08src/config.rs\u30d5\u30a1\u30a4\u30eb\uff09\u306b\u307e\u3068\u3081\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</p> <pre><code>use std::collections::HashMap;\nuse std::env;\nuse serde_yaml;\n</code></pre> <p>\u3053\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001env\u3092\u4f7f\u7528\u3057\u3066\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3055\u308c\u308b\u74b0\u5883\u5909\u6570\u3092\u53d6\u5f97\u3057\u3001HashMap\u3092\u4f7f\u7528\u3057\u3066\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3057\u3001serde_yaml crate\u3092\u4f7f\u7528\u3057\u3066\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089yaml\u5024\u3092\u51e6\u7406\u3057\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001\u8a2d\u5b9a\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u69cb\u9020\u4f53\u3092\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>pub struct Config {\npub map: HashMap&lt;String, serde_yaml::Value&gt;\n}\n</code></pre> <p>\u5148\u307b\u3069\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u5024\u306e\u30c7\u30fc\u30bf\u30ad\u30fc\u304cString\u3067\u3001\u305d\u306e\u30ad\u30fc\u306b\u5c5e\u3059\u308b\u5024\u304cyaml\u5024\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3055\u308c\u305f\u6700\u5f8c\u306e\u5f15\u6570\u3092\u53d7\u3051\u53d6\u308b\u69cb\u9020\u4f53\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u4f5c\u6210\u3057\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9\u306b\u57fa\u3065\u3044\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30c7\u30fc\u30bf\u3092\u30de\u30c3\u30d7 \u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002</p> <pre><code>impl Config {\npub fn new() -&gt; Config {\nlet args: Vec&lt;String&gt; = env::args().collect();\nlet file_path = &amp;args[args.len() - 1];\nlet file = std::fs::File::open(file_path).unwrap();\nlet map: HashMap&lt;String, serde_yaml::Value&gt; = serde_yaml::from_reader(file).unwrap();\nreturn Config{map}\n}\n}\n</code></pre> <p>config\u69cb\u9020\u4f53\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001src/main.rs\u30d5\u30a1\u30a4\u30eb\u306b\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067config\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>mod config;\n</code></pre> <p>\u6b21\u306b\u3001src/database.rs\u30d5\u30a1\u30a4\u30eb\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3001yaml\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30ed\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3055\u308c\u305f\u30a4\u30f3\u30dd\u30fc\u30c8\u306f\u6b21\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <pre><code>use diesel::prelude::*;\nuse diesel::pg::PgConnection;\nuse crate::config::Config;\n</code></pre> <p>env\u3078\u306e\u53c2\u7167\u306f\u3059\u3079\u3066\u524a\u9664\u3055\u308c\u3001config\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u51e6\u7406\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u3001DB_URL\u30ad\u30fc\u3092\u53d6\u5f97\u3057\u3001DB_URL\u30ad\u30fc\u306b\u95a2\u9023\u3059\u308b\u5909\u6570\u3092\u53d6\u5f97\u3057\u3001yaml\u5024\u3092\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u3001\u305d\u306e\u5909\u63db\u7d50\u679c\u3092\u76f4\u63a5\u30a2\u30f3\u30e9\u30c3\u30d7\u3057\u3066\u3044\u307e\u3059\u3002\u53d6\u5f97\u3068\u5909\u63db\u306e\u95a2\u6570\u3092\u76f4\u63a5\u30a2\u30f3\u30e9\u30c3\u30d7\u3059\u308b\u306e\u306f\u3001\u3053\u308c\u3089\u306e\u95a2\u6570\u304c\u5931\u6557\u3059\u308b\u3068\u3001\u3044\u305a\u308c\u306b\u3057\u3066\u3082\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3067\u304d\u306a\u304f\u306a\u308b\u304b\u3089\u3067\u3059\u3002\u63a5\u7d9a\u3067\u304d\u306a\u3044\u5834\u5408\u3001\u3069\u3053\u3067\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u306e\u304b\u3092\u793a\u3059\u660e\u78ba\u306a\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u3068\u3082\u306b\u3001\u3067\u304d\u308b\u3060\u3051\u65e9\u304f\u305d\u306e\u30a8\u30e9\u30fc\u3092\u77e5\u308a\u305f\u3044\u306e\u3067\u3059\u3002\u3053\u308c\u3067\u3001Rust\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30eb\u30fc\u30c8\u306b\u3042\u308bconfig.yml\u30d5\u30a1\u30a4\u30eb\u306b\u3001\u6b21\u306e\u3088\u3046\u306a\u5185\u5bb9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306eURL\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <pre><code>DB_URL: postgres://username:password@localhost:5433/to_do\n</code></pre> <p>\u6b21\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <pre><code>$ cargo run config.yml\n</code></pre> <p>config.yml\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9\u3067\u3059\u3002docker-compose\u3068frontend\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001config\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306eURL\u304c\u8aad\u307f\u8fbc\u307e\u308c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u306b\u306f1\u3064\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002establish_connection\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u305f\u3073\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u304c\u884c\u308f\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u52d5\u4f5c\u3057\u307e\u3059\u304c\u3001\u3057\u304b\u3057\u3001\u6700\u9069\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30ea\u30f3\u30b0\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u3088\u308a\u52b9\u7387\u7684\u306b\u884c\u3046\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/ConnectingOurAppToPostgreSQL/","title":"6.4 - \u30a2\u30d7\u30ea\u3092PostgreSQL\u306b\u63a5\u7d9a\u3059\u308b","text":""},{"location":"6_DataPersistenceWithPostgreSQL/ConnectingOurAppToPostgreSQL/#postgresql","title":"\u30a2\u30d7\u30ea\u3092PostgreSQL\u306b\u63a5\u7d9a\u3059\u308b","text":"<p>\u524d\u7bc0\u3067\u306f\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u4f7f\u3063\u3066PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3059\u308b\u3053\u3068\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u4eca\u5f8c\u306fToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u8aad\u307f\u66f8\u304d\u3092\u7ba1\u7406\u3059\u308b\u30a2\u30d7\u30ea\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001Docker\u4e0a\u3067\u52d5\u4f5c\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u63a5\u7d9a\u3057\u307e\u3059\u3002\u63a5\u7d9a\u3059\u308b\u306b\u306f\u3001\u63a5\u7d9a\u3092\u78ba\u7acb\u3057\u3001\u305d\u308c\u3092\u8fd4\u3059\u95a2\u6570\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u63a5\u7d9a\u3068\u8a2d\u5b9a\u3092\u7ba1\u7406\u3059\u308b\u306b\u306f\u3001\u3082\u3063\u3068\u826f\u3044\u65b9\u6cd5\u304c\u3042\u308b\u3053\u3068\u3092\u5f37\u8abf\u3057\u3066\u304a\u304d\u307e\u3059\u304c\u3001\u305d\u308c\u306f\u3053\u306e\u7ae0\u306e\u6700\u5f8c\u3067\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\u4eca\u306e\u3068\u3053\u308d\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u6700\u3082\u5358\u7d14\u306a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002src/database.rs \u30d5\u30a1\u30a4\u30eb\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>use diesel::prelude::*;\nuse diesel::pg::PgConnection;\nuse dotenv::dotenv;\nuse std::env;\npub fn establish_connection() -&gt; PgConnection {\ndotenv().ok();\nlet database_url = env::var(\"DATABASE_URL\")\n.expect(\"DATABASE_URL must be set\");\nPgConnection::establish(&amp;database_url)\n.unwrap_or_else(|_| panic!(\"Error connecting to {}\", database_url))\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u307e\u305a\u3001diesel::prelude::*; import\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u304a\u6c17\u3065\u304d\u3067\u3057\u3087\u3046\u304b\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001connection\u3001expression\u3001query\u3001serialization\u3001result structs\u306e\u7bc4\u56f2\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u5fc5\u8981\u306a\u30a4\u30f3\u30dd\u30fc\u30c8\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u63a5\u7d9a\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u307e\u305a\u3001dotenv().();\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u74b0\u5883\u306e\u30ed\u30fc\u30c9\u306b\u5931\u6557\u3057\u3066\u3082\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u30a8\u30e9\u30fc\u3092\u30b9\u30ed\u30fc\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u3053\u308c\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u74b0\u5883\u5909\u6570\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306eURL\u3092\u53d6\u5f97\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306eURL\u3078\u306e\u53c2\u7167\u3092\u4f7f\u7528\u3057\u3066\u63a5\u7d9a\u3092\u78ba\u7acb\u3057\u307e\u3059\u3002\u6b63\u3057\u3044URL\u3068\u6b63\u3057\u3044\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u305f\u3044\u306e\u3067\u3001\u3053\u306e\u4f5c\u696d\u3092\u884c\u308f\u306a\u3044\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306eURL\u304c\u8868\u793a\u3055\u308c\u306a\u304f\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u63a5\u7d9a\u306f\u95a2\u6570\u306e\u6700\u5f8c\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306a\u306e\u3067\u3001\u3053\u308c\u304c\u8fd4\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u3055\u3066\u3001\u72ec\u81ea\u306e\u63a5\u7d9a\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u30b9\u30ad\u30fc\u30de\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u5909\u6570\u3092\u30c7\u30fc\u30bf\u578b\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u30b9\u30ad\u30fc\u30de\u306fsrc/schema.rs\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>table! {\nto_do (id) {\nid -&gt; Int4,\ntitle -&gt; Varchar,\nstatus -&gt; Varchar,\ndate -&gt; Timestamp,\n}\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3092\u6307\u5b9a\u3059\u308b\u30c7\u30a3\u30fc\u30bc\u30eb\u30de\u30af\u30ed\u3001table!\u3053\u306e\u30de\u30c3\u30d7\u306f\u7c21\u5358\u3067\u3001\u4eca\u5f8c\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30af\u30a8\u30ea\u3084\u30a4\u30f3\u30b5\u30fc\u30c8\u3067\u30ab\u30e9\u30e0\u3084\u30c6\u30fc\u30d6\u30eb\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u306b\u3053\u306e\u30b9\u30ad\u30fc\u30de\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u306e\u69cb\u7bc9\u3068\u30b9\u30ad\u30fc\u30de\u306e\u5b9a\u7fa9\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u305d\u308c\u3089\u3092src/main.rs\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u6b21\u306e\u3088\u3046\u306bimport\u3057\u3066\u5ba3\u8a00\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>#[macro_use] extern crate diesel;\nextern crate dotenv;\nuse actix_web::{App, HttpServer};\nuse actix_service::Service;\nuse actix_cors::Cors;\nmod schema;\nmod database;\nmod views;\nmod to_do;\nmod state;\nmod processes;\nmod json_serialization;\nmod jwt;\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u6700\u521d\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u624b\u7d9a\u304d\u578b\u30de\u30af\u30ed\u3082\u6709\u52b9\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u3082\u3057\u3001#[macro_use]\u30bf\u30b0\u3092\u4f7f\u7528\u3057\u306a\u3051\u308c\u3070\u3001\u4ed6\u306e\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30b9\u30ad\u30fc\u30de\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\u3067\u306f\u30c6\u30fc\u30d6\u30eb\u30de\u30af\u30ed\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u307e\u305f\u3001dotenv\u30af\u30ec\u30fc\u30c8\u3082\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u7b2c5\u7ae0\u300c\u30d6\u30e9\u30a6\u30b6\u3067\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\u300d\u3067\u4f5c\u6210\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u30b9\u30ad\u30fc\u30de\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u306e\u69cb\u7bc9\u3092\u958b\u59cb\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u3082\u306e\u304c\u3059\u3079\u3066\u63c3\u3044\u307e\u3057\u305f\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/ConnectingOurAppToPostgreSQL/#_1","title":"\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b","text":"<p>Rust\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306e\u30c7\u30fc\u30bf\u306b\u95a2\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u3084\u52d5\u4f5c\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u56f3\u306b\u793a\u3059\u3088\u3046\u306b\u3001\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068Rust\u30a2\u30d7\u30ea\u306e\u9593\u306e\u6a4b\u6e21\u3057\u5f79\u3068\u3057\u3066\u6a5f\u80fd\u3057\u307e\u3059\u3002</p> <p>\u56f36.5 \u300c\u30e2\u30c7\u30eb\u3001\u30b9\u30ad\u30fc\u30de\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u95a2\u4fc2</p> <p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u30a2\u30d7\u30ea\u306b\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u8ffd\u52a0\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <ol> <li>\u65b0\u3057\u3044ToDo\u9805\u76ee\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u69cb\u9020\u4f53\u3092\u5b9a\u7fa9\u3059\u308b\u3002</li> <li>\u6b21\u306b\u3001\u65b0\u3057\u3044ToDo\u30a2\u30a4\u30c6\u30e0\u69cb\u9020\u4f53\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</li> <li>\u305d\u3057\u3066\u6700\u5f8c\u306b\u3001ToDo\u9805\u76ee\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u69cb\u9020\u4f53\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</li> </ol> <p>\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u59cb\u3081\u308b\u524d\u306b\u3001src\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u69cb\u9020\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u304d\u307e\u3059\u3002</p> <pre><code>\u251c\u2500\u2500 models\n\u2502\u00a0\u00a0\u00a0\u251c\u2500\u2500 item\n\u2502\u00a0\u00a0\u00a0\u2502\u00a0\u00a0\u00a0\u251c\u2500\u2500 item.rs\n\u2502\u00a0\u00a0\u00a0\u2502\u00a0\u00a0\u00a0\u251c\u2500\u2500 mod.rs\n\u2502\u00a0\u00a0\u00a0\u2502\u00a0\u00a0\u00a0\u2514\u2500\u2500 new_item.rs\n\u2502\u00a0\u00a0\u00a0\u2514\u2500\u2500 mod.rs\n</code></pre> <p>\u5148\u306e\u69cb\u9020\u3067\u306f\u3001\u5404\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u304cmodels\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u306b\u3001\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u304c2\u3064\u3042\u308a\u307e\u3059\u3002\u4e00\u3064\u306f\u65b0\u898f\u30a4\u30f3\u30b5\u30fc\u30c8\u7528\u3001\u3082\u3046\u4e00\u3064\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5468\u308a\u306e\u30c7\u30fc\u30bf\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002\u65b0\u898f\u633f\u5165\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u306b\u306f\u3001ID\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>ID\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u306a\u3044\u306e\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u30a2\u30a4\u30c6\u30e0\u306bID\u3092\u5272\u308a\u5f53\u3066\u308b\u305f\u3081\u3067\u3001\u4e8b\u524d\u306b\u5b9a\u7fa9\u3059\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u64cd\u4f5c\u3059\u308b\u969b\u306b\u306f\u3001\u305d\u306eID\u3092\u53d6\u5f97\u3057\u3001ID\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u65e2\u5b58\u306e\u30c7\u30fc\u30bf\u30fb\u30a2\u30a4\u30c6\u30e0\u30fb\u30e2\u30c7\u30eb\u306b\u306f\u3001ID\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u65b0\u3057\u3044\u30a2\u30a4\u30c6\u30e0\u30fb\u30c7\u30fc\u30bf\u30fb\u30e2\u30c7\u30eb\u306f\u3001new_item.rs\u30d5\u30a1\u30a4\u30eb\u306b\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use crate::schema::to_do;\nuse chrono::{NaiveDateTime, Utc};\n#[derive(Insertable)]\n#[table_name=\"to_do\"]\npub struct NewItem {\npub title: String,\npub status: String,\npub date: NaiveDateTime\n}\nimpl NewItem {\npub fn new(title: String) -&gt; NewItem {\nlet now = Utc::now().naive_local();\nreturn NewItem{\ntitle, status: String::from(\"PENDING\"), date: now\n}\n}\n}\n</code></pre> <p>\u524d\u306e\u30b3\u30fc\u30c9\u3067\u308f\u304b\u308b\u3088\u3046\u306b\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u5b9a\u7fa9\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30bf\u30a4\u30c8\u30eb\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u6587\u5b57\u5217\u3068\u3057\u3066\u65b0\u3057\u3044\u30a2\u30a4\u30c6\u30e0\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002chrono\u30af\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u3066\u3001\u65e5\u4ed8\u30d5\u30a3\u30fc\u30eb\u30c9\u3092NaiveDateTime\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001\u30c7\u30a3\u30fc\u30bc\u30eb \u30de\u30af\u30ed\u3092\u4f7f\u7528\u3057\u3066\u3001\u3053\u306e\u69cb\u9020\u4f53\u306b\u5c5e\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u3092\u300cto_do\u300d\u30c6\u30fc\u30d6\u30eb\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u3053\u306e\u5b9a\u7fa9\u306b\u306f\u5f15\u7528\u7b26\u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u9a19\u3055\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p> <p>\u30b9\u30ad\u30fc\u30de\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u306a\u3044\u3068\u3001\u53c2\u7167\u3092\u7406\u89e3\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u30a2\u30d7\u30ea\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u307e\u305b\u3093\u3002\u307e\u305f\u3001Insertable \u30bf\u30b0\u3092\u4f7f\u7528\u3057\u3066\u30c7\u30fc\u30bf\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3092\u793a\u3059\u3001\u5225\u306e\u30c7\u30a3\u30fc\u30bc\u30eb \u30de\u30af\u30ed\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u524d\u8ff0\u3057\u305f\u3088\u3046\u306b\u3001\u3053\u306e\u69cb\u9020\u4f53\u306f\u30c7\u30fc\u30bf\u3092\u633f\u5165\u3059\u308b\u305f\u3081\u3060\u3051\u306e\u3082\u306e\u306a\u306e\u3067\u3001\u3053\u306e\u30de\u30af\u30ed\u306b\u3053\u308c\u4ee5\u4e0a\u30bf\u30b0\u3092\u8ffd\u52a0\u3059\u308b\u3064\u3082\u308a\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u307e\u305f\u3001\u65b0\u3057\u3044\u69cb\u9020\u4f53\u306e\u4f5c\u6210\u306b\u95a2\u3059\u308b\u6a19\u6e96\u7684\u306a\u30eb\u30fc\u30eb\u3092\u5b9a\u7fa9\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u65b0\u3057\u3044\u95a2\u6570\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\u305f\u3068\u3048\u3070\u3001\u4fdd\u7559\u4e2d\u306e\u9805\u76ee\u306e\u307f\u3092\u65b0\u898f\u4f5c\u6210\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u4e0d\u6b63\u306a\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u4f5c\u6210\u3055\u308c\u308b\u30ea\u30b9\u30af\u3092\u8efd\u6e1b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u5f8c\u3067\u62e1\u5f35\u3059\u308b\u5834\u5408\u306f\u3001\u65b0\u3057\u3044\u95a2\u6570\u3067\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u5165\u529b\u3092\u53d7\u3051\u5165\u308c\u3001\u305d\u308c\u3092\u30de\u30c3\u30c1 \u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3067\u5b9f\u884c\u3057\u3066\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u53d7\u3051\u5165\u308c\u53ef\u80fd\u306a\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u3044\u305a\u308c\u304b\u3067\u306a\u3044\u5834\u5408\u306f\u30a8\u30e9\u30fc\u3092\u6295\u3052\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u65e5\u4ed8\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3057\u305f\u65e5\u4ed8\u3067\u3042\u308b\u3053\u3068\u3092\u81ea\u52d5\u7684\u306b\u8868\u660e\u3057\u307e\u3059\u3002</p> <p>\u3053\u308c\u3092\u8e0f\u307e\u3048\u3066\u3001item.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30a2\u30a4\u30c6\u30e0\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>use crate::schema::to_do;\nuse chrono::NaiveDateTime;\n#[derive(Queryable, Identifiable)]\n#[table_name=\"to_do\"]\npub struct Item {\npub id: i32,\npub title: String,\npub status: String,\npub date: NaiveDateTime\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u308f\u304b\u308b\u3088\u3046\u306b\u3001NewItem\u3068Item\u306e\u69cb\u9020\u4f53\u306e\u9055\u3044\u306f\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u95a2\u6570\u304c\u306a\u3044\u3053\u3068\u3001Insertable\u30bf\u30b0\u3092Queryable\u3068Identifiable\u306b\u5165\u308c\u66ff\u3048\u305f\u3053\u3068\u3001\u305d\u3057\u3066\u69cb\u9020\u4f53\u306bid\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0\u3057\u305f\u3053\u3068\u3060\u3051\u3067\u3059\u3002\u3053\u308c\u3089\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4ed6\u306e\u90e8\u5206\u3067\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u3001models/item/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>pub mod new_item;\npub mod item;\n</code></pre> <p>\u305d\u3057\u3066\u3001models/mod.rs\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001item\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4ed6\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u516c\u958b\u3057\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>pub mod item;\n</code></pre> <p>\u6b21\u306b\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u30e2\u30c7\u30eb\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>mod models;\n</code></pre> <p>\u3053\u308c\u3067\u3001\u30a2\u30d7\u30ea\u5168\u4f53\u3067\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u8aad\u307f\u66f8\u304d\u306b\u95a2\u3059\u308b\u52d5\u4f5c\u3082\u56fa\u5b9a\u5316\u3055\u308c\u307e\u3057\u305f\u3002\u6b21\u306b\u3001\u3053\u308c\u3089\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001\u30a2\u30d7\u30ea\u3067\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/ConnectingOurAppToPostgreSQL/#_2","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b","text":"<p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u5bfe\u8a71\u3059\u308b\u3068\u304d\u3001\u305d\u306e\u65b9\u6cd5\u306b\u6163\u308c\u308b\u307e\u3067\u6642\u9593\u304c\u304b\u304b\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30de\u30c3\u30d1\u30fc\uff08ORM\uff09\u3084\u8a00\u8a9e\u304c\u7570\u306a\u308c\u3070\u3001\u305d\u306e\u7656\u3082\u7570\u306a\u308a\u307e\u3059\u3002\u57fa\u672c\u7684\u306a\u539f\u7406\u306f\u540c\u3058\u3067\u3059\u304c\u3001\u3053\u308c\u3089\u306eORM\u306e\u69cb\u6587\u306f\u5927\u304d\u304f\u7570\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001ORM\u3092\u4f7f\u7528\u3057\u3066\u6642\u9593\u3092\u8a08\u308b\u3060\u3051\u3067\u3001\u3088\u308a\u81ea\u4fe1\u3092\u6301\u3061\u3001\u3088\u308a\u8907\u96d1\u306a\u554f\u984c\u3092\u89e3\u6c7a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u306e\u3067\u3059\u3002\u307e\u305a\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3068\u3044\u3046\u3001\u6700\u3082\u30b7\u30f3\u30d7\u30eb\u306a\u4ed5\u7d44\u307f\u304b\u3089\u59cb\u3081\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <p>\u3053\u308c\u3092\u8abf\u3079\u308b\u306b\u306f\u3001to_do\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u3059\u3079\u3066\u306e\u9805\u76ee\u3092\u53d6\u5f97\u3057\u3001\u5404\u30d3\u30e5\u30fc\u306e\u6700\u5f8c\u306b\u305d\u308c\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u4ed5\u7d44\u307f\u306f\u3001\u7b2c4\u7ae0\u300cHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406\u300d\u3067\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\u4eca\u56de\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306eToDo\u30a2\u30a4\u30c6\u30e0\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3059\u308bget_state\u95a2\u6570\u304c\u3042\u308b\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306eget_state\u95a2\u6570\u306f\u3001src/json_serialization/to_do_items.rs\u30d5\u30a1\u30a4\u30eb\u5185\u306eToDoItems\u69cb\u9020\u4f53\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u6700\u521d\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use crate::diesel;\nuse diesel::prelude::*;\nuse crate::database::establish_connection;\nuse crate::models::item::item::Item;\nuse crate::schema::to_do;\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30a8\u30ea\u3092\u69cb\u7bc9\u3067\u304d\u308b\u30c7\u30a3\u30fc\u30bc\u30eb\u30af\u30ec\u30fc\u30c8\u3068\u30de\u30af\u30ed\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u3092\u884c\u3046\u305f\u3081\u306bestablish_connection\u95a2\u6570\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001\u30af\u30a8\u30ea\u3092\u4f5c\u6210\u3057\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306b\u30b9\u30ad\u30fc\u30de\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30e2\u30c7\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u6b21\u306b\u3001get_state\u95a2\u6570\u3092\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub fn get_state() -&gt; ToDoItems {\nlet connection = establish_connection();\nlet mut array_buffer = Vec::new();\nlet items = to_do::table\n.order(to_do::columns::id.asc())\n.load::&lt;Item&gt;(&amp;connection).unwrap();\nfor item in items {\nlet status = TaskStatus::new(&amp;item.status.as_str());\nlet item = to_do_factory(&amp;item.title, status);\narray_buffer.push(item);\n}\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return ToDoItems::new(array_buffer)\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u307e\u305a\u63a5\u7d9a\u3092\u78ba\u7acb\u3057\u3066\u3044\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u304c\u78ba\u7acb\u3055\u308c\u308b\u3068\u3001\u6b21\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u53d6\u5f97\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30a8\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u30af\u30a8\u30ea\u306e\u6700\u521d\u306e\u90e8\u5206\u306f\u3001\u9806\u5e8f\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u898b\u3066\u308f\u304b\u308b\u3088\u3046\u306b\u3001\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u3067\u306f\u3001\u72ec\u81ea\u306e\u95a2\u6570\u3092\u6301\u3064\u30ab\u30e9\u30e0\u3078\u306e\u53c2\u7167\u3082\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u305d\u3057\u3066\u3001\u30c7\u30fc\u30bf\u306e\u30ed\u30fc\u30c9\u306b\u4f7f\u7528\u3059\u308b\u69cb\u9020\u4f53\u3092\u5b9a\u7fa9\u3057\u3001\u305d\u306e\u63a5\u7d9a\u3078\u306e\u53c2\u7167\u3092\u6e21\u3057\u307e\u3059\u3002\u30de\u30af\u30ed\u3067\u69cb\u9020\u4f53\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u306e\u3067\u3001NewItem\u69cb\u9020\u4f53\u3092load\u95a2\u6570\u306b\u6e21\u3059\u3068\u3001\u305d\u306e\u69cb\u9020\u4f53\u3067\u306fQueryable\u30de\u30af\u30ed\u304c\u6709\u52b9\u3067\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002</p> <p>\u307e\u305f\u3001load\u95a2\u6570\u3067\u306f\u3001load::(&amp;connection)\u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u6e21\u3055\u308c\u308b\u95a2\u6570\u306e\u62ec\u5f27\u306e\u524d\u306b\u63a5\u982d\u8f9e\u304c\u4ed8\u3044\u3066\u3044\u308b\u3053\u3068\u306b\u3082\u6ce8\u76ee\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u63a5\u982d\u8f9e\u306e\u8003\u3048\u65b9\u306f\u3001\u7b2c1\u7ae0\u300cRust\u30af\u30a4\u30c3\u30af\u5165\u9580\u300d\u306e\u300ctraits\u306b\u3088\u308b\u691c\u8a3c\u300d\u306e\u9805\u3001\u30b9\u30c6\u30c3\u30d74\u3067\u8aac\u660e\u3057\u307e\u3057\u305f\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 <pre><code>fn some_function&lt;T: SomeType&gt;(some_input: &amp;T) -&gt; () {\n. . .\n}\n</code></pre> <p>\u63a5\u982d\u8f9e\u306b\u6e21\u3055\u308c\u308b\u578b\u306f\u3001\u53d7\u3051\u5165\u308c\u308b\u5165\u529b\u306e\u578b\u3092\u5b9a\u7fa9\u3059\u308b\u3002\u3064\u307e\u308a\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u5b9f\u884c\u3055\u308c\u308b\u3068\u3001\u30ed\u30fc\u30c9\u95a2\u6570\u306b\u6e21\u3055\u308c\u305f\u578b\u3054\u3068\u306b\u5225\u3005\u306e\u95a2\u6570\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002   <p>\u6b21\u306b\u3001load\u95a2\u6570\u3092\u76f4\u63a5\u30a2\u30f3\u30e9\u30c3\u30d7\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30a2\u30a4\u30c6\u30e0\u306e\u30d9\u30af\u30c8\u30eb\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3067\u3001\u30a2\u30a4\u30c6\u30e0\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3057\u3066\u30d0\u30c3\u30d5\u30a1\u306b\u8ffd\u52a0\u3059\u308b\u30eb\u30fc\u30d7\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u308c\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u30d0\u30c3\u30d5\u30a1\u304b\u3089ToDoItems JSON\u30b9\u30ad\u30fc\u30de\u3092\u69cb\u7bc9\u3057\u3001\u305d\u308c\u3092\u8fd4\u3057\u307e\u3059\u3002\u3053\u306e\u5909\u66f4\u306b\u3088\u308a\u3001\u3059\u3079\u3066\u306e\u30d3\u30e5\u30fc\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u76f4\u63a5\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u8868\u793a\u3055\u308c\u308b\u30a2\u30a4\u30c6\u30e0\u306f\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305f\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3057\u3088\u3046\u3068\u3057\u3066\u3082\u3001\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u8868\u793a\u3055\u308c\u306a\u3044\u3068\u306f\u3044\u3048\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001\u5fc5\u8981\u306aJSON\u69cb\u9020\u3067\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u8fd4\u3057\u3001\u305d\u308c\u3092\u6a19\u6e96\u7684\u306a\u65b9\u6cd5\u3067\u8981\u6c42\u5143\u306b\u8fd4\u3059\u3068\u3044\u3046\u57fa\u672c\u3067\u3059\u3002\u3053\u308c\u306f\u3001Rust\u3067\u4f5c\u3089\u308c\u305fAPI\u306e\u30d0\u30c3\u30af\u30dc\u30fc\u30f3\u3067\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3059\u308b\u969b\u306b\u3001JSON\u72b6\u614b\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u8aad\u307f\u8fbc\u307f\u306b\u4f9d\u5b58\u3057\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u3001src/json_serialization/to_do_items.rs\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u4ee5\u4e0b\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use crate::state::read_file;\nuse serde_json::value::Value;\nuse serde_json::Map;\n</code></pre> <p>\u4ed6\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u5148\u884c\u3059\u308b\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u524a\u9664\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u3001create\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f\u6b63\u3057\u304f\u8d77\u52d5\u3057\u307e\u3059\u304c\u3001\u3053\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f\u3001return_state\u304c\u3082\u306f\u3084\u8aad\u307f\u53d6\u3089\u306a\u3044JSON\u30b9\u30c6\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u518d\u3073\u4f5c\u6210\u3092\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u65b0\u3057\u3044\u30a2\u30a4\u30c6\u30e0\u3092\u633f\u5165\u3059\u308b\u305f\u3081\u306b\u3001create\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/ConnectingToPostgreSQLWithDiesel/","title":"6.3 - Diesel\u3067PostgreSQL\u306b\u63a5\u7d9a\u3059\u308b","text":""},{"location":"6_DataPersistenceWithPostgreSQL/ConnectingToPostgreSQLWithDiesel/#dieselpostgresql","title":"Diesel\u3067PostgreSQL\u306b\u63a5\u7d9a\u3059\u308b","text":"<p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u7a3c\u50cd\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3053\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u3001DIESEL CRATE\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002Diesel\u30af\u30ec\u30fc\u30c8\u306f\u3001Rust\u30b3\u30fc\u30c9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002\u4ed6\u306e\u30af\u30ec\u30fc\u30c8\u3067\u306f\u306a\u304f\u3001diesel\u30af\u30ec\u30fc\u30c8\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u306f\u3001diesel\u30af\u30ec\u30fc\u30c8\u304c\u6700\u3082\u78ba\u7acb\u3055\u308c\u3066\u304a\u308a\u3001\u591a\u304f\u306e\u30b5\u30dd\u30fc\u30c8\u3068\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u8e0f\u3093\u3067\u307f\u307e\u3057\u3087\u3046\u3002</p> <ol> <li>\u307e\u305a\u3001diesel crate\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u3001cargo.toml\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</li> </ol> <pre><code>diesel = { version = \"1.4.8\", features = [\"postgres\", \"chrono\", \"r2d2\"] }\ndotenv = \"0.15.0\"\nchrono = \"0.4.19\"\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001diesel crate\u306bpostgres\u306e\u6a5f\u80fd\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002diesel crate\u306e\u5b9a\u7fa9\u306b\u306f\u3001chrono\u3068r2d2\u6a5f\u80fd\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002chrono\u6a5f\u80fd\u306b\u3088\u308a\u3001Rust\u306e\u30b3\u30fc\u30c9\u3067datetime\u69cb\u9020\u4f53\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002r2d2\u6a5f\u80fd\u3067\u306f\u3001\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30fc\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30fc\u30ea\u30f3\u30b0\u306b\u3064\u3044\u3066\u306f\u3001\u672c\u7ae0\u306e\u6700\u5f8c\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\u307e\u305f\u3001dotenv\u30af\u30ec\u30fc\u30c8\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30af\u30ec\u30fc\u30c8\u306f\u3001.env\u30d5\u30a1\u30a4\u30eb\u3067\u5909\u6570\u3092\u5b9a\u7fa9\u3057\u3001\u305d\u308c\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u6e21\u3057\u3001\u3055\u3089\u306b\u30d7\u30ed\u30bb\u30b9\u306b\u6e21\u3059\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p> <ol> <li>\u3053\u3053\u3067\u3001\u30a2\u30d7\u30ea\u3067\u306f\u306a\u304f\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u3001Diesel\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3053\u308c\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>cargo install diesel_cli --no-default-features --features postgres\n</code></pre> <ol> <li>\u6b21\u306b\u3001\u74b0\u5883DATABASE_URL URL\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30fb\u30b3\u30de\u30f3\u30c9\u304c\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</li> </ol> <pre><code>$ echo DATABASE_URL=postgres://username:password@localhost/to_do &gt; .env\n</code></pre> <p>\u5148\u306eURL\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u8868\u8a18\u3057\u3066\u3044\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u81ea\u5206\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u4e0a\u3067\u52d5\u4f5c\u3057\u3066\u304a\u308a\u3001localhost\u3068\u8868\u8a18\u3055\u308c\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306fto_do\u3068\u547c\u3070\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30eb\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u51fa\u529b\u3059\u308b.env\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002</p> <pre><code>DATABASE_URL=postgres://username:password@localhost/to_do\n</code></pre> <ol> <li>\u3053\u308c\u3067\u5909\u6570\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092\u958b\u59cb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002docker-compose up\u30b3\u30de\u30f3\u30c9\u3067\u3001docker-compose\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u3092\u7acb\u3061\u4e0a\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002</li> </ol> <pre><code>$ diesel setup\n</code></pre> <p>\u305d\u3057\u3066\u3001\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u30eb\u30fc\u30c8\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u9020\u306emigrations\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002</p> <pre><code>\u2500\u2500 migrations\n\u2502\u00a0\u00a0\u00a0\u2514\u2500\u2500 00000000000000_diesel_initial_setup\n\u2502\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 down.sql\n\u2502\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 up.sql\n</code></pre> <p>up.sql\u30d5\u30a1\u30a4\u30eb\u306f\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3055\u308c\u305f\u3068\u304d\u306b\u3001down.sql\u30d5\u30a1\u30a4\u30eb\u306f\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u30c0\u30a6\u30f3\u30b0\u30ec\u30fc\u30c9\u3055\u308c\u305f\u3068\u304d\u306b\u767a\u884c\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002</p> <ol> <li>\u3055\u3066\u3001ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u751f\u6210\u3059\u308b\u3088\u3046\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u547d\u4ee4\u3059\u308b\u3053\u3068\u3067\u53ef\u80fd\u3067\u3059\u3002</li> </ol> <pre><code>$ diesel migration generate create_to_do_items\n</code></pre> <p>\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5370\u5b57\u304c\u51fa\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>Creating migrations/2022-04-23-201747_create_to_do_items/up.sql\nCreating migrations/2022-04-23-201747_create_to_do_items/down.sql\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308a\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>\u251c\u2500\u2500 migrations\n\u2502\u00a0\u00a0\u00a0\u251c\u2500\u2500 00000000000000_diesel_initial_setup\n\u2502\u00a0\u00a0\u00a0\u2502\u00a0\u00a0\u00a0\u251c\u2500\u2500 down.sql\n\u2502\u00a0\u00a0\u00a0\u2502\u00a0\u00a0\u00a0\u2514\u2500\u2500 up.sql\n\u2502\u00a0\u00a0\u00a0\u2514\u2500\u2500 2022-04-23-201747_create_to_do_items\n\u2502\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 down.sql\n\u2502\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 up.sql\n</code></pre> <p>\u30c7\u30a3\u30fc\u30bc\u30eb\u30af\u30ec\u30fc\u30c8\u3067\u306f\u3001\u72ec\u81ea\u306eSQL\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001\u984d\u9762\u4e0a\u306f\u4e0d\u5e78\u306b\u601d\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u5f37\u5236\u7684\u306b\u826f\u3044\u7fd2\u6163\u3067\u3059\u3002crate\u304c\u81ea\u52d5\u7684\u306bSQL\u3092\u66f8\u304f\u3088\u3046\u306b\u3059\u308b\u306e\u306f\u7c21\u5358\u3067\u3059\u304c\u3001\u3053\u308c\u306f\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u7d50\u5408\u3055\u305b\u308b\u3082\u306e\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001\u304b\u3064\u3066\u79c1\u306f\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u30b7\u30b9\u30c6\u30e0\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u306b\u53d6\u308a\u7d44\u3093\u3067\u3044\u305f\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u79c1\u304c\u62b1\u3048\u3066\u3044\u305f\u554f\u984c\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u3059\u3079\u3066Python\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u7ba1\u7406\u3057\u3066\u3044\u305f\u3053\u3068\u3067\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u79c1\u306f\u30b5\u30fc\u30d0\u30fc\u306e\u30b3\u30fc\u30c9\u3092\u5909\u66f4\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3057\u305f\u3002\u79c1\u304c\u30b5\u30fc\u30d0\u30fc\u3092Python\u304b\u3089Rust\u306b\u5909\u3048\u3088\u3046\u3068\u3057\u305f\u3053\u3068\u3092\u805e\u3044\u3066\u3082\u3001\u7686\u3055\u3093\u306f\u9a5a\u304b\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u3057\u304b\u3057\u3001\u79fb\u884c\u306fPython\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u3088\u3063\u3066\u81ea\u52d5\u751f\u6210\u3055\u308c\u305f\u305f\u3081\u3001\u79c1\u306f\u3001\u4eca\u65e5\u306b\u81f3\u308b\u307e\u3067\u3001\u65b0\u3057\u3044\u30ea\u30ea\u30fc\u30b9\u304c\u884c\u308f\u308c\u305f\u3068\u304d\u306b\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u30d8\u30eb\u30d1\u30fcDocker\u30b3\u30f3\u30c6\u30ca\u3092\u69cb\u7bc9\u3057\u3001\u69cb\u7bc9\u6642\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30b9\u30ad\u30fc\u30de\u3092Rust\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30b3\u30d4\u30fc\u3059\u308b\u51e6\u7406\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u9762\u5012\u306a\u3053\u3068\u3067\u3059\u3002\u3053\u308c\u306f\u307e\u305f\u3001\u79c1\u304c\u91d1\u878d\u6280\u8853\u306e\u7814\u7a76\u958b\u767a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30a8\u30f3\u30b8\u30cb\u30a2\u3060\u3063\u305f\u3068\u304d\u306b\u3001\u306a\u305c\u3059\u3079\u3066\u306eSQL\u3092\u624b\u52d5\u3067\u66f8\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u304b\u3063\u305f\u304b\u3092\u79c1\u306b\u6b63\u5f53\u5316\u3059\u308b\u3082\u306e\u3067\u3057\u305f\u3002</p> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u306f\u5225\u306e\u3082\u306e\u3067\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u4e21\u8005\u3092\u9694\u96e2\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u3001SQL\u3092\u624b\u52d5\u3067\u66f8\u304f\u3053\u3068\u304c\u969c\u5bb3\u306b\u306a\u308b\u3068\u306f\u8003\u3048\u307e\u305b\u3093\u3002\u5c06\u6765\u7684\u306b\u982d\u75db\u306e\u7a2e\u306b\u306a\u3089\u306a\u3044\u3088\u3046\u306a\u826f\u3044\u30b9\u30ad\u30eb\u3092\u5b66\u3093\u3067\u3044\u308b\u306e\u3060\u304b\u3089\u3001\u53d7\u3051\u5165\u308c\u3088\u3046\u30021\u3064\u306e\u30c4\u30fc\u30eb\u3092\u7121\u7406\u306b\u4f7f\u3046\u306e\u3067\u306f\u306a\u304f\u3001\u9069\u5207\u306a\u4ed5\u4e8b\u306b\u9069\u5207\u306a\u30c4\u30fc\u30eb\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u3092\u5fd8\u308c\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002create to-do items migrations \u30d5\u30a9\u30eb\u30c0\u3067\u3001up.sql \u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e SQL \u30a8\u30f3\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u3066\u3001to_do \u30c6\u30fc\u30d6\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>CREATE TABLE to_do (\nid SERIAL PRIMARY KEY,\ntitle VARCHAR NOT NULL,\nstatus VARCHAR NOT NULL,\ndate timestamp NOT NULL DEFAULT NOW()\n)\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30a2\u30a4\u30c6\u30e0\u306eid\u304c\u3042\u308a\u3001\u3053\u308c\u306f\u4e00\u610f\u3067\u3042\u308b\u3002\u305d\u3057\u3066\u3001\u30bf\u30a4\u30c8\u30eb\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001ToDo\u9805\u76ee\u304c\u30c6\u30fc\u30d6\u30eb\u306b\u633f\u5165\u3055\u308c\u305f\u73fe\u5728\u306e\u6642\u523b\u3092\u6301\u3064\u65e5\u4ed8\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u3001CREATE TABLE\u30b3\u30de\u30f3\u30c9\u306b\u307e\u3068\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002down.sql\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u6b21\u306eSQL\u30b3\u30de\u30f3\u30c9\u3067\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u30c0\u30a6\u30f3\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u5834\u5408\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u524a\u9664\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>DROP TABLE to_do\n</code></pre> <p>\u3055\u3066\u3001up.sql\u3068down.sql\u30d5\u30a1\u30a4\u30eb\u306eSQL\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u305f\u306e\u3067\u3001\u3053\u306e\u30b3\u30fc\u30c9\u304c\u4f55\u3092\u3059\u308b\u306e\u304b\u3092\u6b21\u306e\u56f3\u3067\u8aac\u660e\u3057\u307e\u3059\u3002</p> <p>\u56f36.4 \u300cup.sql\u3068down.sql\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u52b9\u679c</p> <ol> <li>\u3053\u308c\u3067\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u6e96\u5099\u304c\u6574\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u30b3\u30de\u30f3\u30c9\u3067\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> </ol> <pre><code>$ diesel migration run\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001to_do\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u6642\u306b\u306f\u3001SQL\u3067\u7570\u306a\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u30bf\u30a4\u30d7\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u4fee\u6b63\u3059\u308b\u306b\u306f\u3001up.sql\u3068down.sql\u30d5\u30a1\u30a4\u30eb\u306eSQL\u3092\u5909\u66f4\u3057\u3001\u6b21\u306eredo\u30bf\u30fc\u30df\u30ca\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <pre><code>$ diesel migration redo\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001down.sql\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3057\u305f\u5f8c\u3001up.sql\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <ol> <li>\u6b21\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9Docker\u30b3\u30f3\u30c6\u30ca\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u5b9a\u7fa9\u3057\u305f\u6b63\u3057\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6301\u3064to_do\u30c6\u30fc\u30d6\u30eb\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u3042\u308b\u3053\u3068\u3092\u691c\u67fb\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9Docker\u30b3\u30f3\u30c6\u30ca\u4e0a\u3067\u76f4\u63a5\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u53ef\u80fd\u3067\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u540dusername\u3067\u30b3\u30f3\u30c6\u30ca\u306b\u5165\u308a\u3001\u4ee5\u4e0b\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066to_do\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30dd\u30a4\u30f3\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>$ docker exec -it 5fdeda6cfe43 psql -U username to_do\n</code></pre> <p>\u6ce8\u610f\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u306f\u3001\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u79c1\u306e\u30b3\u30f3\u30c6\u30caID\u306f5fdeda6cfe43\u3067\u3059\u304c\u3001\u3042\u306a\u305f\u306e\u30b3\u30f3\u30c6\u30caID\u306f\u7570\u306a\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u6b63\u3057\u3044\u30b3\u30f3\u30c6\u30caID\u3092\u5165\u529b\u3057\u306a\u3044\u3068\u3001\u6b63\u3057\u3044\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u6b63\u3057\u3044\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u305f\u30b7\u30a7\u30eb\u30fb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>to_do=#\n</code></pre> <p>\u5148\u307b\u3069\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u5f8c\u3001\"\u02f6\u203e\u203e\u203e\"\u3068\u5165\u529b\u3059\u308b\u3068\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u901a\u5e38\u3001to_do\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30e6\u30fc\u30b6\u30fc\u540duser\u3067\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3068\u3044\u3046\u6587\u3067\u793a\u3055\u308c\u308b\u3002</p> <pre><code>Schema |\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Name\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|\u00a0\u00a0\u00a0Type\u00a0\u00a0\u00a0|\u00a0\u00a0Owner\u00a0\u00a0 \n--------+----------------------------+----------+----------\n\u00a0public | __diesel_schema_migrations | table\u00a0\u00a0\u00a0\u00a0| username\n\u00a0public | to_do\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|\u00a0table\u00a0\u00a0\u00a0\u00a0| username\n\u00a0public | to_do_id_seq\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|\u00a0sequence\u00a0| username\n</code></pre> <p>\u5148\u306e\u8868\u304b\u3089\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u79fb\u884c\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8a18\u9332\u3059\u308b\u305f\u3081\u306emigrations\u30c6\u30fc\u30d6\u30eb\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u3002</p> <ol> <li>\u307e\u305f\u3001to_do\u30c6\u30fc\u30d6\u30eb\u3068to_do\u30a2\u30a4\u30c6\u30e0ID\u306e\u30b7\u30fc\u30b1\u30f3\u30b9\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30b9\u30ad\u30fc\u30de\u3092\u8abf\u3079\u308b\u306b\u306f\u3001\" \\d+ to_do \"\u3068\u5165\u529b\u3059\u308c\u3070\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u4ee5\u4e0b\u306e\u30b9\u30ad\u30fc\u30de\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</li> </ol> <pre><code>Table \"public.to_do\"\n Column |            Type             | Collation |\n--------+-----------------------------+-----------+\n id     | integer                     |           |\n title  | character varying           |           |\n status | character varying           |           |\n date   | timestamp without time zone |           |\n\n| Nullable |              Default              | Storage  |\n+----------+-----------------------------------+----------+\n| not null | nextval('to_do_id_seq'::regclass) | plain    |             \n| not null |                                   | extended |             \n| not null |                                   | extended |           \n| not null | now()                             | plain    |            \nIndexes:\n    \"to_do_pkey\" PRIMARY KEY, btree (id)\n</code></pre> <p>\u5148\u307b\u3069\u306e\u8868\u3067\u3001\u30b9\u30ad\u30fc\u30de\u304c\u8a2d\u8a08\u901a\u308a\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u65e5\u4ed8\u306e\u5217\u3067\u3082\u3046\u5c11\u3057\u60c5\u5831\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u3001ToDo\u9805\u76ee\u304c\u4f5c\u6210\u3055\u308c\u305f\u6642\u523b\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3053\u3068\u304c\u660e\u78ba\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u79fb\u884c\u304c\u3046\u307e\u304f\u3044\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u79fb\u884c\u304c\u3069\u306e\u3088\u3046\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u8868\u793a\u3055\u308c\u308b\u304b\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u3087\u3046\u3002</p> <ol> <li>\u6b21\u306eSQL\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001migrations\u30c6\u30fc\u30d6\u30eb\u3092\u691c\u67fb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>SELECT * FROM\u00a0\u00a0__diesel_schema_migrations;\n</code></pre> <p>\u5148\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u8868\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002</p> <pre><code>\u00a0\u00a0\u00a0\u00a0version\u00a0\u00a0\u00a0\u00a0\u00a0|\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0run_on\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\n----------------+----------------------------\n\u00a000000000000000 | 2022-04-25 23:10:07.774008\n\u00a020220424171018 | 2022-04-25 23:29:55.167845\n</code></pre> <p>\u3053\u306e\u3088\u3046\u306b\u3001\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u66f4\u65b0\u3057\u305f\u5f8c\u306b\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u306e\u3092\u5fd8\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u304c\u3042\u308b\u305f\u3081\u3001\u3053\u308c\u3089\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306f\u30c7\u30d0\u30c3\u30b0\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002\u3055\u3089\u306b\u8a73\u3057\u304f\u8abf\u3079\u308b\u305f\u3081\u306b\u3001Docker\u30b3\u30f3\u30c6\u30ca\u306e\u5916\u3067\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u524d\u56de\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5143\u306b\u623b\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>$ diesel migration revert\n</code></pre> <p>\u305d\u306e\u5f8c\u3001\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\u304c\u5b9f\u884c\u3055\u308c\u305f\u3053\u3068\u3092\u77e5\u3089\u305b\u308b\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u5f97\u3089\u308c\u307e\u3057\u305f\u3002</p> <pre><code>Rolling back migration 2022-04-24-171018_create_to_do_items\n</code></pre> <p>\u3053\u308c\u3067\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\u3055\u308c\u305f\u306e\u3067\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>\u00a0\u00a0\u00a0\u00a0version\u00a0\u00a0\u00a0\u00a0\u00a0|\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0run_on\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \n----------------+----------------------------\n\u00a000000000000000 | 2022-04-25 23:10:07.774008\n</code></pre> <p>\u5148\u306e\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u3067\u306f\u3001\u6700\u5f8c\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u524a\u9664\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001migrations\u30c6\u30fc\u30d6\u30eb\u306f\u30ed\u30b0\u3067\u306f\u306a\u3044\u3053\u3068\u304c\u63a8\u6e2c\u3067\u304d\u307e\u3059\u3002\u73fe\u5728\u30a2\u30af\u30c6\u30a3\u30d6\u306a\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u8de1\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u8ffd\u8de1\u306f\u3001\u30c7\u30a3\u30fc\u30bc\u30eb\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u3001\u6b63\u3057\u3044\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u52a9\u3051\u3068\u306a\u308b\u3002  </p> <p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001Docker\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306b\u3001Diesel\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\u305d\u3057\u3066\u3001\u74b0\u5883\u30d5\u30a1\u30a4\u30eb\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306eURL\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\u6b21\u306b\u3001\u3044\u304f\u3064\u304b\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u521d\u671f\u5316\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\u3055\u3089\u306b\u3001Docker\u30b3\u30f3\u30c6\u30ca\u306b\u76f4\u63a5\u63a5\u7d9a\u3057\u3001\u305d\u3053\u3067\u3055\u307e\u3056\u307e\u306a\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u63a2\u7d22\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u308c\u3067\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u3042\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u5b8c\u5168\u306b\u5bfe\u8a71\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001Rust\u30a2\u30d7\u30ea\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u5bfe\u8a71\u3067\u304d\u308b\u3088\u3046\u306b\u3001ToDo\u9805\u76ee\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30e2\u30c7\u30eb\u306e\u69cb\u7bc9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/InsertingIntoTheDatabase/","title":"6.5 - \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u633f\u5165","text":""},{"location":"6_DataPersistenceWithPostgreSQL/InsertingIntoTheDatabase/#_1","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u633f\u5165","text":"<p>\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3059\u308b\u30d3\u30e5\u30fc\u3092\u69cb\u7bc9\u3057\u3066\u4f5c\u6210\u3057\u307e\u3059\u3002ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u306b\u95a2\u3059\u308b\u30eb\u30fc\u30eb\u3092\u601d\u3044\u51fa\u3059\u3068\u3001\u91cd\u8907\u3057\u305fToDo\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3057\u305f\u304f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u4e00\u610f\u5236\u7d04\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u4eca\u306e\u3068\u3053\u308d\u3001\u7269\u4e8b\u3092\u5358\u7d14\u306b\u3057\u3066\u304a\u304f\u306e\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u305d\u306e\u4ee3\u308f\u308a\u306b\u3001\u30d3\u30e5\u30fc\u306b\u6e21\u3055\u308c\u308b\u30bf\u30a4\u30c8\u30eb\u306b\u57fa\u3065\u304f\u30d5\u30a3\u30eb\u30bf\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30d5\u30a9\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30c1\u30a7\u30c3\u30af\u3057\u3001\u7d50\u679c\u304c\u8fd4\u3063\u3066\u3053\u306a\u3051\u308c\u3070\u3001\u65b0\u3057\u3044ToDo\u9805\u76ee\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001views/to_do/create.rs\u30d5\u30a1\u30a4\u30eb\u306e\u30b3\u30fc\u30c9\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\u307e\u305a\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u306b\u3042\u308b\u3088\u3046\u306b\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u518d\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code>use crate::diesel;\nuse diesel::prelude::*;\nuse actix_web::HttpResponse;\nuse actix_web::HttpRequest;\nuse crate::json_serialization::to_do_items::ToDoItems;\nuse crate::database::establish_connection;\nuse crate::models::item::new_item::NewItem;\nuse crate::models::item::item::Item;\nuse crate::schema::to_do;\n</code></pre> <p>\u524d\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u524d\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8aac\u660e\u3057\u305f\u3088\u3046\u306b\u3001\u30af\u30a8\u30ea\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u30c7\u30a3\u30fc\u30bc\u30eb\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u6b21\u306b\u3001\u30d3\u30e5\u30fc\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3057\u3001\u7d50\u679c\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306aactix-web\u69cb\u9020\u4f53\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u3084\u308a\u53d6\u308a\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u69cb\u9020\u4f53\u3084\u95a2\u6570\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3059\u3079\u3066\u304c\u63c3\u3063\u305f\u306e\u3067\u3001\u30d3\u30e5\u30fc\u306e\u4f5c\u6210\u306b\u53d6\u308a\u639b\u304b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002pub async fn create\u95a2\u6570\u5185\u3067\u306f\u3001\u307e\u305a\u30ea\u30af\u30a8\u30b9\u30c8\u304b\u3089ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30bf\u30a4\u30c8\u30eb\u306e\u53c2\u7167\u30922\u3064\u53d6\u5f97\u3057\u307e\u3059\u3002</p> <pre><code>pub async fn create(req: HttpRequest) -&gt; HttpResponse {\nlet title: String = req.match_info().get(\"title\"\n).unwrap().to_string();\n. . .\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067URL\u304b\u3089\u30bf\u30a4\u30c8\u30eb\u3092\u62bd\u51fa\u3057\u305f\u3089\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u306b\u3042\u308b\u3088\u3046\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u78ba\u7acb\u3057\u3001\u305d\u306e\u63a5\u7d9a\u3092\u4f7f\u7528\u3057\u3066\u30c6\u30fc\u30d6\u30eb\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30fc\u30eb\u3092\u884c\u3046\u306e\u3067\u3059\u3002</p> <pre><code>let connection = establish_connection();\nlet items = to_do::table\n.filter(to_do::columns::title.eq(&amp;title.as_str()))\n.order(to_do::columns::id.asc())\n.load::&lt;Item&gt;(&amp;connection)\n.unwrap();\n</code></pre> <p>\u524d\u306e\u30b3\u30fc\u30c9\u3092\u898b\u3066\u308f\u304b\u308b\u3088\u3046\u306b\u3001\u30af\u30a8\u30ea\u30fc\u306f\u524d\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u30af\u30a8\u30ea\u30fc\u3068\u307b\u3068\u3093\u3069\u540c\u3058\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u30bf\u30a4\u30c8\u30eb\u30ab\u30e9\u30e0\u3092\u53c2\u7167\u3059\u308b\u30d5\u30a3\u30eb\u30bf\u30fc\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u3042\u308a\u3001\u30bf\u30a4\u30c8\u30eb\u3068\u540c\u3058\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4f5c\u6210\u3055\u308c\u308b\u30a2\u30a4\u30c6\u30e0\u304c\u672c\u5f53\u306b\u65b0\u3057\u3044\u3082\u306e\u3067\u3042\u308c\u3070\u3001\u30a2\u30a4\u30c6\u30e0\u306f\u4f5c\u6210\u3055\u308c\u306a\u3044\u306e\u3067\u3001\u7d50\u679c\u306e\u9577\u3055\u306f\u30bc\u30ed\u306b\u306a\u308a\u307e\u3059\u3002\u7d9a\u3044\u3066\u3001\u9577\u3055\u304c\u30bc\u30ed\u306e\u5834\u5408\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u306b\u898b\u3089\u308c\u308b\u3088\u3046\u306b\u3001NewItem\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3057\u3001\u305d\u308c\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3057\u3066\u3001\u95a2\u6570\u306e\u6700\u5f8c\u306b\u72b6\u614b\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <pre><code>if items.len() == 0 {\nlet new_post = NewItem::new(title);\nlet _ = diesel::insert_into(to_do::table).values(&amp;new_post)\n.execute(&amp;connection);\n}\nreturn HttpResponse::Ok().json(ToDoItems::get_state())\n</code></pre> <p>Diesel\u306b\u306finsert\u95a2\u6570\u304c\u3042\u308a\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u53d7\u3051\u53d6\u308a\u3001\u69cb\u7bc9\u3057\u305f\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u5207\u308a\u66ff\u3048\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u306f\u4e0d\u8981\u306a\u306e\u3067\u524a\u9664\u3057\u307e\u3059\u3002</p> <pre><code>use serde_json::value::Value;\nuse serde_json::Map;\nuse crate::state::read_file;\nuse crate::processes::process_input;\nuse crate::to_do::{to_do_factory, enums::TaskStatus};\n</code></pre> <p>\u3055\u3066\u3001\u3053\u306e\u30a2\u30d7\u30ea\u3092\u4f7f\u3063\u3066\u3001ToDo\u9805\u76ee\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u9805\u76ee\u304c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001Create\u3068Get State\u306e\u6a5f\u80fd\u304c\u52d5\u4f5c\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u9023\u643a\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u554f\u984c\u304c\u3042\u308b\u5834\u5408\u3001\u3088\u304f\u3042\u308b\u9593\u9055\u3044\u306f docker-compose \u3092\u8d77\u52d5\u3059\u308b\u306e\u3092\u5fd8\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u3067\u3059\u3002(\u6ce8: \u305d\u3046\u3057\u306a\u3044\u3068\u3001\u30a2\u30d7\u30ea\u304c\u8d77\u52d5\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093)\u3053\u306e\u4f5c\u696d\u306f\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3057\u304b\u3057\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092DONE\u306b\u7de8\u96c6\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4e0a\u306e\u30c7\u30fc\u30bf\u3092\u7de8\u96c6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/InsertingIntoTheDatabase/#_2","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u7de8\u96c6\u3059\u308b","text":"<p>\u30c7\u30fc\u30bf\u3092\u7de8\u96c6\u3059\u308b\u5834\u5408\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u53d6\u5f97\u3057\u3001Diesel\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u547c\u3073\u51fa\u3057\u95a2\u6570\u3067\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u7de8\u96c6\u95a2\u6570\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u9023\u643a\u3055\u305b\u308b\u305f\u3081\u306b\u3001views/to_do/edit.rs\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30d3\u30e5\u30fc\u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u306b\u3042\u308b\u3088\u3046\u306b\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u3081\u307e\u3059\u3002</p> <pre><code>use crate::diesel;\nuse diesel::prelude::*;\nuse actix_web::{web, HttpResponse};\nuse crate::json_serialization::{to_do_item::ToDoItem, to_do_items::ToDoItems};\nuse crate::jwt::JwToken;\nuse crate::database::establish_connection;\nuse crate::schema::to_do;\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3092\u898b\u3066\u308f\u304b\u308b\u3088\u3046\u306b\u3001\u3042\u308b\u30d1\u30bf\u30fc\u30f3\u304c\u6d6e\u304b\u3073\u4e0a\u304c\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u30d1\u30bf\u30fc\u30f3\u3068\u306f\u3001\u8a8d\u8a3c\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3001\u30b9\u30ad\u30fc\u30de\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001\u305d\u306e\u5f8c\u3001\u671b\u3080\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u95a2\u6570\u3092\u69cb\u7bc9\u3059\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\u30a4\u30f3\u30dd\u30fc\u30c8\u3084\u305d\u306e\u610f\u5473\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u524d\u306b\u3082\u8aac\u660e\u3057\u307e\u3057\u305f\u3002\u4eca\u56de\u306e\u7de8\u96c6\u30d3\u30e5\u30fc\u3067\u306f\u3001\u30bf\u30a4\u30c8\u30eb\u3078\u306e\u53c2\u7167\u30921\u3064\u3060\u3051\u53d6\u5f97\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u304c\u3001\u3053\u308c\u306f\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <pre><code>pub async fn edit(to_do_item: web::Json&lt;ToDoItem&gt;, token: JwToken) -&gt; HttpResponse {\nlet connection = establish_connection();\nlet results = to_do::table\n.filter(to_do::columns::title.eq(&amp;to_do_item.title));\nlet _ = diesel::update(results)\n.set(to_do::columns::status.eq(\"DONE\"))\n.execute(&amp;connection);\nreturn HttpResponse::Ok().json(ToDoItems::get_state())\n}\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u30d5\u30a3\u30eb\u30bf\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u7d50\u679c\u5909\u6570\u304cUpdateStatement\u69cb\u9020\u4f53\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3053\u306eUpdateStatement\u69cb\u9020\u4f53\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30a2\u30a4\u30c6\u30e0\u3092DONE\u306b\u66f4\u65b0\u3057\u3066\u3044\u307e\u3059\u3002JSON\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u3001views/to_do/edit.rs\u30d5\u30a1\u30a4\u30eb\u306e\u4ee5\u4e0b\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use crate::processes::process_input;\nuse crate::to_do::{to_do_factory, enums::TaskStatus};\nuse serde_json::value::Value;\nuse serde_json::Map;\nuse crate::state::read_file;\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001update\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u53d6\u5f97\u3057\u305f\u7d50\u679c\u3067\u6e80\u305f\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001status\u30ab\u30e9\u30e0\u3092Done\u306b\u8a2d\u5b9a\u3057\u3001\u63a5\u7d9a\u306e\u53c2\u7167\u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001ToDo\u9805\u76ee\u3092\u7de8\u96c6\u3057\u3066\u3001\u5b8c\u4e86\u30ea\u30b9\u30c8\u306b\u79fb\u52d5\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u524a\u9664\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001\u6700\u7d42\u7684\u306a\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3001\u30a2\u30d7\u30ea\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3055\u308c\u308b\u3088\u3046\u306b\u5b8c\u5168\u306b\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u305d\u3046\u3067\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/InsertingIntoTheDatabase/#_3","title":"\u30c7\u30fc\u30bf\u3092\u524a\u9664\u3059\u308b","text":"<p>\u30c7\u30fc\u30bf\u306e\u524a\u9664\u306b\u3064\u3044\u3066\u306f\u3001\u524d\u7bc0\u306e\u7de8\u96c6\u6642\u3068\u540c\u3058\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u3068\u308a\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3057\u3001Diesel\u306edelete\u95a2\u6570\u306b\u6e21\u3057\u3066\u3001\u305d\u306e\u72b6\u614b\u3092\u8fd4\u3059\u306e\u3067\u3059\u3002\u4eca\u306f\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u6163\u308c\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3067\u3001views/to_do/delete.rs\u30d5\u30a1\u30a4\u30eb\u306b\u81ea\u5206\u3067\u5b9f\u88c5\u3057\u3066\u307f\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u30a4\u30f3\u30dd\u30fc\u30c8\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u4e0e\u3048\u3066\u3044\u307e\u3059\u3002</p> <pre><code>use crate::diesel;\nuse diesel::prelude::*;\nuse actix_web::{web, HttpResponse};\nuse crate::database::establish_connection;\nuse crate::schema::to_do;\nuse crate::json_serialization::{to_do_item::ToDoItem, to_do_items::ToDoItems};\nuse crate::jwt::JwToken;\nuse crate::models::item::item::Item;\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001Diesel\u306e\u30de\u30af\u30ed\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3001Diesel\u306e\u30af\u30ec\u30fc\u30c8\u3068prelude\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002prelude\u304c\u306a\u3051\u308c\u3070\u3001\u30b9\u30ad\u30fc\u30de\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u6b21\u306b\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u305f\u3081\u306b\u5fc5\u8981\u306aActix Web\u69cb\u9020\u4f53\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u6b21\u306b\u3001ToDo\u9805\u76ee\u30c7\u30fc\u30bf\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306b\u69cb\u7bc9\u3057\u305f\u30af\u30ec\u30fc\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002delete\u95a2\u6570\u306b\u3064\u3044\u3066\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <pre><code>pub async fn delete(to_do_item: web::Json&lt;ToDoItem&gt;, token: JwToken) -&gt; HttpResponse {\nlet connection = establish_connection();\nlet items = to_do::table\n.filter(to_do::columns::title.eq(&amp;to_do_item.title.as_str()))\n.order(to_do::columns::id.asc())\n.load::&lt;Item&gt;(&amp;connection)\n.unwrap();\nlet _ = diesel::delete(&amp;items[0]).execute(&amp;connection);\nreturn HttpResponse::Ok().json(ToDoItems::get_state())\n}\n</code></pre> <p>\u54c1\u8cea\u7ba1\u7406\u3092\u884c\u3046\u305f\u3081\u306b\u3001\u6b21\u306e\u3088\u3046\u306a\u30b9\u30c6\u30c3\u30d7\u3092\u8e0f\u3093\u3067\u307f\u307e\u3057\u3087\u3046\u3002</p> <ol> <li>\u30c6\u30ad\u30b9\u30c8\u5165\u529b\u6b04\u306b\u300c\u30ab\u30cc\u30fc\u3092\u8cb7\u3046\u300d\u3068\u5165\u529b\u3057\u3001\u300c\u4f5c\u6210\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002</li> <li>\u30c6\u30ad\u30b9\u30c8\u5165\u529b\u306b\u300c\u30c9\u30e9\u30b4\u30f3\u30dc\u30fc\u30c8\u30ec\u30fc\u30b9\u306b\u884c\u304f\u300d\u3068\u5165\u529b\u3057\u3001\u300c\u4f5c\u6210\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002</li> <li>\u30ab\u30cc\u30fc\u3092\u8cb7\u3046\u300d\u9805\u76ee\u306e\u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3059\u308b\u3068\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u308b\u306f\u305a\u3067\u3059\u3002</li> </ol> <p>\u56f36.6-\u671f\u5f85\u3055\u308c\u308b\u51fa\u529b</p> <p>\u5148\u307b\u3069\u306e\u56f3\u3067\u306f\u3001\u30ab\u30cc\u30fc\u306f\u8cb7\u3063\u305f\u3082\u306e\u306e\u3001\u307e\u3060\u30c9\u30e9\u30b4\u30f3\u30dc\u30fc\u30c8\u30ec\u30fc\u30b9\u306b\u306f\u884c\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u3057\u3066\u3001\u3053\u306e\u30a2\u30d7\u30ea\u306fPostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u9023\u52d5\u3057\u3066\u3044\u307e\u3059\u3002ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u3001\u7de8\u96c6\u3001\u524a\u9664\u304c\u53ef\u80fd\u3067\u3059\u3002\u524d\u306e\u7ae0\u3067\u5b9a\u7fa9\u3057\u305f\u69cb\u9020\u306e\u304a\u304b\u3052\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u305f\u3081\u306eJSON\u30d5\u30a1\u30a4\u30eb\u6a5f\u69cb\u3092\u5207\u308a\u6368\u3066\u308b\u306e\u306b\u3001\u591a\u304f\u306e\u4f5c\u696d\u3092\u5fc5\u8981\u3068\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3057\u3001\u8fd4\u3059\u305f\u3081\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306f\u3001\u3059\u3067\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u305f\u306e\u3067\u3059\u3002\u4eca\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u304c\u3042\u308b\u3053\u3068\u306b\u304a\u6c17\u3065\u304d\u3067\u3057\u3087\u3046\u304b\u3002</p> <pre><code>warning: function is never used: `read_file`\n--&gt; src/state.rs:17:8\n|\n17 | pub fn read_file(file_name: &amp;str) -&gt; Map&lt;String, Value&gt; {\n. . .\nwarning: function is never used: `process_pending`\n--&gt; src/processes.rs:18:4\n|\n18 | fn process_pending(item: Pending, command: String, state: &amp;Map&lt;String, Value&gt;) {\n</code></pre> <p>\u5148\u306e\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u306b\u3088\u308b\u3068\u3001src/state.rs\u30d5\u30a1\u30a4\u30eb\u3084src/processes.rs\u30d5\u30a1\u30a4\u30eb\u306f\u3082\u3046\u4f7f\u308f\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u4f7f\u308f\u308c\u306a\u304f\u306a\u3063\u305f\u306e\u306f\u3001src/database.rs\u30d5\u30a1\u30a4\u30eb\u304c\u3001\u5b9f\u969b\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f7f\u3063\u3066\u3001\u6c38\u7d9a\u7684\u306a\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u3001\u524a\u9664\u3001\u7de8\u96c6\u3092\u7ba1\u7406\u3057\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002\u307e\u305f\u3001Diesel Queryable\u304a\u3088\u3073Identifiable\u7279\u6027\u3092\u5b9f\u88c5\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 \u30e2\u30c7\u30eb\u69cb\u9020\u4f53\u3092\u4f7f\u7528\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u69cb\u9020\u4f53\u306b\u30c7\u30fc\u30bf\u3092\u52a0\u5de5\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001src/state.rs\u3068src/database.rs\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u4e0d\u8981\u306b\u306a\u3063\u305f\u306e\u3067\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001src/to_do/traits\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u4e0d\u8981\u306a\u306e\u3067\u3001\u3053\u3061\u3089\u3082\u524a\u9664\u3067\u304d\u307e\u3059\u3002\u6b21\u306b\u3001traits\u3078\u306e\u53c2\u7167\u3092\u3059\u3079\u3066\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u53c2\u7167\u3092\u524a\u9664\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001src/to_do/mod.rs\u30d5\u30a1\u30a4\u30eb\u304b\u3089trait\u3092\u524a\u9664\u3057\u3001to_do\u30e2\u30b8\u30e5\u30fc\u30eb\u306estructs\u3067trait\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3068\u5b9f\u88c5\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001src/to_do/structs/pending.rs\u30d5\u30a1\u30a4\u30eb\u304b\u3089trait\u3092\u524a\u9664\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306eimport\u3092\u524a\u9664\u3059\u308c\u3070\u3088\u3044\u3002</p> <pre><code>use super::super::traits::get::Get;\nuse super::super::traits::edit::Edit;\nuse super::super::traits::create::Create;\n</code></pre> <p>\u305d\u3057\u3066\u3001\u3053\u308c\u3089\u306e\u7279\u5fb4\u306e\u3046\u3061\u3001\u4ee5\u4e0b\u306e\u5b9f\u88c5\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>impl Get for Pending {}\nimpl Edit for Pending {}\nimpl Create for Pending {}\n</code></pre> <p>\u307e\u305f\u3001src/to_do/structs/done.rs\u30d5\u30a1\u30a4\u30eb\u306etrait\u3092\u524a\u9664\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u79c1\u305f\u3061\u306f\u4eca\u3001\u3046\u307e\u304f\u69cb\u9020\u5316\u3055\u308c\u305f\u5b64\u7acb\u3057\u305f\u30b3\u30fc\u30c9\u306e\u6210\u679c\u3092\u8a55\u4fa1\u3059\u308b\u6a5f\u4f1a\u3092\u5f97\u307e\u3057\u305f\u3002\u3044\u304f\u3064\u304b\u306e\u30d5\u30a1\u30a4\u30eb\u3068trait\u3092\u76f4\u63a5\u524a\u9664\u3059\u308b\u3053\u3068\u3067\u3001\u65e2\u5b58\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30e1\u30bd\u30c3\u30c9\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u6c38\u7d9a\u7684\u306a\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u305f\u3081\u306e\u3055\u307e\u3056\u307e\u306a\u30e1\u30bd\u30c3\u30c9\u3092\u7c21\u5358\u306b\u7d44\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002\u305d\u3057\u3066\u3001trait\u306e\u5b9f\u88c5\u3092\u524a\u9664\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u3053\u308c\u3060\u3051\u3067\u3059\u3002\u95a2\u6570\u3092\u8abf\u3079\u305f\u308a\u3001\u30b3\u30fc\u30c9\u884c\u3092\u5909\u66f4\u3057\u305f\u308a\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u8aad\u307f\u53d6\u308a\u306e\u6a5f\u80fd\u306ftrait\u306e\u4e2d\u306b\u3042\u3063\u305f\u306e\u3067\u3001trait\u306e\u5b9f\u88c5\u3092\u524a\u9664\u3059\u308b\u3060\u3051\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b8c\u5168\u306b\u5207\u308a\u96e2\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u306e\u3088\u3046\u306b\u30b3\u30fc\u30c9\u3092\u69cb\u9020\u5316\u3059\u308b\u3053\u3068\u306f\u3001\u5c06\u6765\u7684\u306b\u672c\u5f53\u306b\u6709\u76ca\u3067\u3059\u3002\u3053\u308c\u307e\u3067\u3001\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3084\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u306a\u3069\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3084\u5207\u308a\u66ff\u3048\u306e\u969b\u306b\u3001\u3042\u308b\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u5225\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u30b3\u30fc\u30c9\u3092\u5f15\u304d\u629c\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u304b\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002\u5206\u96e2\u3055\u308c\u305f\u30b3\u30fc\u30c9\u3092\u6301\u3064\u3053\u3068\u3067\u3001\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u304c\u3088\u308a\u7c21\u5358\u306b\u3001\u3088\u308a\u65e9\u304f\u3001\u3088\u308a\u9593\u9055\u3044\u306e\u306a\u3044\u3082\u306e\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u5b8c\u5168\u306b\u9023\u52d5\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u5b9f\u88c5\u3092\u6539\u5584\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u305d\u306e\u524d\u306b\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8a2d\u5b9a\u30b3\u30fc\u30c9\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/Summary/","title":"6.8 - \u307e\u3068\u3081","text":""},{"location":"6_DataPersistenceWithPostgreSQL/Summary/#_1","title":"\u307e\u3068\u3081","text":"<p>\u3053\u306e\u7ae0\u3067\u306f\u3001Docker\u3092\u4f7f\u3063\u3066\u3001\u30a2\u30d7\u30ea\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u3084\u308a\u3068\u308a\u3067\u304d\u308b\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u304c\u3067\u304d\u305f\u3089\u3001\u30b3\u30f3\u30c6\u30ca\u3084\u30a4\u30e1\u30fc\u30b8\u306e\u4e00\u89a7\u3092\u63a2\u7d22\u3057\u3066\u3001\u30b7\u30b9\u30c6\u30e0\u304c\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u304b\u3092\u70b9\u691c\u3057\u307e\u3057\u305f\u3002\u305d\u306e\u5f8c\u3001diesel crate\u3092\u4f7f\u7528\u3057\u3066\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\u3053\u306e\u5f8c\u3001Diesel\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001Rust\u30a2\u30d7\u30ea\u3068\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u306b\u76f4\u63a5\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9URL\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002</p> <p>\u305d\u3057\u3066\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u305f\u3068\u304d\u306b\u8d77\u52d5\u3059\u308bSQL\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9a\u7fa9\u3057\u3001\u9806\u756a\u306b\u5b9f\u884c\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u304c\u3059\u3079\u3066\u7d42\u308f\u308b\u3068\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u3092\u518d\u5ea6\u691c\u67fb\u3057\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u969b\u306b\u5b9f\u884c\u3055\u308c\u305f\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\u305d\u3057\u3066\u3001Rust\u3067\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3057\u3001API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u53d6\u5f97\u3001\u7de8\u96c6\u3001\u4f5c\u6210\u3001\u524a\u9664\u306e\u64cd\u4f5c\u3092\u884c\u3044\u3001ToDo\u9805\u76ee\u3092\u8ffd\u8de1\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002</p> <p>\u3053\u3053\u3067\u884c\u3063\u305f\u306e\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30fb\u30b9\u30c8\u30ec\u30fc\u30b8\u30fb\u30b7\u30b9\u30c6\u30e0\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3067\u3059\u3002\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u306e\u306bJSON\u30d5\u30a1\u30a4\u30eb\u306b\u4f9d\u5b58\u3057\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u3001\u672c\u756a\u306b\u4f7f\u3048\u308b\u30b7\u30b9\u30c6\u30e0\u306b\u4e00\u6b69\u8fd1\u3065\u3044\u305f\u306e\u3067\u3059\u3002\u3053\u308c\u3067\u3001\u5909\u66f4\u3001\u8cc7\u683c\u60c5\u5831/\u30a2\u30af\u30bb\u30b9\u3001\u30b9\u30ad\u30fc\u30de\u306e\u7ba1\u7406\u3092\u53ef\u80fd\u306b\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u7ba1\u7406\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u30b9\u30ad\u30eb\u304c\u8eab\u306b\u3064\u304d\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u30c7\u30fc\u30bf\u306e\u4f5c\u6210\u3001\u53d6\u5f97\u3001\u66f4\u65b0\u3001\u524a\u9664\u3092\u884c\u3046\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u3059\u308b\u57fa\u672c\u7684\u306a\u64cd\u4f5c\u3092\u3059\u3079\u3066\u5b9f\u884c\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3089\u306e\u30b9\u30ad\u30eb\u306f\u3001\u30e9\u30b9\u30c8\u30a6\u30a7\u30d6\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u884c\u3044\u305f\u3044\u4ed6\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u305d\u306e\u307e\u307e\u8ee2\u7528\u3067\u304d\u307e\u3059\u3002\u6b21\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u63a5\u7d9a\u30d7\u30fc\u30eb\u3067\u5236\u9650\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067\u3001\u65b0\u3057\u304f\u958b\u767a\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30b9\u30ad\u30eb\u3092\u5f37\u5316\u3057\u307e\u3057\u305f\u3002\u6700\u5f8c\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u69cb\u9020\u4f53\u306e\u5b9f\u88c5\u3092\u5bb9\u6613\u306b\u3059\u308b\u305f\u3081\u306b\u3001FromRequest trait\u3092\u5b9f\u88c5\u3057\u3001\u4ed6\u306e\u958b\u767a\u8005\u304c\u30d3\u30e5\u30fc\u306b\u69cb\u9020\u4f53\u3092\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u6e21\u3059\u3060\u3051\u3067\u3001\u63a5\u7d9a\u3092\u5b9f\u88c5\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u304c\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u3001\u30d3\u30e5\u30fc\u304c\u4fdd\u8b77\u3055\u308c\u307e\u3059\u3002  </p> <p>\u6b21\u306e\u7ae0\u3067\u306f\u3001\u3053\u308c\u3089\u306e\u30b9\u30ad\u30eb\u3092\u3082\u3068\u306b\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3092\u69cb\u7bc9\u3057\u3001\u30a2\u30d7\u30ea\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u969b\u306b\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u3068\u8a8d\u8a3c\u60c5\u5831\u306e\u78ba\u8a8d\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3001\u30d8\u30c3\u30c0\u30fc\u304b\u3089\u306e\u30c7\u30fc\u30bf\u62bd\u51fa\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u306e\u4fdd\u5b58\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u304cToDo\u30a2\u30a4\u30c6\u30e0\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306b\u306f\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p>"},{"location":"6_DataPersistenceWithPostgreSQL/TechnicalRequirements/","title":"6.1 - \u6280\u8853\u8981\u4ef6","text":""},{"location":"6_DataPersistenceWithPostgreSQL/TechnicalRequirements/#_1","title":"\u6280\u8853\u8981\u4ef6","text":"<p>\u3053\u306e\u7ae0\u3067\u306f\u3001Docker\u3092\u4f7f\u7528\u3057\u3066PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5b9a\u7fa9\u3057\u3001\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u306f\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u4e0a\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u5bfe\u8a71\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002Docker\u306f\u3001https://docs.docker.com/engine/install/ \u306e\u8aac\u660e\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u307e\u305f\u3001Docker\u30b3\u30f3\u30c6\u30ca\u3092\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u305f\u3081\u306b\u3001Docker\u306e\u4e0a\u3067docker-compose\u3092\u4f7f\u7528\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u3053\u308c\u306f\u3001https://docs.docker.com/compose/install/ \u306b\u3042\u308b\u6307\u793a\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u672c\u7ae0\u306e\u30b3\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u306f\u3001https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter06 \u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/","title":"7 - \u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u7ba1\u7406","text":""},{"location":"7_ManagingUserSessions/#_1","title":"\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u7ba1\u7406","text":"<p>\u3053\u306e\u6642\u70b9\u3067\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u306f\u3001\u30d3\u30e5\u30fc\u4e0a\u306e\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u3001\u9069\u5207\u306a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u30c7\u30fc\u30bf\u3092\u64cd\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u3092\u898b\u305f\u4eba\u306f\u8ab0\u3067\u3082\u30c7\u30fc\u30bf\u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u306f\u3001\u591a\u304f\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5fc5\u8981\u3068\u3059\u308b\u30bf\u30a4\u30d7\u306e\u30a2\u30d7\u30ea\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u4e00\u822c\u7684\u306aWeb\u958b\u767a\u306b\u304a\u3044\u3066\u7406\u89e3\u3057\u5b9f\u8df5\u3059\u308b\u3053\u3068\u304c\u91cd\u8981\u306a\u6982\u5ff5\u3067\u3059\u3002</p> <p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u3053\u306e\u30b7\u30b9\u30c6\u30e0\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u3067ToDo\u9805\u76ee\u3092\u5909\u66f4\u3059\u308b\u524d\u306b\u30ed\u30b0\u30a4\u30f3\u3092\u8981\u6c42\u3059\u308b\u3053\u3068\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u3082\u7ba1\u7406\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u9805\u76ee\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p> <ul> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u308a\u3001\u7279\u5b9a\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30e6\u30cb\u30fc\u30af\u306a\u5236\u7d04\u3092\u6301\u3064\u4ed6\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u306e\u95a2\u4fc2\u3092\u6301\u3064\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002</li> <li>\u30e6\u30fc\u30b6\u30fc\u3092\u8a8d\u8a3c\u3059\u308b</li> <li>\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u7ba1\u7406</li> <li>\u8a8d\u8a3c\u8981\u4ef6\u306e\u4e00\u6383</li> <li>\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u3092\u8a2d\u5b9a\u3059\u308b</li> <li>\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u8a8d\u8a3c\u3092\u8ffd\u52a0\u3059\u308b</li> </ul> <p>\u3053\u306e\u7ae0\u3092\u8aad\u3080\u3068\u3001Web\u30b5\u30fc\u30d0\u30fc\u3067\u306e\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u306e\u57fa\u672c\u3092\u7406\u89e3\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u3053\u306e\u8a8d\u8a3c\u3092Rust\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u5b9f\u88c5\u3057\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306eReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u8a8d\u8a3c\u60c5\u5831\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002\u307e\u305f\u3001\u672c\u7ae0\u3067\u53d6\u308a\u4e0a\u3052\u305f\u6982\u5ff5\u3068\u5b9f\u8df5\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u3067\u3001React Native\u3092\u4f7f\u3063\u305f\u30b9\u30de\u30db\u30a2\u30d7\u30ea\u3084\u3001React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092Electron\u3067\u30e9\u30c3\u30d4\u30f3\u30b0\u3057\u305fRust\u30b5\u30fc\u30d0\u30fc\u3084\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u8a8d\u8a3c\u3092\u7d44\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/AddingAuthenticationIntoOurFrontend/","title":"7.7 - \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u8a8d\u8a3c\u3092\u8ffd\u52a0\u3059\u308b","text":""},{"location":"7_ManagingUserSessions/AddingAuthenticationIntoOurFrontend/#_1","title":"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u8a8d\u8a3c\u3092\u8ffd\u52a0\u3059\u308b","text":"<p>\u30ed\u30b0\u30a4\u30f3\u6a5f\u80fd\u3092\u7d44\u307f\u8fbc\u307f\u307e\u3059\u3002\u307e\u305a\u3001src/components/LoginForm.js \u30d5\u30a1\u30a4\u30eb\u306b\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u3081\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</p> <pre><code>import React, {Component} from 'react';\nimport axios from 'axios';\nimport '../css/LoginForm.css';\n</code></pre> <p>\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305fCSS\u306e\u30b3\u30fc\u30c9\u306f\u3001\u672c\u7ae0\u306e\u4ed8\u9332\u3067\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u7e70\u308a\u8fd4\u3057\u306e\u30b3\u30fc\u30c9\u304c\u591a\u3044\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u5272\u611b\u3057\u307e\u3059\u3002\u307e\u305f\u3001GitHub\u306e\u30ec\u30dd\u304b\u3089CSS\u306e\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>class LoginForm extends Component {\nstate = {\nusername: \"\",\npassword: \"\",\n}\nsubmitLogin = (e) =&gt; {\n. . .\n}\nhandlePasswordChange = (e) =&gt; {\nthis.setState({password: e.target.value})\n}\nhandleUsernameChange = (e) =&gt; {\nthis.setState({username: e.target.value})\n}\nrender() {\n. . .\n}\n}\nexport default LoginForm;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a18\u9332\u3057\u3066\u304a\u308a\u3001\u5e38\u306b\u72b6\u614b\u3092\u66f4\u65b0\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u72b6\u614b\u304c\u66f4\u65b0\u3055\u308c\u308b\u3068\u3001render\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u308b\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306f\u5f37\u529b\u306a\u6a5f\u80fd\u3067\u3001\u597d\u304d\u306a\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u306e\u9577\u3055\u304c\u3042\u308b\u4e00\u5b9a\u306e\u9577\u3055\u3092\u8d85\u3048\u305f\u3089\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u8272\u3092\u5909\u66f4\u3057\u305f\u308a\u3001\u30dc\u30bf\u30f3\u3092\u524a\u9664\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u672c\u306e\u7bc4\u56f2\u5916\u306a\u306e\u3067\u3001\u79c1\u305f\u3061\u81ea\u8eab\u304c\u5287\u7684\u306a\u5909\u66f4\u3092\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3055\u3066\u3001\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u5b9a\u7fa9\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30ec\u30f3\u30c0\u30fc\u95a2\u6570\u304c\u4f55\u3092\u8fd4\u3059\u304b\u3092\u660e\u8a18\u3057\u307e\u3059\u3002</p> <pre><code>&lt;form className=\"login\" onSubmit={this.submitLogin}&gt;\n&lt;h1 className=\"login-title\"&gt;Login&lt;/h1&gt;\n&lt;input type=\"text\" className=\"login-input\"\nplaceholder=\"Username\"\nautoFocus onChange={this.handleUsernameChange}\nvalue={this.state.username} /&gt;\n&lt;input type=\"password\" className=\"login-input\"\nplaceholder=\"Password\"\nonChange={this.handlePasswordChange}\nvalue={this.state.password} /&gt;\n&lt;input type=\"submit\" value=\"Lets Go\"\nclassName=\"login-button\" /&gt;\n&lt;/form&gt;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30d5\u30a9\u30fc\u30e0\u306b\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u308a\u3001\u5909\u66f4\u304c\u3042\u3063\u305f\u3068\u304d\u306bhandleUsernameChange\u95a2\u6570\u3068handlePasswordChange\u95a2\u6570\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u305f\u3089\u3001submitLogin\u95a2\u6570\u3067\u3053\u308c\u3089\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u9001\u4fe1\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u3053\u3053\u3067\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002</p> <pre><code>submitLogin = (e) =&gt; {\ne.preventDefault();\naxios.post(\"http://localhost:8000/v1/auth/login\",\n{\"username\": this.state.username,\n\"password\": this.state.password},\n{headers: {\"Access-Control-Allow-Origin\": \"*\"}}\n)\n.then(response =&gt; {\nthis.setState({username: \"\", password: \"\"});\nthis.props.handleLogin(response.data[\"token\"]);\n})\n.catch(error =&gt; {\nalert(error);\nthis.setState({password: \"\", firstName: \"\"});\n});\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30ed\u30b0\u30a4\u30f3API\u547c\u3073\u51fa\u3057\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u3001props\u3092\u4f7f\u3063\u3066\u901a\u3057\u305f\u95a2\u6570\u306b\u6e21\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306fsrc/app.js\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u3001\u30a2\u30e9\u30fc\u30c8\u3067\u3053\u308c\u3092\u51fa\u529b\u3057\u3066\u3001\u4f55\u304c\u8d77\u3053\u3063\u305f\u304b\u3092\u6559\u3048\u3066\u304f\u308c\u307e\u3059\u3002\u3044\u305a\u308c\u306b\u305b\u3088\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u7a7a\u306b\u3057\u307e\u3059\u3002</p> <p>\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u3092\u5b9a\u7fa9\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3068\u304d\u306b\u3001\u3053\u306e\u30d5\u30a9\u30fc\u30e0\u3092\u8868\u793a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u304c\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u5f8c\u306f\u3001\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u3092\u975e\u8868\u793a\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u524d\u306b\u3001src/app.js\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>import LoginForm from \"./components/LoginForm\";\n</code></pre> <p>\u3053\u3053\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u72b6\u614b\u3092\u8ffd\u8de1\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u3001App\u30af\u30e9\u30b9\u306estate\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>state = {\n\"pending_items\": [],\n\"done_items\": [],\n\"pending_items_count\": 0,\n\"done_items_count\": 0,\n\"login_status\": false,\n}\n</code></pre> <p>\u9805\u76ee\u3092\u7ba1\u7406\u3057\u3066\u3044\u307e\u3059\u304c\u3001login_status\u304cfalse\u306e\u5834\u5408\u3001\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u3092\u8868\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u304c\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u3089\u3001login_status\u3092true\u306b\u8a2d\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c\u3001\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u3092\u975e\u8868\u793a\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u72b6\u614b\u3092\u8a18\u9332\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001App\u30af\u30e9\u30b9\u306egetItems\u95a2\u6570\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>getItems() {\naxios.get(\"http://127.0.0.1:8000/v1/item/get\",\n{headers: {\"token\": localStorage.getItem(\"user-token\")}})\n.then(response =&gt; {\nlet pending_items = response.data[\"pending_items\"]\nlet done_items = response.data[\"done_items\"]\nthis.setState({\n\"pending_items\":\nthis.processItemValues(pending_items),\n\"done_items\": this.processItemValues(done_items),\n\"pending_items_count\":\nresponse.data[\"pending_item_count\"],\n\"done_items_count\":\nresponse.data[\"done_item_count\"]\n})\n}).catch(error =&gt; {\nif (error.response.status === 401) {\nthis.logout();\n}\n});\n}\n</code></pre> <p>\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3057\u3001\u30d8\u30c3\u30c0\u30fc\u306b\u8f09\u305b\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u4e0d\u6b63\u306a\u30b3\u30fc\u30c9\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u3001App\u30af\u30e9\u30b9\u306elogout\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u306e\u30ed\u30b0\u30a2\u30a6\u30c8\u95a2\u6570\u306f\u3001\u3053\u3053\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u5f62\u5f0f\u3092\u3068\u308a\u307e\u3059\u3002</p> <pre><code>logout() {\nlocalStorage.removeItem(\"token\");\nthis.setState({\"login_status\": false});\n}\n</code></pre> <p>\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u30c8\u30fc\u30af\u30f3\u3092\u524a\u9664\u3057\u3001login_status\u3092false\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u30ed\u30b0\u30a2\u30a6\u30c8\u95a2\u6570\u306f\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u7de8\u96c6\u6642\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306b\u3082\u5b9f\u884c\u3055\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30c8\u30fc\u30af\u30f3\u306f\u671f\u9650\u5207\u308c\u306b\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u3001\u3069\u3053\u3067\u3067\u3082\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u3001\u518d\u30ed\u30b0\u30a4\u30f3\u3092\u4fc3\u3055\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u3092\u899a\u3048\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067ToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306blogout\u95a2\u6570\u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>processItemValues(items) {\nlet itemList = [];\nitems.forEach((item, _)=&gt;{\nitemList.push(\n&lt;ToDoItem key={item.title + item.status}\ntitle={item.title}\nstatus={item.status}\npassBackResponse={this.handleReturnedState}\nlogout={this.logout}/&gt;\n)\n})\nreturn itemList\n}\n</code></pre> <p>ToDoItem\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u30ed\u30b0\u30a2\u30a6\u30c8\u95a2\u6570\u3092\u6e21\u3057\u305f\u3089\u3001src/components/ToDoItem.js\u30d5\u30a1\u30a4\u30eb\u306eToDo\u30a2\u30a4\u30c6\u30e0\u3092\u7de8\u96c6\u3059\u308bAPI\u30b3\u30fc\u30eb\u3092\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u66f4\u65b0\u3057\u307e\u3059\u3002</p> <pre><code>sendRequest = () =&gt; {\naxios.post(\"http://127.0.0.1:8000/v1/item/\" +\nthis.state.button,\n{\n\"title\": this.state.title,\n\"status\": this.inverseStatus(this.state.status)\n},\n{headers: {\"token\": localStorage.getItem(\n\"user-token\")}})\n.then(response =&gt; {\nthis.props.passBackResponse(response);\n}).catch(error =&gt; {\nif (error.response.status === 401) {\nthis.props.logout();\n}\n});\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089API\u547c\u3073\u51fa\u3057\u306b\u30d8\u30c3\u30c0\u30fc\u3092\u4ecb\u3057\u3066\u30c8\u30fc\u30af\u30f3\u3092\u6e21\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u4e0d\u6b63\u306a\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97\u3057\u305f\u5834\u5408\u306b\u306f\u3001props\u3092\u4ecb\u3057\u3066\u6e21\u3055\u308c\u305flogout\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p>\u3053\u3053\u3067\u3001src/app.js\u30d5\u30a1\u30a4\u30eb\u306b\u623b\u308a\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u6a5f\u80fd\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u6700\u521d\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u304d\u306b\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u521d\u671f\u8aad\u307f\u8fbc\u307f\u6642\u306b\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30c8\u30fc\u30af\u30f3\u3092\u8003\u616e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>componentDidMount() {\nlet token = localStorage.getItem(\"user-token\");\nif (token !== null) {\nthis.setState({login_status: true});\nthis.getItems();\n}\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u30c8\u30fc\u30af\u30f3\u304c\u3042\u308b\u3068\u304d\u3060\u3051\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304b\u3089\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u6a5f\u80fd\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u307e\u3068\u3081\u308b\u524d\u306b\u3001\u30ed\u30b0\u30a4\u30f3\u3060\u3051\u3092\u51e6\u7406\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30c8\u30fc\u30af\u30f3\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u51e6\u7406\u3059\u308b\u65b9\u6cd5\u306f\u304a\u308f\u304b\u308a\u3044\u305f\u3060\u3051\u305f\u3068\u601d\u3044\u307e\u3059\u3002\u3053\u306e\u6642\u70b9\u3067\u3001App\u30af\u30e9\u30b9\u306ehandleLogin\u95a2\u6570\u3092\u81ea\u5206\u3067\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\u3082\u3057\u3001\u81ea\u5206\u3067\u95a2\u6570\u3092\u4f5c\u3063\u3066\u307f\u305f\u306a\u3089\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>handleLogin = (token) =&gt; {\nlocalStorage.setItem(\"user-token\", token);\nthis.setState({\"login_status\": true});\nthis.getItems();\n}\n</code></pre> <p>\u73fe\u5728\u3001App\u30af\u30e9\u30b9\u306e\u30ec\u30f3\u30c0\u30fc\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u6bb5\u968e\u306b\u6765\u3066\u3044\u307e\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u72b6\u614b\u304ctrue\u306e\u5834\u5408\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u3059\u3079\u3066\u3092\u8868\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>if (this.state.login_status === true) {\nreturn (\n&lt;div className=\"App\"&gt;\n&lt;div className=\"mainContainer\"&gt;\n&lt;div className=\"header\"&gt;\n&lt;p&gt;complete tasks:\n{this.state.done_items_count}&lt;/p&gt;\n&lt;p&gt;pending tasks:\n{this.state.pending_items_count}&lt;/p&gt;\n&lt;/div&gt;\n&lt;h1&gt;Pending Items&lt;/h1&gt;\n{this.state.pending_items}\n&lt;h1&gt;Done Items&lt;/h1&gt;\n{this.state.done_items}\n&lt;CreateToDoItem\npassBackResponse={this.handleReturnedState}/&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n)\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u3042\u307e\u308a\u65b0\u3057\u3044\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u30ed\u30b0\u30a4\u30f3\u72b6\u614b\u304ctrue\u3067\u306a\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\u30d5\u30a9\u30fc\u30e0\u3092\u8868\u793a\u3059\u308c\u3070\u3088\u3044\u3002</p> <pre><code>else {\nreturn (\n&lt;div className=\"App\"&gt;\n&lt;div className=\"mainContainer\"&gt;\n&lt;LoginForm handleLogin={this.handleLogin}\n/&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n)\n}\n</code></pre> <p>\u898b\u3066\u306e\u901a\u308a\u3001LoginForm\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306bhandleLogin\u95a2\u6570\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u6700\u521d\u306e\u30d3\u30e5\u30fc\u306f\u6b21\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002</p> <p>\u56f37.8 - \u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u30d3\u30e5\u30fc\u3092\u8868\u793a\u3057\u307e\u3059\u3002</p> <p>\u6b63\u3057\u3044\u8a8d\u8a3c\u60c5\u5831\u3092\u5165\u529b\u3059\u308b\u3068\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001ToDo\u9805\u76ee\u3092\u64cd\u4f5c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u57fa\u672c\u7684\u306b\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/AuthenticatingOurUsers/","title":"7.3 - \u30e6\u30fc\u30b6\u30fc\u3092\u8a8d\u8a3c\u3059\u308b","text":""},{"location":"7_ManagingUserSessions/AuthenticatingOurUsers/#_1","title":"\u30e6\u30fc\u30b6\u30fc\u3092\u8a8d\u8a3c\u3059\u308b","text":"<p>\u30e6\u30fc\u30b6\u30fc\u306e\u8a8d\u8a3c\u306b\u95a2\u3057\u3066\u306f\u3001HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d8\u30c3\u30c0\u30fc\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u62bd\u51fa\u3059\u308b\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3059\u3002\u73fe\u5728\u306f\u3001\u30d8\u30c3\u30c0\u30fc\u306b\u30e6\u30fc\u30b6\u30fc\u306b\u95a2\u3059\u308b\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u306e\u62bd\u51fa\u3092\u5b9f\u969b\u306b\u5229\u7528\u3067\u304d\u308b\u6bb5\u968e\u306b\u3042\u308a\u307e\u3059\u3002\u4eca\u73fe\u5728\u3001HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d8\u30c3\u30c0\u30fc\u306b\u30e6\u30fc\u30b6\u30fc\u540d\u3001ID\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4fdd\u5b58\u3057\u3066\u3001\u305d\u308c\u305e\u308c\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u8a8d\u8a3c\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3092\u6b62\u3081\u308b\u3082\u306e\u306f\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u3072\u3069\u3044\u3084\u308a\u65b9\u3067\u3059\u3002\u3082\u3057\u8ab0\u304b\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u508d\u53d7\u3057\u305f\u308a\u3001\u3053\u308c\u3092\u5bb9\u6613\u306b\u3059\u308b\u305f\u3081\u306b\u30d6\u30e9\u30a6\u30b6\u306b\u4fdd\u5b58\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u624b\u306b\u5165\u308c\u305f\u308a\u3057\u305f\u3089\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u6f0f\u6d29\u3057\u3001\u30cf\u30c3\u30ab\u30fc\u306f\u3084\u308a\u305f\u3044\u653e\u984c\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u305d\u306e\u4ee3\u308f\u308a\u306b\u3001\u6b21\u306e\u56f3\u306b\u793a\u3059\u3088\u3046\u306b\u3001\u30c7\u30fc\u30bf\u3092\u96e3\u8aad\u5316\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p> <p>\u56f37.5\u300c\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u8a8d\u8a3c\u306e\u305f\u3081\u306e\u30b9\u30c6\u30c3\u30d7</p> <p>\u56f37.5\u3067\u306f\u3001\u79d8\u5bc6\u9375\u3092\u4f7f\u3063\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u95a2\u3059\u308b\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3092\u30d0\u30a4\u30c8\u5358\u4f4d\u306e\u30c8\u30fc\u30af\u30f3\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u305d\u306e\u30c8\u30fc\u30af\u30f3\u3092\u30e6\u30fc\u30b6\u30fc\u306b\u6e21\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u306b\u4fdd\u5b58\u3055\u305b\u308b\u3002\u30e6\u30fc\u30b6\u304c\u8a8d\u53ef\u3055\u308c\u305f\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u5834\u5408\u3001\u30e6\u30fc\u30b6\u306f\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d8\u30c3\u30c0\u306b\u30c8\u30fc\u30af\u30f3\u3092\u9001\u4fe1\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306b\u79c1\u305f\u3061\u306e\u30b5\u30fc\u30d0\u30fc\u306f\u3001\u79d8\u5bc6\u9375\u3092\u4f7f\u7528\u3057\u3066\u30c8\u30fc\u30af\u30f3\u3092\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u95a2\u3059\u308b\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u306b\u623b\u3057\u307e\u3059\u3002\u3053\u306e\u51e6\u7406\u3092\u884c\u3046\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308b\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306f\u3001\u8ab0\u3067\u3082\u5229\u7528\u3067\u304d\u308b\u6a19\u6e96\u7684\u306a\u30cf\u30c3\u30b7\u30e5\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30c8\u30fc\u30af\u30f3\u3092\u5b89\u5168\u306b\u4fdd\u7ba1\u3059\u308b\u305f\u3081\u306b\u3001\u79c1\u305f\u3061\u304c\u5b9a\u7fa9\u3059\u308b\u79d8\u5bc6\u9375\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u56f37.5\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u884c\u3046\u306b\u306f\u3001JwToken\u69cb\u9020\u4f53\u3092\u542b\u3080src/jwt.rs\u30d5\u30a1\u30a4\u30eb\u306e\u5927\u534a\u3092\u66f8\u304d\u63db\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u524d\u306b\u3001Cargo.toml\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u66f4\u65b0\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>[dependencies]\n. . .\nchrono = {version = \"0.4.19\", features = [\"serde\"]}\n. . .\njsonwebtoken = \"8.1.0\"\n</code></pre> <p>chrono crate\u306bserde\u306e\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u3001jsonwebtoken crate\u3092\u8ffd\u52a0\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002JwToken\u69cb\u9020\u4f53\u3092\u518d\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u3001src/jwt.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use actix_web::dev::Payload;\nuse actix_web::{Error, FromRequest, HttpRequest};\nuse actix_web::error::ErrorUnauthorized;\nuse futures::future::{Ready, ok, err};\nuse serde::{Deserialize, Serialize};\nuse jsonwebtoken::{encode, decode, Algorithm, Header,\nEncodingKey, DecodingKey, Validation};\nuse chrono::{DateTime, Utc};\nuse chrono::serde::ts_seconds;\nuse crate::config::Config;\n</code></pre> <p>\u30ea\u30af\u30a8\u30b9\u30c8\u3068\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u51e6\u7406\u3092\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081\u306b\u3001actix_web \u306e traits \u3068 structs \u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306b\u3001futures \u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001HTTP \u30ea\u30af\u30a8\u30b9\u30c8\u304c\u30d3\u30e5\u30fc\u306b\u5230\u9054\u3059\u308b\u524d\u306b\u305d\u306e\u508d\u53d7\u3092\u51e6\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u6b21\u306b\u3001serde\u3068jsonwebtoken\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001\u30c8\u30fc\u30af\u30f3\u3068\u306e\u9593\u3067\u30c7\u30fc\u30bf\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3068\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002\u6b21\u306b\u3001\u30c8\u30fc\u30af\u30f3\u304c\u92f3\u9020\u3055\u308c\u305f\u3068\u304d\u306b\u30ed\u30b0\u3092\u8a18\u9332\u3059\u308b\u305f\u3081\u306b\u3001chrono crate\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306e\u305f\u3081\u306e\u30ad\u30fc\u304c\u5fc5\u8981\u3067\u3059\u304c\u3001\u3053\u308c\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u53d6\u5f97\u3059\u308b\u305f\u3081\u3001Config\u69cb\u9020\u4f53\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u5fc5\u8981\u306atrait\u3068\u69cb\u9020\u4f53\u3092\u3059\u3079\u3066\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30c8\u30fc\u30af\u30f3\u69cb\u9020\u4f53\u3092\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>#[derive(Debug, Serialize, Deserialize)]\npub struct JwToken {\npub user_id: i32,\n#[serde(with = \"ts_seconds\")]\npub minted: DateTime&lt;Utc&gt;\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u306e ID \u3068\u3001\u30c8\u30fc\u30af\u30f3\u304c\u4f5c\u6210\u3055\u308c\u305f\u65e5\u6642\u3092\u53d6\u5f97\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001datetime\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u3069\u306e\u3088\u3046\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u304b\u3092\u793a\u3059\u305f\u3081\u306b\u3001serde\u30de\u30af\u30ed\u3067minted\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u88c5\u98fe\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u30c8\u30fc\u30af\u30f3\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u304c\u63c3\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>impl JwToken {\npub fn get_key() -&gt; String {\n. . .\n}\npub fn encode(self) -&gt; String {\n. . .\n}\npub fn new(user_id: i32) -&gt; Self {\n. . .\n}\npub fn from_token(token: String) -&gt; Option&lt;Self&gt; {\n. . .\n}\n}\n</code></pre> <p>\u5148\u884c\u3059\u308b\u5404\u6a5f\u80fd\u304c\u4f55\u3092\u3059\u308b\u306e\u304b\u3001\u4ee5\u4e0b\u306e\u7b87\u6761\u66f8\u304d\u3067\u8aac\u660e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <ul> <li>get_key\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002config.yml\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3001\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u7528\u306e\u79d8\u5bc6\u9375\u3092\u53d6\u5f97\u3059\u308b\u3002</li> <li>encode\u3059\u308b\u3002JwToken struct\u306e\u30c7\u30fc\u30bf\u3092\u30c8\u30fc\u30af\u30f3\u3068\u3057\u3066\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u3002</li> <li>new: \u65b0\u3057\u3044 JwToken \u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3059\u308b\u3002</li> <li>from_token:\u30c8\u30fc\u30af\u30f3\u304b\u3089JwToken\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306b\u5931\u6557\u3057\u305f\u5834\u5408\u306f\u3001None\u3092\u8fd4\u3057\u307e\u3059\uff08\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u306b\u5931\u6557\u3059\u308b\u3053\u3068\u304c\u3042\u308b\u305f\u3081\uff09\u3002</li> </ul> <p>\u4e0a\u8a18\u306e\u95a2\u6570\u3092\u69cb\u7bc9\u3059\u308c\u3070\u3001JwToken\u69cb\u9020\u4f53\u306f\u9069\u5207\u306a\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30c8\u30fc\u30af\u30f3\u3092\u51e6\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u6b21\u306e\u30b3\u30fc\u30c9\u3067get_key\u95a2\u6570\u3092\u5177\u4f53\u5316\u3057\u307e\u3059\u3002</p> <pre><code>pub fn get_key() -&gt; String {\nlet config = Config::new();\nlet key_str = config\n.map\n.get(\"SECRET_KEY\")\n.unwrap()\n.as_str()\n.unwrap();\nreturn key_str.to_owned()\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30ad\u30fc\u3092config\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3067\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001config.yml\u30d5\u30a1\u30a4\u30eb\u306b\u30ad\u30fc\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u305d\u306e\u7d50\u679c\u3001\u30d5\u30a1\u30a4\u30eb\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>DB_URL: postgres://username:password@localhost:5433/to_do\nSECRET_KEY: secret\n</code></pre> <p>\u3082\u3057\u79c1\u305f\u3061\u306e\u30b5\u30fc\u30d0\u30fc\u304c\u672c\u756a\u74b0\u5883\u3067\u3042\u308c\u3070\u3001\u3082\u3063\u3068\u826f\u3044\u79d8\u5bc6\u9375\u304c\u3042\u308b\u306f\u305a\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u30ed\u30fc\u30ab\u30eb\u3067\u958b\u767a\u3059\u308b\u5834\u5408\u306f\u3001\u3053\u308c\u3067\u554f\u984c\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u3055\u3066\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30ad\u30fc\u3092\u53d6\u308a\u51fa\u3057\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30a8\u30f3\u30b3\u30fc\u30c9\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub fn encode(self) -&gt; String {\nlet key = EncodingKey::from_secret(JwToken::get_key().as_ref());\nlet token = encode(&amp;Header::default(), &amp;self,&amp;key).unwrap();\nreturn token\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\u3092\u4f7f\u3063\u3066\u30a8\u30f3\u30b3\u30fc\u30c9\u30fb\u30ad\u30fc\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u30ad\u30fc\u3092\u4f7f\u7528\u3057\u3066\u3001JwToken\u69cb\u9020\u4f53\u306e\u30c7\u30fc\u30bf\u3092\u30c8\u30fc\u30af\u30f3\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u3001\u305d\u308c\u3092\u8fd4\u3057\u307e\u3059\u3002\u3053\u308c\u3067JwToken\u69cb\u9020\u4f53\u3092\u30a8\u30f3\u30b3\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u5fc5\u8981\u306a\u3068\u304d\u306b\u65b0\u3057\u3044JwToken\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u6b21\u306e\u65b0\u3057\u3044\u95a2\u6570\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pub fn new(user_id: i32) -&gt; Self {\nlet timestamp = Utc::now();\nreturn JwToken { user_id, minted: timestamp };\n}\n</code></pre> <p>\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u3001JwToken\u304c\u3044\u3064\u9020\u5e63\u3055\u308c\u305f\u304b\u3092\u77e5\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u30fb\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7ba1\u7406\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30c8\u30fc\u30af\u30f3\u306e\u5e74\u9f62\u304c\u9069\u5207\u3068\u601d\u308f\u308c\u308b\u95be\u5024\u3092\u8d85\u3048\u305f\u5834\u5408\u3001\u518d\u30ed\u30b0\u30a4\u30f3\u3092\u5f37\u5236\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u3042\u3068\u306ffrom_token\u95a2\u6570\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u3063\u3066\u30c8\u30fc\u30af\u30f3\u304b\u3089\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u3060\u3051\u3067\u3059\u3002</p> <pre><code>pub fn from_token(token: String) -&gt; Option&lt;Self&gt; {\nlet key = DecodingKey::from_secret(JwToken::get_key().as_ref());\nlet token_result = decode::&lt;JwToken&gt;(\n&amp;token,\n&amp;key,\n&amp;Validation::new(Algorithm::HS256)\n);\nmatch token_result {\nOk(data) =&gt; {\nSome(data.claims)\n},\nErr(_) =&gt; {\nreturn None\n}\n}\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30c7\u30b3\u30fc\u30c9\u30ad\u30fc\u3092\u5b9a\u7fa9\u3057\u3001\u305d\u308c\u3092\u4f7f\u3063\u3066\u30c8\u30fc\u30af\u30f3\u3092\u30c7\u30b3\u30fc\u30c9\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001data.claims\u3092\u4f7f\u7528\u3057\u3066JwToken\u3092\u8fd4\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001JwToken\u69cb\u9020\u4f53\u306e\u4f5c\u6210\u3001\u30c8\u30fc\u30af\u30f3\u3078\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3001\u30c8\u30fc\u30af\u30f3\u304b\u3089\u306e\u62bd\u51fa\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3042\u3068\u306f\u3001\u30d3\u30e5\u30fc\u304c\u30ed\u30fc\u30c9\u3055\u308c\u308b\u524d\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d8\u30c3\u30c0\u30fc\u304b\u3089\u3001\u6b21\u306e\u3088\u3046\u306a\u30a2\u30a6\u30c8\u30e9\u30a4\u30f3\u3067\u62bd\u51fa\u3059\u308b\u3060\u3051\u3067\u3059\u3002</p> <pre><code>impl FromRequest for JwToken {\ntype Error = Error;\ntype Future = Ready&lt;Result&lt;JwToken, Error&gt;&gt;;\nfn from_request(req: &amp;HttpRequest,\n_: &amp;mut Payload) -&gt; Self::Future {\n. . .\n}\n}\n</code></pre> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u306e\u305f\u3081\u306eFromRequest trait\u3068\u3001JwToken\u69cb\u9020\u4f53\u306e\u305f\u3081\u306e\u524d\u56de\u306e\u5b9f\u88c5\u3092\u3001\u3053\u308c\u307e\u3067\u8907\u6570\u56de\u7e70\u308a\u8fd4\u3057\u3066\u304d\u307e\u3057\u305f\u3002from_request\u95a2\u6570\u306e\u5185\u90e8\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30d8\u30c3\u30c0\u30fc\u304b\u3089\u30c8\u30fc\u30af\u30f3\u3092\u62bd\u51fa\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>match req.headers().get(\"token\") {\nSome(data) =&gt; {\n. . .\n},\nNone =&gt; {\nlet error = ErrorUnauthorized(\n\"token not in header under key 'token'\"\n);\nreturn err(error)\n}\n}\n</code></pre> <p>\u30c8\u30fc\u30af\u30f3\u304c\u30d8\u30c3\u30c0\u30fc\u306b\u306a\u3044\u5834\u5408\u306f\u3001ErrorUnauthorized\u3092\u76f4\u63a5\u8fd4\u3057\u3001\u30d3\u30e5\u30fc\u306e\u547c\u3073\u51fa\u3057\u3092\u5b8c\u5168\u306b\u56de\u907f\u3057\u307e\u3059\u3002\u30d8\u30c3\u30c0\u30fc\u304b\u3089\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308c\u3070\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u51e6\u7406\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>Some(data) =&gt; {\nlet raw_token = data.to_str().unwrap().to_string();\nlet token_result = JwToken::from_token(raw_token);\nmatch token_result {\nSome(token) =&gt; {\nreturn ok(token)\n},\nNone =&gt; {\nlet error = ErrorUnauthorized(\"token can't be decoded\");\nreturn err(error)\n}\n}\n},\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30d8\u30c3\u30c0\u30fc\u304b\u3089\u62bd\u51fa\u3057\u305f\u751f\u306e\u30c8\u30fc\u30af\u30f3\u3092\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001\u30c8\u30fc\u30af\u30f3\u3092\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u3001JwToken\u69cb\u9020\u4f53\u306b\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u507d\u306e\u30c8\u30fc\u30af\u30f3\u304c\u63d0\u4f9b\u3055\u308c\u305f\u305f\u3081\u306b\u3053\u308c\u304c\u5931\u6557\u3057\u305f\u5834\u5408\u306f\u3001ErrorUnauthorized\u30a8\u30e9\u30fc\u3092\u8fd4\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u8a8d\u8a3c\u306f\u5b8c\u5168\u306b\u6a5f\u80fd\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u6b21\u306e\u56f3\u306b\u793a\u3059\u3088\u3046\u306b\u3001\u6709\u52b9\u306a\u30c8\u30fc\u30af\u30f3\u3092\u6301\u3063\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u4f55\u3082\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002</p> <p>\u56f37.6 \u300c\u8a8d\u8a3c\u30d6\u30ed\u30c3\u30af\u306e\u30ea\u30af\u30a8\u30b9\u30c8</p> <p>\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4fdd\u8b77\u3055\u308c\u305f\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u306e\u5bfe\u8a71\u3092\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081\u306b\u3001\u30ed\u30b0\u30a4\u30f3API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/CleaningUpAuthenticationRequirements/","title":"7.5 - \u8a8d\u8a3c\u8981\u4ef6\u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7","text":""},{"location":"7_ManagingUserSessions/CleaningUpAuthenticationRequirements/#_1","title":"\u8a8d\u8a3c\u8981\u4ef6\u306e\u4e00\u6383","text":"<p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u8a8d\u8a3c\u51e6\u7406\u3092\u884c\u3046\u524d\u306b\u3001 Rust \u30b5\u30fc\u30d0\u306e\u8a8d\u8a3c\u51e6\u7406\u3092\u6574\u7406\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u3053\u306e\u7ae0\u306e\u6d41\u308c\u3092\u9b45\u529b\u7684\u306a\u3082\u306e\u306b\u3059\u308b\u305f\u3081\u3001\u5b9a\u671f\u7684\u306b \"\u30cf\u30a6\u30b9\u30ad\u30fc\u30d4\u30f3\u30b0 \"\u3092\u884c\u3046\u3053\u3068\u306f\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3067\u306f\u3001To_do\u30d3\u30e5\u30fc\u3092\u66f4\u65b0\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u307e\u305a\u3001create\u30d3\u30e5\u30fc\u3092\u8a8d\u8a3c\u8981\u4ef6\u3067\u66f4\u65b0\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u3081\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001src/views/to_do/create.rs\u306b\u3042\u308bcreate\u30d3\u30e5\u30fc\u306e\u95a2\u6570\u30b7\u30b0\u30cd\u30c1\u30e3\u3092\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <pre><code>. . .\nuse crate::jwt::JwToken;\nuse crate::database::DB\npub async fn create(token: JwToken,\nreq: HttpRequest, db: DB) -&gt; HttpResponse {\n. . .\n</code></pre> <p>\u307e\u305f\u3001\u30c8\u30fc\u30af\u30f3\u304b\u3089\u5f97\u305fID\u3067\u65b0\u3057\u3044\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3059\u308b\u969b\u306b\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30e6\u30fc\u30b6\u30fcID\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>if items.len() == 0 {\nlet new_post = NewItem::new(title, token.user_id);\nlet _ = diesel::\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0insert_into(to_do::table).values(&amp;new_post)\n.execute(&amp;db.connection);\n}\nReturn HttpResponse::Ok().json(\nToDoItems::get_state(token.user_id)\n)\n</code></pre> <p>delete\u30d3\u30e5\u30fc\u3067\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3063\u305f\u30e6\u30fc\u30b6\u30fc\u306b\u5c5e\u3059\u308bToDo\u9805\u76ee\u3092\u524a\u9664\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fcID\u3092\u4f7f\u3063\u305f\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u8ffd\u52a0\u3057\u306a\u3044\u3068\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u524a\u9664\u306f\u30e9\u30f3\u30c0\u30e0\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3053\u306e\u30d5\u30a3\u30eb\u30bf\u30fc\u306f\u3001src/views/to_do/delete.rs \u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>. . .\nUse crate::database::DB;\n. . .\npub async fn delete(to_do_item: web::Json&lt;ToDoItem&gt;,\ntoken: JwToken, db: DB) -&gt; HttpResponse {\nlet items = to_do::table\n.filter(to_do::columns::title.eq(\n&amp;to_do_item.title.as_str())\n)\n.filter(to_do::columns::user_id.eq(&amp;token.user_id))\n.order(to_do::columns::id.asc())\n.load::&lt;Item&gt;(&amp;db.connection)\n.unwrap();\nlet _ = diesel::delete(&amp;items[0]).execute(&amp;db.connection);\nreturn HttpResponse::Ok().json(ToDoItems::get_state(\ntoken.user_id\n))\n}\n</code></pre> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u554f\u3044\u5408\u308f\u305b\u3092\u884c\u3046\u969b\u306b\u3001\u30d5\u30a3\u30eb\u30bf\u95a2\u6570\u3092\u5358\u306b\u9023\u9396\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u524a\u9664\u30d3\u30e5\u30fc\u3067\u884c\u3063\u305f\u3053\u3068\u3092\u8003\u616e\u3059\u308b\u3068\u3001src/views/to_do/edit.rs\u30d5\u30a1\u30a4\u30eb\u306b\u3042\u308bedit\u306e\u8a8d\u8a3c\u8981\u4ef6\u3092\u3069\u306e\u3088\u3046\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\u3053\u306e\u6bb5\u968e\u3067\u306f\u3001\u524a\u9664\u30d3\u30e5\u30fc\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3068\u540c\u3058\u3088\u3046\u306a\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3001\u81ea\u5206\u3067\u7de8\u96c6\u30d3\u30e5\u30fc\u3092\u66f4\u65b0\u3057\u3066\u307f\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u3053\u306e\u4f5c\u696d\u3092\u884c\u3046\u3068\u3001\u3042\u306a\u305f\u306e\u30a8\u30c7\u30a3\u30c3\u30c8\u30d3\u30e5\u30fc\u306f\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>pub async fn edit(to_do_item: web::Json&lt;ToDoItem&gt;,\ntoken: JwToken, db: DB) -&gt; HttpResponse {\nlet results = to_do::table.filter(to_do::columns::title\n.eq(&amp;to_do_item.title))\n.filter(to_do::columns::user_\nid\n.eq(&amp;token.user_id));\nlet _ = diesel::update(results)\n.set(to_do::columns::status.eq(\"DONE\"))\n.execute(&amp;db.connection);\nreturn HttpResponse::Ok().json(ToDoItems::get_state(\ntoken.user_id\n))\n}\n</code></pre> <p>\u3053\u308c\u3067\u7279\u5b9a\u306e\u30d3\u30e5\u30fc\u3092\u66f4\u65b0\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306fget\u30d3\u30e5\u30fc\u306b\u79fb\u308a\u307e\u3059\u3002get\u30d3\u30e5\u30fc\u306b\u306f\u3001\u4ed6\u306e\u3059\u3079\u3066\u306e\u30d3\u30e5\u30fc\u306b\u9069\u7528\u3055\u308c\u308bget_state\u95a2\u6570\u3082\u3042\u308a\u307e\u3059\u3002src/views/to_do/get.rs\u306b\u3042\u308bget\u30d3\u30e5\u30fc\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <pre><code>use actix_web::Responder;\nuse crate::json_serialization::to_do_items::ToDoItems;\nuse crate::jwt::JwToken;\npub async fn get(token: JwToken) -&gt; impl Responder {\nToDoItems::get_state(token.user_id)\n}\n</code></pre> <p>\u3055\u3066\u3001\u5148\u306e\u30b3\u30fc\u30c9\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u3053\u3068\u306f\u3001\u9a5a\u304f\u3088\u3046\u306a\u3053\u3068\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002ToDoItems::get_state\u95a2\u6570\u306b\u30e6\u30fc\u30b6\u30fcID\u3092\u6e21\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002ToDoItems::get_state\u95a2\u6570\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u5834\u6240\u3001\u3064\u307e\u308a\u3059\u3079\u3066\u306eToDo\u30d3\u30e5\u30fc\u3067\u3001\u30e6\u30fc\u30b6\u30fcID\u3092\u8a18\u5165\u3059\u308b\u3053\u3068\u3092\u5fd8\u308c\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002\u6b21\u306b\u3001src/json_serialization/to_do_items.rs\u30d5\u30a1\u30a4\u30eb\u306eToDoItems::get_state\u95a2\u6570\u3092\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u518d\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>. . .\nuse crate::database::DBCONNECTION;\n. . .\nimpl ToDoItems {\n. . .\npub fn get_state(user_id: i32) -&gt; ToDoItems {\nlet connection = DBCONNECTION.db_connection.get()\n.unwrap();\nlet items = to_do::table\n.filter(to_do::columns::user_id.eq\n(&amp;user_id))\n.order(to_do::columns::id.asc())\n.load::&lt;Item&gt;(&amp;connection)\n.unwrap();\nlet mut array_buffer = Vec::\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0with_capacity(items.len());\nfor item in items {\nlet status = TaskStatus::from_string(\n&amp;item.status.as_str().to_string());\nlet item = to_do_factory(&amp;item.title, status);\narray_buffer.push(item);\n}\nreturn ToDoItems::new(array_buffer)\n}\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3068\u30e6\u30fc\u30b6\u30fcID\u306e\u30d5\u30a3\u30eb\u30bf\u3092\u66f4\u65b0\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u3055\u307e\u3056\u307e\u306a\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306e\u30b3\u30fc\u30c9\u304c\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u3002\u3082\u30461\u3064\u3001\u5909\u66f4\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002React\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001React\u306e\u958b\u767a\u306f\u672c\u305d\u306e\u3082\u306e\u306a\u306e\u3067\u3001React\u306e\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u306f\u3067\u304d\u308b\u3060\u3051\u30b7\u30f3\u30d7\u30eb\u306b\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002Axios\u3092\u4f7f\u3063\u305f\u30d8\u30c3\u30c0\u62bd\u51fa\u3084GET\u6295\u7a3f\u306a\u3069\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u958b\u767a\u304c\u8907\u96d1\u306b\u306a\u308a\u3059\u304e\u306a\u3044\u3088\u3046\u306b\u3001\u30ed\u30b0\u30a4\u30f3\u306bPost\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u3001\u30dc\u30c7\u30a3\u3092\u4f7f\u3063\u3066\u30c8\u30fc\u30af\u30f3\u3092\u8fd4\u3059\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u6982\u5ff5\u3092\u30ab\u30d0\u30fc\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u81ea\u5206\u3067\u89e3\u6c7a\u3057\u3088\u3046\u3068\u3059\u308b\u826f\u3044\u6a5f\u4f1a\u3067\u3059\u3002</p> <p>\u3053\u306e\u554f\u984c\u3092\u81ea\u5206\u3067\u89e3\u6c7a\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u3001\u6b21\u306e\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002\u307e\u305a\u3001src/json_serialization/login_response.rs \u30d5\u30a1\u30a4\u30eb\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u69cb\u9020\u4f53\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>use serde::Serialize;\n#[derive(Serialize)]\npub struct LoginResponse {\npub token: String\n}\n</code></pre> <p>src/json_serialization/mod.rs\u30d5\u30a1\u30a4\u30eb\u306bpub mod login_response\u3092\u5165\u308c\u3066\u3001\u5148\u884c\u3059\u308b\u69cb\u9020\u4f53\u3092\u5ba3\u8a00\u3059\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059\u3002src/views/auth/login.rs\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001login\u95a2\u6570\u306b\u6b21\u306e\u3088\u3046\u306areturn\u6587\u304c\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <pre><code>match users[0].clone().verify(credentials.password.clone()) {\ntrue =&gt; {\nlet user_id = users[0].clone().id;\nlet token = JwToken::new(user_id);\nlet raw_token = token.encode();\nlet response = LoginResponse{token:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0raw_token.clone()};\nlet body = serde_json::\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0to_string(&amp;response).unwrap();\nHttpResponse::Ok().append_header((\"token\",\nraw_token)).json(&amp;body)\n},\nfalse =&gt; HttpResponse::Unauthorized().finish()\n}\n</code></pre> <p>\u5099\u8003</p> <p>\u304a\u6c17\u3065\u304d\u306e\u65b9\u3082\u3044\u3089\u3063\u3057\u3083\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u7121\u65ad\u8ee2\u8f09\u3092\u5c11\u3057\u5909\u66f4\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002</p> <p>HttpResponse::Unauthorized().finish()</p> <p>\u3053\u308c\u306f\u3001\u30d3\u30e5\u30fc\u95a2\u6570\u306e\u623b\u308a\u5024\u306e\u578b\u3092HttpResponse\u69cb\u9020\u4f53\u306b\u5909\u66f4\u3057\u305f\u305f\u3081\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u95a2\u6570\u30b7\u30b0\u30cd\u30c1\u30e3\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>(credentials: web::Json, db: DB) -&gt; HttpResponse <p>json\u95a2\u6570\u3092\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u8ffd\u52a0\u3059\u308b\u3068\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u304cHttpResponseBuilder\u304b\u3089HttpResponse\u306b\u5909\u308f\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u5207\u308a\u66ff\u3048\u304c\u5fc5\u8981\u3060\u3063\u305f\u306e\u3067\u3059\u3002json \u95a2\u6570\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u3068\u3001HttpResponseBuilder \u306f\u4f7f\u7528\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u30aa\u30fc\u30b5\u30ea\u30f3\u30b0\u3055\u308c\u3066\u3044\u306a\u3044\u30ec\u30b9\u30dd\u30f3\u30b9\u30d3\u30eb\u30c0\u30fc\u306b\u623b\u308b\u3068\u3001finish\u95a2\u6570\u304cHttpResponseBuilder\u3092HttpResponse\u306b\u5909\u63db\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u63a8\u6e2c\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306e\u3088\u3046\u306b\u3001await\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001HttpResponseBuilder\u3092HttpResponse\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>HttpResponse::Unauthorized().await.unwrap()</p> <p>\u3053\u3053\u3067\u306f\u3001\u30d8\u30c3\u30c0\u30fc\u3068\u30dc\u30c7\u30a3\u3067\u30c8\u30fc\u30af\u30f3\u3092\u8fd4\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u3063\u3066\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3068\u304d\u306b\u67d4\u8edf\u6027\u3068\u624b\u8efd\u3055\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3067\u306f\u306a\u3044\u3053\u3068\u3092\u5f37\u8abf\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u958b\u767a\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u30b7\u30f3\u30d7\u30eb\u306b\u4fdd\u3064\u305f\u3081\u306b\u3001\u30c8\u30fc\u30af\u30f3\u3092\u30dc\u30c7\u30a3\u3068\u30d8\u30c3\u30c0\u30fc\u306b\u623b\u3059\u3068\u3044\u3046\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u5b9f\u65bd\u3057\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001src/views/auth/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u304a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\u30d3\u30e5\u30fc\u306ePOST\u30e1\u30bd\u30c3\u30c9\u3092\u6709\u52b9\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>mod login;\nmod logout;\nuse actix_web::web::{ServiceConfig, get, post, scope};\npub fn auth_views_factory(app: &amp;mut ServiceConfig) {\napp.service(\nscope(\"v1/auth\")\n.route(\"login\", get().to(login::login))\n.route(\"login\", post().to(login::login))\n.route(\"logout\", get().to(logout::logout))\n);\n}\n</code></pre> <p>\u540c\u3058\u30ed\u30b0\u30a4\u30f3\u30d3\u30e5\u30fc\u306bget\u95a2\u6570\u3092\u7a4d\u307f\u91cd\u306d\u305f\u3060\u3051\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u30d3\u30e5\u30fc\u3067POST\u3068GET\u304c\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u304c\u671f\u9650\u5207\u308c\u306b\u306a\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u304c\u5411\u4e0a\u3057\u307e\u3059\u3002\u3082\u3057\u30c8\u30fc\u30af\u30f3\u304c\u6f0f\u6d29\u3057\u3001\u60aa\u610f\u3042\u308b\u4eba\u7269\u304c\u30c8\u30fc\u30af\u30f3\u3092\u624b\u306b\u5165\u308c\u305f\u5834\u5408\u3001\u5f7c\u3089\u306f\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u597d\u304d\u306a\u3053\u3068\u3092\u597d\u304d\u306a\u3060\u3051\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u304c\u5207\u308c\u308b\u3068\u3001\u60aa\u8005\u306f\u30c8\u30fc\u30af\u30f3\u304c\u5931\u52b9\u3059\u308b\u307e\u3067\u306e\u9650\u3089\u308c\u305f\u6642\u9593\u3057\u304b\u4f7f\u3048\u306a\u304f\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/ConfiguringExpirationOfAuthTokens/","title":"7.6 - \u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u3092\u8a2d\u5b9a\u3059\u308b","text":""},{"location":"7_ManagingUserSessions/ConfiguringExpirationOfAuthTokens/#_1","title":"\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u3092\u8a2d\u5b9a\u3059\u308b","text":"<p>\u30d8\u30c3\u30c0\u30fc\u306e\u30c8\u30fc\u30af\u30f3\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u53d6\u5f97\u3057\u305f\u6709\u52b9\u306a\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u3063\u3066\u3001\u73fe\u5728\u4fdd\u8b77\u3055\u308c\u3066\u3044\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3067API\u30b3\u30fc\u30eb\u3092\u5b9f\u884c\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u4e0d\u6b63\u306a\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002print\u6587\u3092\u633f\u5165\u3059\u308b\u3068\u3001\u30c8\u30fc\u30af\u30f3\u306e\u30c7\u30b3\u30fc\u30c9\u306b\u5931\u6557\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>missing required claim: exp\n</code></pre> <p>\u3053\u308c\u306f\u3001JwToken\u69cb\u9020\u4f53\u306e\u4e2d\u306bexp\u3068\u3044\u3046\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u5b58\u5728\u3057\u306a\u3044\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002https://docs.rs/jsonwebtoken/latest/jsonwebtoken/fn.encode.html \u306b\u3042\u308b jsonwebtoken \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\u3068\u3001\u30a8\u30f3\u30b3\u30fc\u30c9\u547d\u4ee4\u3067 exp \u306b\u3064\u3044\u3066\u4e00\u5207\u89e6\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <pre><code>use serde::{Deserialize, Serialize};\nuse jsonwebtoken::{encode, Algorithm, Header, EncodingKey};\n#[derive(Debug, Serialize, Deserialize)]\nstruct Claims {\nsub: String,\ncompany: String\n}\nlet my_claims = Claims {\nsub: \"b@b.com\".to_owned(),\ncompany: \"ACME\".to_owned()\n};\n// my_claims is a struct that implements Serialize\n// This will create a JWT using HS256 as algorithm\nlet token = encode(&amp;Header::default(), &amp;my_claims,\n&amp;EncodingKey::from_secret(\"secret\".as_ref())).unwrap();\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30af\u30ec\u30fc\u30e0\u306b\u3064\u3044\u3066\u306e\u8a00\u53ca\u304c\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30c8\u30fc\u30af\u30f3\u3092\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001jsonwebtoken\u30af\u30ec\u30fc\u30c8\u306e\u30c7\u30b3\u30fc\u30c9\u95a2\u6570\u304c\u81ea\u52d5\u7684\u306bexp\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u63a2\u3057\u3001\u30c8\u30fc\u30af\u30f3\u304c\u3044\u3064\u671f\u9650\u5207\u308c\u306b\u306a\u308b\u304b\u3092\u8abf\u3079\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u516c\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3084\u5c11\u3057\u308f\u304b\u308a\u306b\u304f\u3044\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u306f\u3001\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u306e\u304b\u7406\u89e3\u3059\u308b\u306e\u306b\u4f55\u6642\u9593\u3082\u6d6a\u8cbb\u3057\u3066\u3057\u307e\u3046\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u3001\u79c1\u305f\u3061\u306f\u3053\u306e\u3053\u3068\u3092\u8abf\u67fb\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u3053\u3068\u3092\u5ff5\u982d\u306b\u7f6e\u3044\u3066\u3001src/jwt.rs\u30d5\u30a1\u30a4\u30eb\u306b\u623b\u308a\u3001\u3055\u3089\u306b\u66f8\u304d\u76f4\u3055\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u304c\u3001\u3053\u308c\u304c\u6700\u5f8c\u3067\u3042\u308a\u3001\u5b8c\u5168\u306b\u66f8\u304d\u76f4\u3059\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305a\u3001src/jwt.rs\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u3067\u306b\u3042\u308b\u3082\u306e\u3068\u4e00\u7dd2\u306b\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u304c\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <pre><code>. . .\nuse jsonwebtoken::{encode, decode, Header,\nEncodingKey, DecodingKey,\nValidation};\nuse chrono::Utc;\n. . .\n</code></pre> <p>\u305d\u3057\u3066\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067JwToken\u69cb\u9020\u4f53\u306bexp\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u66f8\u304d\u8fbc\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p> <pre><code>#[derive(Debug, Serialize, Deserialize)]\npub struct JwToken {\npub user_id: i32,\npub exp: usize,\n}\n</code></pre> <p>\u6b21\u306b\u3001JwToken\u69cb\u9020\u4f53\u306e\u65b0\u3057\u3044\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u30fb\u30e1\u30bd\u30c3\u30c9\u3092\u66f8\u304d\u76f4\u3055\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u65b0\u3057\u3044\u95a2\u6570\u3067\u306f\u3001\u65b0\u3057\u304f\u92f3\u9020\u3055\u308c\u305fJwToken\u69cb\u9020\u4f53\u304c\u4f55\u6642\u671f\u9650\u5207\u308c\u306b\u306a\u308b\u304b\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u958b\u767a\u8005\u3068\u3057\u3066\u306f\u3001\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306b\u304b\u304b\u308b\u6642\u9593\u3092\u5fae\u8abf\u6574\u3057\u305f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002Rust\u306e\u30b3\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u305f\u3073\u306b\u518d\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u6642\u9593\u3092\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306f\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306e\u5206\u6563\u3092\u8003\u616e\u3059\u308b\u3068\u3001\u65b0\u3057\u3044\u95a2\u6570\u306f\u6b21\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>pub fn new(user_id: i32) -&gt; Self {\nlet config = Config::new();\nlet minutes = config.map.get(\"EXPIRE_MINUTES\")\n.unwrap().as_i64().unwrap();\nlet expiration = Utc::now()\n.checked_add_signed(chrono::Duration::minutes(minutes))\n.expect(\"valid timestamp\")\n.timestamp();\nreturn JwToken { user_id, exp: expiration as usize };\n}\n</code></pre> <p>\u5206\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u6709\u52b9\u671f\u9650\u3092usize\u3068\u3057\u3066\u5909\u63db\u3057\u3001JwToken\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u30c8\u30fc\u30af\u30f3\u306e\u30c7\u30b3\u30fc\u30c9\u6642\u306e\u30a8\u30e9\u30fc\u3084\u3001\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u5207\u308c\u306a\u3069\u3001\u8fd4\u3059\u30a8\u30e9\u30fc\u306e\u7a2e\u985e\u3092\u7279\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30c8\u30fc\u30af\u30f3\u306e\u30c7\u30b3\u30fc\u30c9\u6642\u306b\u767a\u751f\u3059\u308b\u3055\u307e\u3056\u307e\u306a\u7a2e\u985e\u306e\u30a8\u30e9\u30fc\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u51e6\u7406\u3057\u307e\u3059\u3002</p> <pre><code>pub fn from_token(token: String) -&gt; Result&lt;Self, String&gt; {\nlet key = DecodingKey::\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0from_secret(JwToken::get_key().as_ref());\nlet token_result = decode::&lt;JwToken&gt;(&amp;token.as_str(),\n&amp;key,&amp;Validation::default());\nmatch token_result {\nOk(data) =&gt; {\nreturn Ok(data.claims)\n},\nErr(error) =&gt; {\nlet message = format!(\"{}\", error);\nreturn Err(message)\n}\n}\n}\n</code></pre> <p>\u3053\u3053\u3067\u3001Option\u3092\u8fd4\u3057\u3066\u3044\u305f\u306e\u3092Result\u306b\u5207\u308a\u66ff\u3048\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002Result\u306b\u5207\u308a\u66ff\u3048\u305f\u306e\u306f\u3001FromRequest trait\u306e\u5b9f\u88c5\u306b\u3042\u308bfrom_request\u95a2\u6570\u3067\u6d88\u5316\u30fb\u51e6\u7406\u3067\u304d\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8fd4\u3059\u305f\u3081\u3067\u3059\u3002from_request\u95a2\u6570\u306e\u6b8b\u308a\u306e\u30b3\u30fc\u30c9\u306f\u540c\u3058\u3067\u3059\u3002\u5909\u66f4\u70b9\u306f\u3001\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u5225\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8fd4\u3059\u3053\u3068\u3067\u3059\u3002</p> <pre><code>fn from_request(req: &amp;HttpRequest,\n_: &amp;mut Payload) -&gt; Self::Future {\nmatch req.headers().get(\"token\") {\nSome(data) =&gt; {\nlet raw_token = data.to_str()\n.unwrap()\n.to_string();\nlet token_result = JwToken::\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0from_token(raw_token);\nmatch token_result {\nOk(token) =&gt; {\nreturn ok(token)\n},\nErr(message) =&gt; {\nif message == \"ExpiredSignature\"\n.to_owned() {\nreturn err(\nErrorUnauthorized(\"token expired\"))\n}\nreturn err(\nErrorUnauthorized(\"token can't be decoded\"))\n}\n}\n},\nNone =&gt; {\nreturn err(\nErrorUnauthorized(\n\"token not in header under key 'token'\"))\n}\n}\n}\n</code></pre> <p>\u30cb\u30e5\u30a2\u30f3\u30b9\u306e\u7570\u306a\u308b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b3\u30fc\u30c9\u3082\u5bfe\u5fdc\u3057\u3001\u9069\u5fdc\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u3088\u308a\u5177\u4f53\u7684\u306b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3053\u3068\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u3069\u3053\u3067\u9593\u9055\u3063\u305f\u306e\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u8a8d\u8a3c\u306b\u95a2\u3057\u3066\u306f\u3001\u3042\u307e\u308a\u591a\u304f\u3092\u8a9e\u3089\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u306f\u3001\u4e0d\u6b63\u306a\u30a2\u30af\u30bb\u30b9\u3092\u8a66\u307f\u308b\u60aa\u610f\u8005\u3092\u52a9\u3051\u308b\u3053\u3068\u306b\u3082\u306a\u308b\u304b\u3089\u3067\u3059\u3002\u3053\u308c\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u3068\u30ed\u30b0\u30a2\u30a6\u30c8\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u5fc5\u8981\u306a\u30d3\u30e5\u30fc\u306b\u5bfe\u3057\u3066\u30c8\u30fc\u30af\u30f3\u306b\u3088\u308b\u8a8d\u8a3c\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u4e00\u822c\u7684\u306a\u30e6\u30fc\u30b6\u304c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u64cd\u4f5c\u3059\u308b\u5834\u5408\u306b\u306f\u3042\u307e\u308a\u5f79\u306b\u7acb\u3061\u307e\u305b\u3093\u3002\u306a\u305c\u306a\u3089\u3001\u5f7c\u3089\u306fPostman\u3092\u4f7f\u3046\u3053\u3068\u306f\u307e\u305a\u306a\u3044\u304b\u3089\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u30ed\u30b0\u30a4\u30f3/\u30ed\u30b0\u30a2\u30a6\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u7d44\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/CreatingOurUserModel/","title":"7.2 - \u30e6\u30fc\u30b6\u30fc\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b","text":""},{"location":"7_ManagingUserSessions/CreatingOurUserModel/#_1","title":"\u30e6\u30fc\u30b6\u30fc\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u3053\u306e\u30a2\u30d7\u30ea\u3067\u306f\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u4f5c\u6210\u3001\u524a\u9664\u3001\u7de8\u96c6\u3092\u8a31\u53ef\u3059\u308b\u524d\u306b\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u4fdd\u5b58\u3057\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u3092PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u5fc5\u9808\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u30e6\u30fc\u30b6\u30fc\u3092ToDo\u30a2\u30a4\u30c6\u30e0\u306b\u30ea\u30f3\u30af\u3055\u305b\u308b\u4e88\u5b9a\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u65e2\u5b58\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u5909\u66f4\u3057\u3001\u30c6\u30fc\u30d6\u30eb\u9593\u306e\u30ea\u30f3\u30af\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u3053\u3068\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li>User\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002</li> <li>NewUser\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002</li> <li>ToDo\u9805\u76ee\u30c7\u30fc\u30bf\u30fb\u30e2\u30c7\u30eb\u3092\u30e6\u30fc\u30b6\u30fc\u30fb\u30e2\u30c7\u30eb\u306b\u30ea\u30f3\u30af\u3067\u304d\u308b\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3002</li> <li>\u65b0\u3057\u3044\u30c6\u30fc\u30d6\u30eb\u3068\u5909\u66f4\u3057\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u30b9\u30ad\u30fc\u30de\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3059\u308b\u3002</li> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4e0a\u3067\u79fb\u884c\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u3001\u5b9f\u884c\u3059\u308b\u3002</li> </ol> <p>\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u524d\u8ff0\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u8a73\u3057\u304f\u898b\u3066\u3044\u304d\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/CreatingOurUserModel/#user","title":"User\u30c7\u30fc\u30bf\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u958b\u59cb\u3059\u308b\u524d\u306b\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>[dependencies]\n. . .\nbcrypt = \"0.13.0\"\nuuid = {version = \"1.0.0\", features = [\"serde\", \"v4\"]}\n</code></pre> <p>\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30cf\u30c3\u30b7\u30e5\u5316\u3068\u30c1\u30a7\u30c3\u30af\u306b\u306fbcrypt\u30af\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u3001\u30e6\u30fc\u30b6\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u306e\u4e00\u610f\u306aID\u306e\u751f\u6210\u306b\u306fuuid\u30af\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u7b2c6\u7ae0PostgreSQL\u306b\u3088\u308b\u30c7\u30fc\u30bf\u6c38\u7d9a\u5316\u3067\u8aac\u660e\u3057\u305f\u3088\u3046\u306b\u3001\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u7528\u306b2\u3064\u306e\u7570\u306a\u308b\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u306f\u3001\u307e\u3060\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5b58\u5728\u3057\u306a\u3044\u305f\u3081\u3001id\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6301\u3061\u307e\u305b\u3093\u3002\u3053\u306eID\u306f\u3001\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u304c\u30c6\u30fc\u30d6\u30eb\u306b\u633f\u5165\u3055\u308c\u308b\u3068\u304d\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u3088\u3063\u3066\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u65e2\u5b58\u306e\u30e6\u30fc\u30b6\u30fc\u3068\u3084\u308a\u53d6\u308a\u3059\u308b\u3068\u304d\u306b\u3053\u306eID\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001\u8ffd\u52a0\u3057\u305fid\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u542b\u3080\u3059\u3079\u3066\u306e\u540c\u3058\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6301\u3064\u5225\u306e\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002ID\u756a\u53f7\u306f\u3001\u4ed6\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u53c2\u7167\u3059\u308b\u969b\u306b\u4fbf\u5229\u3067\u3059\u3002ID\u756a\u53f7\u306f\u77ed\u3044\u3057\u3001\u4e00\u610f\u3067\u3042\u308b\u3053\u3068\u304c\u5206\u304b\u3063\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u3092ToDo\u9805\u76ee\u306b\u30ea\u30f3\u30af\u3055\u305b\u308b\u305f\u3081\u306b\u3001\u30e6\u30fc\u30b6\u30fcID\u3092\u4f7f\u7528\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u306f\u3001src/models.rs\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u69cb\u9020\u306b\u683c\u7d0d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>\u2514\u2500\u2500 user\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 mod.rs\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 new_user.rs\n\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 user.rs\n</code></pre> <p>new_user.rs\u30d5\u30a1\u30a4\u30eb\u3067\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u307e\u305a\u3001\u3053\u306e\u3088\u3046\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use uuid::Uuid;\nuse diesel::Insertable;\nuse bcrypt::{DEFAULT_COST, hash};\nuse crate::schema::users;\n</code></pre> <p>\u6ce8\u610f\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u306f\u3001\u307e\u3060\u30b9\u30ad\u30fc\u30de\u3067\u30e6\u30fc\u30b6\u30fc\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u5b8c\u6210\u3055\u305b\u305f\u5f8c\u306b\u884c\u3046\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u30fb\u30b9\u30ad\u30fc\u30de\u3092\u5b9a\u7fa9\u3059\u308b\u307e\u3067\u306f\u3001\u30b3\u30fc\u30c9\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u307e\u305f\u3001\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\u3068\u304d\u306b\u30e6\u30cb\u30fc\u30af\u306aID\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u3001\u30e6\u30cb\u30fc\u30afID\u30af\u30ec\u30fc\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3059\u308b\u305f\u3081\u3001\u30c7\u30a3\u30fc\u30bc\u30eb\u30af\u30ec\u30fc\u30c8\u304b\u3089Insertable trait\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u6b21\u306b\u3001bcrypt\u30af\u30ec\u30fc\u30c8\u304b\u3089\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u3001\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u306e\u305f\u3081\u306b\u5b9a\u7fa9\u3057\u305f\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u307e\u3059\u3002\u307e\u305f\u3001bcrypt\u30af\u30ec\u30fc\u30c8\u304b\u3089DEFAULT_COST\u5b9a\u6570\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002DEFAULT_COST\u306f\u3001\u5358\u306b\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u306b\u6e21\u3059\u5b9a\u6570\u3067\u3059\u3002\u306a\u305c\u305d\u3046\u306a\u308b\u306e\u304b\u306f\u3001\u6b21\u7ae0\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30cf\u30c3\u30b7\u30e5\u5316\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30e6\u30fc\u30b6\u30fc \u30c7\u30fc\u30bf \u30e2\u30c7\u30eb \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3057\u3001\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u306e\u3067\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306b\u9032\u3093\u3067 NewUser \u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/CreatingOurUserModel/#newuser","title":"NewUser\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>#[derive(Insertable, Clone)]\n#[table_name=\"users\"]\npub struct NewUser {\npub username: String,\npub email: String,\npub password: String,\npub unique_id: String,\n}\n</code></pre> <p>\u3053\u3053\u3067\u3001\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u304c\u633f\u5165\u53ef\u80fd\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u306f\u8a31\u53ef\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u30e6\u30fc\u30b6\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u691c\u7d22\u3055\u308c\u305f\u3068\u304d\u306b\u3001\u305d\u306e\u30e6\u30fc\u30b6\u306eID\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u305f\u3044\u306e\u3067\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u306e\u4e00\u822c\u7684\u306a\u30c7\u30fc\u30bf\u30fb\u30e2\u30c7\u30eb\u306e\u5b9a\u7fa9\u306b\u79fb\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u5b89\u5168\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3059\u308b\u3053\u3068\u3067\u3001\u78ba\u5b9f\u306b\u4fdd\u8b77\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u7b2c2\u7ae0\u300cRust\u3067Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u8a08\u3059\u308b\u300d\u3092\u899a\u3048\u3066\u3044\u308b\u65b9\u306f\u3001\u7279\u5b9a\u306eToDo\u69cb\u9020\u4f53\u306b\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3055\u305b\u308b\u305f\u3081\u306btrait\u3092\u5229\u7528\u3057\u307e\u3057\u305f\u3002\u3042\u308b\u69cb\u9020\u4f53\u306f\u4f5c\u6210\u3067\u304d\u3001\u3042\u308b\u69cb\u9020\u4f53\u306f\u5b9f\u88c5\u3057\u305ftrait\u306b\u57fa\u3065\u3044\u3066\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u3053\u3067\u306f\u3001Insertable trait\u3092\u5b9f\u88c5\u3059\u308b\u3060\u3051\u3067\u3001NewUser\u69cb\u9020\u4f53\u306e\u6a5f\u80fd\u3092\u30ed\u30c3\u30af\u30c0\u30a6\u30f3\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u6b21\u306e\u56f3\u306b\u793a\u3059\u3088\u3046\u306b\u3001User\u69cb\u9020\u4f53\u306b\u5bfe\u3057\u3066\u4ed6\u306etrait\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3001\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <p>\u56f37.1 \u300ctrait\u3067\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u306e\u69cb\u9020\u4f53\u3092\u30ed\u30c3\u30af\u30c0\u30a6\u30f3\u3055\u305b\u308b</p> <p>\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3059\u308b\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3057\u305f\u306e\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3059\u308b\u65b9\u6cd5\u3092\u691c\u8a0e\u3057\u307e\u3059\u3002</p> <p>\u306a\u305c\u3001\u5fd8\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5fa9\u5143\u3067\u304d\u306a\u3044\u306e\u304b\u3001\u30ea\u30bb\u30c3\u30c8\u3057\u304b\u3067\u304d\u306a\u3044\u306e\u304b\u3001\u4e0d\u601d\u8b70\u306b\u601d\u3063\u305f\u3053\u3068\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u30cf\u30c3\u30b7\u30e5\u5316\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3059\u308b\u3053\u3068\u306f\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4fdd\u5b58\u3059\u308b\u969b\u306b\u3088\u304f\u884c\u308f\u308c\u308b\u3053\u3068\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u4f7f\u3063\u3066\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u96e3\u8aad\u5316\u3057\u3001\u8aad\u307f\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u3053\u308c\u304c\u884c\u308f\u308c\u308b\u3068\u3001\u5143\u306b\u623b\u3059\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002</p> <p>\u305d\u3057\u3066\u3001\u30cf\u30c3\u30b7\u30e5\u5316\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u308b\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u5165\u529b\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u30cf\u30c3\u30b7\u30e5\u5316\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u6bd4\u8f03\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u5165\u529b\u3055\u308c\u305f\u30cf\u30c3\u30b7\u30e5\u5316\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30cf\u30c3\u30b7\u30e5\u5316\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u4e00\u81f4\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u5229\u70b9\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305a\u3001\u30c7\u30fc\u30bf\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u5f93\u696d\u54e1\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u77e5\u3089\u308c\u308b\u3053\u3068\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u30c7\u30fc\u30bf\u6f0f\u6d29\u304c\u3042\u3063\u305f\u5834\u5408\u3001\u6f0f\u6d29\u3057\u305f\u30c7\u30fc\u30bf\u304b\u3089\u3001\u305d\u306e\u30c7\u30fc\u30bf\u3092\u6301\u3063\u3066\u3044\u305f\u4eba\u306b\u3042\u306a\u305f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u76f4\u63a5\u77e5\u3089\u308c\u308b\u306e\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u591a\u304f\u306e\u4eba\u304c\u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8907\u6570\u306e\u3053\u3068\u306b\u4f7f\u3063\u3066\u3044\u308b\uff08\u4f7f\u3063\u3066\u306f\u3044\u3051\u306a\u3044\u306e\u306b\uff09\u3053\u3068\u3092\u8003\u3048\u308b\u3068\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u306b\u30c7\u30fc\u30bf\u6f0f\u6d29\u304c\u8d77\u304d\u305f\u5834\u5408\u3001\u3042\u306a\u305f\u306e\u30a2\u30d7\u30ea\u3092\u4f7f\u3063\u3066\u3044\u308b\u4eba\u305f\u3061\u306b\u4e0e\u3048\u308b\u30c0\u30e1\u30fc\u30b8\u306f\u60f3\u50cf\u306b\u96e3\u304f\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u3057\u304b\u3057\u3001\u30cf\u30c3\u30b7\u30e5\u5316\u306f\u3053\u308c\u3088\u308a\u3082\u3063\u3068\u8907\u96d1\u3067\u3059\u3002\u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u3066\u3082\u3001\u540c\u3058\u30cf\u30c3\u30b7\u30e5\u306b\u306f\u306a\u3089\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3001\u30bd\u30eb\u30c6\u30a3\u30f3\u30b0\u3068\u3044\u3046\u6982\u5ff5\u304c\u3042\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u30cf\u30c3\u30b7\u30e5\u5316\u3059\u308b\u524d\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u306b\u4f59\u5206\u306a\u30d3\u30c3\u30c8\u306e\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3055\u308c\u307e\u3059\u3002\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u306b\u6e21\u3059DEFAULT_COST\u5b9a\u6570\u3082\u3001\u3053\u306e\u305f\u3081\u306b\u7528\u610f\u3055\u308c\u305f\u3082\u306e\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c7\u30fc\u30bf\u3092\u624b\u306b\u5165\u308c\u3001\u305d\u306e\u4e2d\u306b\u3042\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u63a8\u6e2c\u3059\u308b\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u305f\u3044\u3068\u3057\u307e\u3059\u3002\u5341\u5206\u306a\u8a08\u7b97\u80fd\u529b\u304c\u3042\u308c\u3070\u3001\u52b9\u7387\u3088\u304f\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u63a8\u6e2c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u305d\u3053\u3067\u3001\u30b3\u30b9\u30c8\u30fb\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u30b3\u30b9\u30c8\u30fb\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5897\u3084\u3059\u3068\u3001CPU\u6642\u9593\u304b\u30e1\u30e2\u30ea\u306e\u3069\u3061\u3089\u304b\u306e\u4f5c\u696d\u91cf\u304c\u6307\u6570\u95a2\u6570\u7684\u306b\u5897\u52a0\u3057\u307e\u3059\u3002\u30b3\u30b9\u30c8\u4fc2\u6570\u30921\u3064\u5897\u3084\u3059\u3068\u3001\u30cf\u30c3\u30b7\u30e5\u3092\u8a08\u7b97\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u6f14\u7b97\u56de\u6570\u304c1\u4e07\u56de\u3001\u3042\u308b\u3044\u306f\u305d\u308c\u4ee5\u4e0a\u306b\u5897\u3048\u308b\u3002</p> <p>\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306b\u3064\u3044\u3066\u3088\u308a\u8a73\u7d30\u306b\u8aac\u660e\u3059\u308b\u3053\u3068\u306f\u3001\u672c\u66f8\u306e\u7bc4\u56f2\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4fdd\u5b58\u3059\u308b\u969b\u306b\u306f\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30cf\u30c3\u30b7\u30e5\u5316\u306f\u5e38\u306b\u5fc5\u9808\u3067\u3042\u308b\u3053\u3068\u3092\u5f37\u8abf\u3057\u3066\u304a\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\u5e78\u3044\u306a\u3053\u3068\u306b\u3001\u4e3b\u8981\u306a\u8a00\u8a9e\u306b\u306f\u3001\u308f\u305a\u304b\u6570\u884c\u306e\u30b3\u30fc\u30c9\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30cf\u30c3\u30b7\u30e5\u5316\u3068\u30c1\u30a7\u30c3\u30af\u3092\u53ef\u80fd\u306b\u3059\u308b\u3055\u307e\u3056\u307e\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u3082Rust\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002</p> <p>\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3001\u6b21\u306e\u624b\u9806\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <ol> <li>\u307e\u305a\u3001\u6b21\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3055\u308c\u305fNewUser\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u3001\u5165\u529b\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u30cf\u30c3\u30b7\u30e5\u5316\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> <pre><code>impl NewUser {\npub fn new(username: String,\nemail: String, password: String) -&gt; NewUser {\nlet hashed_password: String = hash(\npassword.as_str(), DEFAULT_COST\n).unwrap();\nlet uuid = Uuid::new_v4().to_string();\nreturn NewUser {\nusername,\nemail,\npassword: hashed_password,\nunique_id: uuid\n}\n}\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001bcrypt crate\u306e\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u3092\u4f7f\u3063\u3066\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u3001DEFAULT_COST\u5b9a\u6570\u3082\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001Uuid\u30af\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u3066\u4e00\u610f\u306eID\u3092\u4f5c\u6210\u3057\u3001\u3053\u308c\u3089\u306e\u5c5e\u6027\u3092\u6301\u3064NewUser\u69cb\u9020\u4f53\u306e\u65b0\u3057\u3044\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u306e\u30a2\u30d7\u30ea\u3067\u306f\u3001\u4e00\u610f\u306aID\u306f\u5b9f\u969b\u306b\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u8907\u6570\u306e\u30b5\u30fc\u30d0\u30fc\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u9593\u3067\u901a\u4fe1\u3092\u884c\u3046\u5834\u5408\u3001\u3053\u308c\u3089\u306f\u4fbf\u5229\u306a\u3082\u306e\u306b\u306a\u308a\u307e\u3059\u3002</p> <ol> <li>NewUser\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3057\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067user.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> <pre><code>extern crate bcrypt;\nuse diesel::{Queryable, Identifiable};\nuse bcrypt::verify;\nuse crate::schema::users;\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001verify\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3068\u3001\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u69cb\u9020\u4f53\u304c\u30af\u30a8\u30ea\u53ef\u80fd\u3067\u8b58\u5225\u53ef\u80fd\u3067\u3042\u308b\u3053\u3068\u3092\u8a31\u53ef\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <ol> <li>\u524d\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u5b9a\u7fa9\u3057\u305f\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u3066\u3001User\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u69cb\u9020\u4f53\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3068\u304d\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u8aad\u307f\u8fbc\u307e\u308c\u308b\u69cb\u9020\u4f53\u3067\u3042\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002User\u69cb\u9020\u4f53\u306fNewUser\u69cb\u9020\u4f53\u3068\u540c\u3058\u30c6\u30fc\u30d6\u30eb\u3092\u4f7f\u7528\u3057\u307e\u3059\u304c\u3001id\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u308a\u3001\u633f\u5165\u3067\u306f\u306a\u304f\u30af\u30a8\u30ea\u3067\u51e6\u7406\u3055\u308c\u308b\u305f\u3081\u3067\u3059\u3002User\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3057\u305f\u3089\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002</li> </ol> <pre><code>#[derive(Queryable, Clone, Identifiable)]\n#[table_name=\"users\"]\npub struct User {\npub id: i32,\npub username: String,\npub email: String,\npub password: String,\npub unique_id: String\n}\n</code></pre> <p>id\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0\u3057\u305f\u3060\u3051\u3067\u3001Insertable trait\u306e\u4ee3\u308f\u308a\u306bQueryable trait\u3092\u6d3e\u751f\u3055\u305b\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u306d\u3002</p> <ol> <li>User\u69cb\u9020\u4f53\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u3001\u5165\u529b\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u30e6\u30fc\u30b6\u30fc\u306b\u5c5e\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u4e00\u81f4\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u691c\u8a3c\u3059\u308b\u95a2\u6570\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>impl User {\npub fn verify(&amp;self, password: String) -&gt; bool {\nverify(password.as_str(),\n&amp;self.password).unwrap()\n}\n}\n</code></pre> <ol> <li>\u3055\u3066\u3001\u30e2\u30c7\u30eb\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001\u5fd8\u308c\u305a\u306bmodels/user/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30e2\u30c7\u30eb\u3092\u767b\u9332\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002</li> </ol> <pre><code>pub mod new_user;\npub mod user;\n</code></pre> <ol> <li>\u3055\u3089\u306b\u3001models/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u884c\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u308c\u3089\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u30a2\u30d7\u30ea\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> </ol> <pre><code>pub mod item;\npub mod user;\n</code></pre> <p>\u3053\u308c\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u304c\u5b9a\u7fa9\u3055\u308c\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u307e\u3060ToDo\u9805\u76ee\u3068\u30ea\u30f3\u30af\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/CreatingOurUserModel/#todo","title":"ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u5909\u66f4\u3059\u308b","text":"<p>\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092ToDo\u9805\u76ee\u306b\u30ea\u30f3\u30af\u3055\u305b\u308b\u305f\u3081\u306b\u306f\u3001ToDo\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001\u8907\u6570\u306e\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30a2\u30a4\u30c6\u30e0\u30c6\u30fc\u30d6\u30eb\u306buser_id\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0\u3057\u3001user\u30c6\u30fc\u30d6\u30eb\u306eunique_id\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u305d\u306e\u307e\u307e\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u65b0\u3057\u3044\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3059\u308b\u3068\u304d\u306b\u3001\u305d\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u30e6\u30cb\u30fc\u30afID\u3092\u30a2\u30a4\u30c6\u30e0\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u6e21\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u7c21\u5358\u306b\u5b9f\u88c5\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\u3057\u304b\u3057\u3001\u30ea\u30b9\u30af\u3082\u3042\u308a\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u306e\u30e6\u30cb\u30fc\u30afID\u3092\u30a2\u30a4\u30c6\u30e0\u306b\u6e21\u3059\u3060\u3051\u3067\u306f\u3001\u305d\u306e\u30e6\u30fc\u30b6\u30fc\u306eID\u304c\u6709\u52b9\u3067\u3042\u308a\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u3042\u308b\u3053\u3068\u3092\u5f37\u5236\u3059\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u524a\u9664\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u306eID\u3092\u30a2\u30a4\u30c6\u30e0\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u633f\u5165\u3057\u3066\u3001\u5b64\u5150\u3068\u306a\u3063\u305f\u30a2\u30a4\u30c6\u30e0\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3059\u308b\u3053\u3068\u3092\u6b62\u3081\u308b\u3082\u306e\u306f\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u5834\u5408\u3001\u5b64\u5150\u3068\u306a\u3063\u305f\u30a2\u30a4\u30c6\u30e0\u304c\u95a2\u9023\u3059\u308b\u30e6\u30fc\u30b6\u30fcID\u3078\u306e\u53c2\u7167\u304c\u306a\u3044\u305f\u3081\u3001\u5f8c\u3067\u62bd\u51fa\u3059\u308b\u306e\u306f\u56f0\u96e3\u3067\u3059\u3002\u6b21\u306e\u56f3\u306e\u3088\u3046\u306b\u3001\u30e6\u30fc\u30b6\u30fc\u306eID\u3068\u30a2\u30a4\u30c6\u30e0\u306eID\u3092\u53c2\u7167\u3059\u308b\u65b0\u3057\u3044\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f37.2 \u300c\u30e6\u30fc\u30b6\u30fc\u3068\u30a2\u30a4\u30c6\u30e0\u306e\u95a2\u9023\u4ed8\u3051\u3092\u8a18\u9332\u3059\u308b\u305f\u3081\u306e\u72ec\u7acb\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30c6\u30fc\u30d6\u30eb</p> <p>\u3053\u306e\u5229\u70b9\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u524a\u9664\u3059\u308b\u3060\u3051\u3067\u3001\u30e6\u30fc\u30b6\u30fc\u3068\u30a2\u30a4\u30c6\u30e0\u3092\u7c21\u5358\u306b\u5207\u308a\u96e2\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u65b0\u3057\u3044\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u4f5c\u6210\u3059\u308b\u969b\u306b\u3001\u6709\u52b9\u306a\u30e6\u30fc\u30b6\u30fcID\u306e\u5f37\u5236\u3084\u30a2\u30a4\u30c6\u30e0ID\u306e\u5f37\u5236\u3092\u884c\u3046\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u307e\u305f\u3001\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b\u3001\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb\u3068\u30a2\u30a4\u30c6\u30e0\u30c6\u30fc\u30d6\u30eb\u306e2\u3064\u306e\u30af\u30a8\u30ea\u30fc\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30a2\u30a4\u30c6\u30e0\u30fb\u30c6\u30fc\u30d6\u30eb\u306b\u30e6\u30fc\u30b6\u30fcID\u30ab\u30e9\u30e0\u3092\u4ed8\u52a0\u3059\u308b\u65b9\u6cd5\u3068\u3001\u30a2\u30a4\u30c6\u30e0ID\u3068\u30e6\u30fc\u30b6\u30fc\u56fa\u6709ID\u3092\u4fdd\u6301\u3059\u308b\u30d6\u30ea\u30c3\u30b8\u30fb\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u306e2\u3064\u306f\u7c21\u5358\u306b\u5b9f\u88c5\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u8aac\u660e\u305b\u305a\u3001\u3053\u306e\u6642\u70b9\u3067\u81ea\u5206\u3067\u5b9f\u88c5\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002ToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u6587\u8108\u3067\u306f\u3001\u5148\u306e2\u3064\u306e\u65b9\u6cd5\u306f\u3001\u4f55\u306e\u30e1\u30ea\u30c3\u30c8\u3082\u306a\u304f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30c7\u30fc\u30bf\u3092\u633f\u5165\u3059\u308b\u969b\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u5371\u967a\u6027\u304c\u3042\u308b\u305f\u3081\u3001\u52a3\u3063\u305f\u65b9\u6cd5\u3068\u306a\u308a\u307e\u3059\u3002\u3068\u306f\u3044\u3048\u3001\u5148\u306e2\u3064\u306e\u65b9\u6cd5\u3092\u7d76\u5bfe\u306b\u4f7f\u3063\u3066\u306f\u3044\u3051\u306a\u3044\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u3088\u3063\u3066\u3001\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u306f\u7570\u306a\u308a\u307e\u3059\u3002\u79c1\u305f\u3061\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3001\u6b21\u306e\u56f3\u306b\u793a\u3059\u3088\u3046\u306b\u3001\u30e6\u30fc\u30b6\u30fc\u3068\u30a2\u30a4\u30c6\u30e0\u3092\u7d50\u3073\u3064\u3051\u308b\u5916\u90e8\u30ad\u30fc\u3092\u4f5c\u6210\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002</p> <p>\u56f37.3 - \u30e6\u30fc\u30b6\u30fc\u3068\u30a2\u30a4\u30c6\u30e0\u9593\u306e\u5916\u90e8\u30ad\u30fc\u95a2\u9023\u4ed8\u3051</p> <p>\u3053\u306e\u305f\u3081\u30011\u56de\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u547c\u3073\u51fa\u3057\u3067\u30e6\u30fc\u30b6\u30fc\u306b\u95a2\u9023\u3059\u308b\u30a2\u30a4\u30c6\u30e0\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u304c\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u6b63\u898f\u306e\u30e6\u30fc\u30b6\u30fcID\u3078\u306e\u53c2\u7167\u3092\u6301\u3064\u30a2\u30a4\u30c6\u30e0\u306e\u307f\u3092\u633f\u5165\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u5916\u90e8\u30ad\u30fc\u306f\u307e\u305f\u3001\u30ab\u30b9\u30b1\u30fc\u30c9\u30a4\u30d9\u30f3\u30c8\u3092\u5f15\u304d\u8d77\u3053\u3059\u3053\u3068\u304c\u3067\u304d\u3001\u30e6\u30fc\u30b6\u30fc\u3092\u524a\u9664\u3059\u308b\u3068\u3001\u305d\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u95a2\u9023\u3059\u308b\u65e2\u5b58\u306e\u30a2\u30a4\u30c6\u30e0\u304c\u3059\u3079\u3066\u81ea\u52d5\u7684\u306b\u524a\u9664\u3055\u308c\u3001\u5b64\u5150\u304c\u4f5c\u6210\u3055\u308c\u308b\u306e\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u5916\u90e8\u30ad\u30fc\u306f\u3001\u30de\u30af\u30ed\u3067\u30c6\u30fc\u30d6\u30eb\u3078\u306e\u30ea\u30f3\u30af\u3092\u5ba3\u8a00\u3059\u308b\u3053\u3068\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002models/item/item.rs\u3067\u306f\u3001\u6700\u521d\u306b\u4ee5\u4e0b\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u7528\u610f\u3059\u308b\u3053\u3068\u3067\u3053\u308c\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002</p> <pre><code>use crate::schema::to_do;\nuse chrono::NaiveDateTime;\nuse super::super::user::user::User;\n</code></pre> <p>\u6b21\u306e\u30b3\u30fc\u30c9\u306b\u793a\u3059\u3088\u3046\u306b\u3001Item\u69cb\u9020\u4f53\u304cUser\u69cb\u9020\u4f53\u306b\u5c5e\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u4e3b\u5f35\u3059\u308b\u305f\u3081\u306b\u3001belongs_to\u30de\u30af\u30ed\u3067\u53c2\u7167\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001User\u69cb\u9020\u4f53\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <pre><code>#[derive(Queryable, Identifiable, Associations)]\n#[belongs_to(User)]\n#[table_name=\"to_do\"]\npub struct Item {\npub id: i32,\npub title: String,\npub status: String,\npub date: NaiveDateTime,\npub user_id: i32,\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u69cb\u9020\u4f53\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001belongs_to\u30de\u30af\u30ed\u3067\u5b9a\u7fa9\u3057\u3001user_id\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0\u3057\u3066\u69cb\u9020\u4f53\u3092\u30ea\u30f3\u30af\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u306a\u304a\u3001Associations\u30de\u30af\u30ed\u3092\u542b\u3081\u306a\u3044\u3068\u3001belongs_to\u30de\u30af\u30ed\u306f\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002</p> <p>\u6700\u5f8c\u306b\u3001models/item/new_item.rs\u30d5\u30a1\u30a4\u30eb\u306efields\u3068constructor\u306buser_id\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u65b0\u3057\u3044ToDo\u9805\u76ee\u3092\u3001\u305d\u306e\u9805\u76ee\u3092\u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u306b\u30ea\u30f3\u30af\u3055\u305b\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3053\u3068\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use crate::schema::to_do;\nuse chrono::{NaiveDateTime, Utc};\n#[derive(Insertable)]\n#[table_name=\"to_do\"]\npub struct NewItem {\npub title: String,\npub status: String,\npub date: NaiveDateTime,\npub user_id: i32,\n}\nimpl NewItem {\npub fn new(title: String, user_id: i32) -&gt; NewItem {\nlet now = Utc::now().naive_local();\nNewItem{\ntitle, status: String::from(\"PENDING\"),\ndate: now,\nuser_id\n}\n}\n}\n</code></pre> <p>\u305d\u3053\u3067\u3001\u3053\u308c\u307e\u3067\u306e\u5185\u5bb9\u3092\u6574\u7406\u3059\u308b\u3068\u3001\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u69cb\u9020\u4f53\u306f\u3059\u3079\u3066\u5909\u66f4\u3055\u308c\u3001\u30a2\u30d7\u30ea\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u3084\u308a\u53d6\u308a\u3059\u308b\u969b\u306b\u5fc5\u8981\u306a\u3068\u304d\u306b\u5fc5\u8981\u306a\u5206\u3060\u3051\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u66f4\u65b0\u3057\u3066\u3044\u307e\u305b\u3093\u3057\u3001\u30a2\u30d7\u30ea\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u3064\u306a\u3050\u30d6\u30ea\u30c3\u30b8\u3082\u66f4\u65b0\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u6b21\u306b\u3053\u308c\u3092\u884c\u3046\u4e88\u5b9a\u3067\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/CreatingOurUserModel/#_2","title":"\u30b9\u30ad\u30fc\u30de\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0","text":"<p>\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u69cb\u9020\u4f53\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u304c\u6700\u65b0\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u3053\u308c\u3089\u306e\u5909\u66f4\u306b\u5408\u308f\u305b\u3066\u30b9\u30ad\u30fc\u30de\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3064\u307e\u308a\u3001ToDo\u9805\u76ee\u30c6\u30fc\u30d6\u30eb\u306e\u65e2\u5b58\u306e\u30b9\u30ad\u30fc\u30de\u3092\u5909\u66f4\u3057\u3001src/schema.rs\u30d5\u30a1\u30a4\u30eb\u306b\u30e6\u30fc\u30b6\u30fc\u30b9\u30ad\u30fc\u30de\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u793a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>table! {\nto_do (id) {\nid -&gt; Int4,\ntitle -&gt; Varchar,\nstatus -&gt; Varchar,\ndate -&gt; Timestamp,\nuser_id -&gt; Int4,\n}\n}\ntable! {\nusers (id) {\nid -&gt; Int4,\nusername -&gt; Varchar,\nemail -&gt; Varchar,\npassword -&gt; Varchar,\nunique_id -&gt; Varchar,\n}\n}\n</code></pre> <p>\u30b9\u30ad\u30fc\u30de\u30d5\u30a1\u30a4\u30eb\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u3001Rust\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3068\u540c\u3058\u9806\u5e8f\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u91cd\u8981\u306a\u3053\u3068\u3067\u3001\u305d\u3046\u3057\u306a\u3044\u3068\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3059\u308b\u3068\u304d\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u4e0d\u4e00\u81f4\u306b\u306a\u308b\u304b\u3089\u3067\u3059\u3002\u307e\u305f\u3001\u30b9\u30ad\u30fc\u30de\u306f\u5358\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u305d\u306e\u578b\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3001ToDo\u30c6\u30fc\u30d6\u30eb\u3068\u30e6\u30fc\u30b6\u30fc\u30c6\u30fc\u30d6\u30eb\u306e\u95a2\u4fc2\u3092\u7db2\u7f85\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3053\u3068\u3082\u304a\u5206\u304b\u308a\u3044\u305f\u3060\u3051\u308b\u3068\u601d\u3044\u307e\u3059\u3002</p> <p>\u306a\u305c\u306a\u3089\u3001\u79c1\u305f\u3061\u304c\u72ec\u81ea\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u5b9f\u884c\u3059\u308b\u3068\u3001\u3053\u306e\u30b9\u30ad\u30fc\u30de\u30d5\u30a1\u30a4\u30eb\u306f\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u30b7\u30c3\u30d7\u3067\u66f4\u65b0\u3055\u308c\u308b\u304b\u3089\u3067\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u3053\u306e\u30b9\u30ad\u30fc\u30de\u30d5\u30a1\u30a4\u30eb\u3092\u5b8c\u6210\u3055\u305b\u308b\u305f\u3081\u306b\u3001\u72ec\u81ea\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/CreatingOurUserModel/#_3","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4e0a\u3067\u306e\u79fb\u884c\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f5c\u6210\u3068\u5b9f\u884c","text":"<p>\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u306f\u3001\u7b2c6\u7ae0\u300cPostgreSQL\u306b\u3088\u308b\u30c7\u30fc\u30bf\u6c38\u7d9a\u5316\u300d\u3067\u53d6\u308a\u4e0a\u3052\u305f\u3001Diesel\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u65b9\u6cd5\u3068\u540c\u69d8\u306e\u6d41\u308c\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305a\u3001docker-compose\u30b3\u30de\u30f3\u30c9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>$ docker-compose up\n</code></pre> <p>\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u306f\u3001\u3053\u308c\u3092\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>$ diesel migration generate create_users\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001migrations\u306e\u4e2d\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u3001\u305d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u306bcreate_users\u304c\u542b\u307e\u308c\u308b\u3002\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u306b\u30012\u3064\u306e\u7a7a\u306eSQL\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001migrations\u306e\u305f\u3081\u306e\u72ec\u81ea\u306eSQL\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u624b\u52d5\u3067\u8a18\u8ff0\u3057\u307e\u3059\u3002\u5f53\u521d\u306f\u3001\u4ed6\u306e\u8a00\u8a9e\u3067\u3082\u3053\u308c\u3089\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u81ea\u52d5\u751f\u6210\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3042\u308b\u306e\u3067\u3001\u4e0d\u8981\u3060\u3068\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u3053\u308c\u3092\u884c\u3046\u3053\u3068\u306b\u306f\u3044\u304f\u3064\u304b\u306e\u5229\u70b9\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u306f\u3001\u307e\u305a\u3001\u3082\u3046\u4e00\u3064\u306e\u4fbf\u5229\u306a\u30c4\u30fc\u30eb\u3067\u3042\u308bSQL\u306b\u624b\u3092\u3064\u3051\u3066\u304a\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u79c1\u305f\u3061\u304c\u89e3\u6c7a\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u65e5\u3005\u306e\u554f\u984c\u3067\u3001SQL\u3092\u6d3b\u7528\u3057\u305f\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u8003\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u6d41\u308c\u3092\u3088\u308a\u7d30\u304b\u304f\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u3053\u308c\u304b\u3089\u4f5c\u6210\u3059\u308b\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u30c6\u30fc\u30d6\u30eb\u3068\u30d9\u30fc\u30b9\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u3001to_do\u30c6\u30fc\u30d6\u30eb\u306e\u30ab\u30e9\u30e0\u3092\u5909\u66f4\u3059\u308b\u969b\u306b\u3001\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u30e6\u30fc\u30b6\u30fc\u884c\u306eID\u3067\u57cb\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092up.sql\u30d5\u30a1\u30a4\u30eb\u3067\u6b21\u306e\u3088\u3046\u306a\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <pre><code>CREATE TABLE users (\nid SERIAL PRIMARY KEY,\nusername VARCHAR NOT NULL UNIQUE,\nemail VARCHAR NOT NULL UNIQUE,\npassword VARCHAR NOT NULL,\nunique_id VARCHAR NOT NULL\n);\n</code></pre> <p>\u3053\u308c\u306f\u5206\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u306d\u3002email\u3068username\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u4e00\u610f\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u96fb\u5b50\u30e1\u30fc\u30eb\u304c\u91cd\u8907\u3057\u3066\u3044\u308b\u30e6\u30fc\u30b6\u30fc\u3092\u6392\u9664\u3059\u308b\u305f\u3081\u3067\u3059\u3002\u3053\u306e\u30ec\u30d9\u30eb\u3067\u5236\u7d04\u3092\u5165\u308c\u308b\u306e\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u7406\u7531\u304b\u3089\u3067\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u96fb\u5b50\u30e1\u30fc\u30eb\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u547c\u3073\u51fa\u3057\u3001\u91cd\u8907\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u306e\u633f\u5165\u3092\u62d2\u5426\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u306e\u554f\u984c\u304b\u3089\u4fdd\u8b77\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u3057\u304b\u3057\u3001\u30b3\u30fc\u30c9\u306b\u8aa4\u308a\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3057\u3001\u5c06\u6765\u8ab0\u304b\u304c\u79c1\u305f\u3061\u306e\u30b3\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u7de8\u96c6\u6a5f\u80fd\u306a\u3069\u3001\u3053\u306e\u30c1\u30a7\u30c3\u30af\u304c\u306a\u3044\u65b0\u6a5f\u80fd\u304c\u5c0e\u5165\u3055\u308c\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\u884c\u3092\u5909\u66f4\u3057\u305f\u308a\u3001\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u3092\u633f\u5165\u3057\u305f\u308a\u3059\u308b\u79fb\u884c\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u81ea\u5206\u3067SQL\u3092\u66f8\u304f\u5834\u5408\u306f\u3001\u64cd\u4f5c\u304c\u7d42\u4e86\u3057\u305f\u3053\u3068\u3092\u793a\u3059\u305f\u3081\u306b;\u8a18\u53f7\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3001\u901a\u5e38\u3001\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3067\u3059\u3002</p> <p>\u3053\u306eSQL\u30b3\u30de\u30f3\u30c9\u304c\u767a\u884c\u3055\u308c\u3001\u305d\u306e\u5f8c\u306b\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002up.sql\u30d5\u30a1\u30a4\u30eb\u306e\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fb\u30e6\u30fc\u30b6\u884c\u3092\u633f\u5165\u3057\u307e\u3059\u3002</p> <pre><code>INSERT INTO users (username, email, password, unique_id)\nVALUES ('placeholder', 'placeholder email', 'placeholder password', 'placeholder unique id');\n</code></pre> <p>\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u305f\u306e\u3067\u3001\u6b21\u306bto_do\u30c6\u30fc\u30d6\u30eb\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u5148\u307b\u3069\u306e\u30b3\u30de\u30f3\u30c9\u3068\u540c\u3058\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>ALTER TABLE to_do ADD user_id integer default 1\nCONSTRAINT user_id REFERENCES users NOT NULL;\n</code></pre> <p>\u4ee5\u4e0a\u3067\u3001up.sql\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306f\u5b9a\u7fa9\u3055\u308c\u307e\u3057\u305f\u3002\u6b21\u306b\u3001down.sql\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002down\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u57fa\u672c\u7684\u306bup\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u884c\u3063\u305f\u3053\u3068\u3092\u9006\u306b\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3064\u307e\u308a\u3001to_do\u30c6\u30fc\u30d6\u30eb\u306euser_id\u30ab\u30e9\u30e0\u3092\u524a\u9664\u3057\u3001\u3055\u3089\u306buser\u30c6\u30fc\u30d6\u30eb\u3092\u5b8c\u5168\u306b\u524a\u9664\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001down.sql\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u4ee5\u4e0b\u306eSQL\u30b3\u30fc\u30c9\u3067\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>ALTER TABLE to_do DROP COLUMN user_id;\nDROP TABLE users\n</code></pre> <p>\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u305f\u3081\u306b\u306f\u3001Docker\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u3092\u5ff5\u982d\u306b\u7f6e\u3044\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u5b9f\u884c\u3055\u308c\u308b\u3068\u3001src/schema.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p> <pre><code>joinable!(to_do -&gt; users (user_id));\nallow_tables_to_appear_in_same_query!(\nto_do,\nusers,\n);\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001Rust\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u304c\u30e6\u30fc\u30b6\u30fc\u3068ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u95a2\u4fc2\u306b\u95a2\u3059\u308b\u30af\u30a8\u30ea\u30fc\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u30a2\u30d7\u30ea\u3092\u518d\u3073\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u305d\u306e\u524d\u306b\u3001src/views/to_do/create.rs \u30d5\u30a1\u30a4\u30eb\u3092\u5c11\u3057\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002create \u30d3\u30e5\u30fc\u95a2\u6570\u306e\u65b0\u3057\u3044\u30a2\u30a4\u30c6\u30e0\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u3001\u6b21\u306e\u884c\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e6\u30fc\u30b6\u30fc ID \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> <pre><code>let new_post = NewItem::new(title, 1);\n</code></pre> <p>\u4eca\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u7b2c6\u7ae0PostgreSQL\u306b\u3088\u308b\u30c7\u30fc\u30bf\u6c38\u7d9a\u5316\u3067\u8aac\u660e\u3057\u305f\u306e\u3068\u540c\u3058\u52d5\u4f5c\u306b\u306a\u308a\u3001\u4f5c\u6210\u3057\u305f\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u30a2\u30d7\u30ea\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u3001\u4e00\u610f\u306eID\u3092\u751f\u6210\u3059\u308b\u969b\u306b\u3001\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u304c\u6a5f\u80fd\u3059\u308b\u304b\u3069\u3046\u304b\u3082\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u306f\u3001\u30b9\u30ad\u30fc\u30de\u3092\u5b9a\u7fa9\u3057\u3001\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3059\u308b\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30b9\u30ad\u30fc\u30de\u306f\u3001src/json_serialization/new_user.rs \u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use serde::Deserialize;\n#[derive(Deserialize)]\npub struct NewUserSchema {\npub name: String,\npub email: String,\npub password: String\n}\n</code></pre> <p>\u3053\u306e\u5f8c\u3001src/json_serialization/mod.rs \u30d5\u30a1\u30a4\u30eb\u3067 pub mod new_user; \u3068\u3057\u3066\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u30b9\u30ad\u30fc\u30de\u3092\u5ba3\u8a00\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b9\u30ad\u30fc\u30de\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u3089\u3001\u6b21\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\u3067\u72ec\u81ea\u306e\u30e6\u30fc\u30b6\u30fb\u30d3\u30e5\u30fc\u30fb\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>views\n...\n\u2514\u2500\u2500 users\n\u00a0\u00a0\u00a0\u00a0\u251c\u2500\u2500 create.rs\n\u00a0\u00a0\u00a0\u00a0\u2514\u2500\u2500 mod.rs\n</code></pre> <p>users/create.rs\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001create\u30d3\u30e5\u30fc\u95a2\u6570\u3092\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30af\u30ec\u30fc\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</p> <pre><code>use crate::diesel;\nuse diesel::prelude::*;\nuse actix_web::{web, HttpResponse, Responder};\nuse actix_web::HttpResponseBuilder;\nuse crate::database::DB;\nuse crate::json_serialization::new_user::NewUserSchema;\nuse crate::models::user::new_user::NewUser;\nuse crate::schema::users;\n</code></pre> <p>\u3053\u308c\u307e\u3067\u4f55\u5ea6\u3082\u30d3\u30e5\u30fc\u3092\u69cb\u7bc9\u3057\u3066\u304d\u305f\u306e\u3067\u3001\u3053\u308c\u3089\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u306f\u9a5a\u304f\u3088\u3046\u306a\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u547c\u3073\u51fa\u3057\u3092\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081\u306b\u3001Diesel\u30de\u30af\u30ed\u3068crate\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u6b21\u306b\u3001actix_web traits\u3068structs\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001\u30d3\u30e5\u30fc\u3078\u306e\u30c7\u30fc\u30bf\u306e\u6d41\u5165\u3068\u6d41\u51fa\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002\u6b21\u306b\u3001\u30b9\u30ad\u30fc\u30de\u3068\u69cb\u9020\u4f53\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001\u53d7\u4fe1\u304a\u3088\u3073\u51e6\u7406\u3059\u308b\u30c7\u30fc\u30bf\u3092\u69cb\u9020\u5316\u3057\u307e\u3059\u3002\u6b63\u3057\u3044\u30af\u30ec\u30fc\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30d3\u30e5\u30fc\u4f5c\u6210\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>pub async fn create(new_user: web::Json&lt;NewUserSchema&gt;, db: DB) -&gt; impl Responder {\n. . .\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001NewUserSchema\u69cb\u9020\u4f53\u306b\u8aad\u307f\u8fbc\u307e\u308c\u305fJSON\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u5165\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001DB\u69cb\u9020\u4f53\u3092\u4f7f\u7528\u3057\u3066\u3001\u63a5\u7d9a\u30d7\u30fc\u30eb\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u78ba\u7acb\u3057\u3066\u3044\u307e\u3059\u3002create view\u95a2\u6570\u5185\u3067\u306f\u3001NewUserSchema\u69cb\u9020\u4f53\u304b\u3089\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067NewUser\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>let new_user = NewUser::new(\nnew_user.name.clone(),\nnew_user.email.clone(),\nnew_user.password.clone()\n);\n</code></pre> <p>NewUser\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u6e21\u3059\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u30af\u30ed\u30fc\u30f3\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u6587\u5b57\u5217\u304cCopy trait\u3092\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3067\u3001\u624b\u52d5\u3067\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u633f\u5165\u30b3\u30de\u30f3\u30c9\u3092\u4f5c\u6210\u3057\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u305d\u308c\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <pre><code>let insert_result = diesel::insert_into(users::table)\n.values(&amp;new_user)\n.execute(&amp;db.connection);\n</code></pre> <p>\u3053\u308c\u306fResult\u69cb\u9020\u4f53\u3092\u8fd4\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u76f4\u63a5\u30a2\u30f3\u30e9\u30c3\u30d7\u3059\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u304b\u3089\u3067\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u3059\u3067\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u3042\u308b\u30e6\u30fc\u30b6\u30fc\u540d\u3084\u96fb\u5b50\u30e1\u30fc\u30eb\u3092\u6301\u3064\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u3092\u633f\u5165\u3057\u3088\u3046\u3068\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u304c\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u306f\u907f\u3051\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u30e6\u30cb\u30fc\u30af\u306a\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u96fb\u5b50\u30e1\u30fc\u30eb\u306e\u5236\u7d04\u3092\u79c1\u305f\u3061\u81ea\u8eab\u304c\u5b9f\u88c5\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u4e88\u60f3\u3055\u308c\u308b\u30a8\u30c3\u30b8\u30b1\u30fc\u30b9\u3067\u3059\u3002\u3082\u3057\u3001\u30d3\u30e5\u30fc\u306e\u5b9f\u884c\u6642\u306b\u6b63\u5f53\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u306e\u3067\u3042\u308c\u3070\u3001\u79c1\u305f\u3061\u306f\u305d\u308c\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30a8\u30c3\u30b8\u30b1\u30fc\u30b9\u306b\u5fdc\u7b54\u30b3\u30fc\u30c9\u3092\u4e0e\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067insert\u306e\u7d50\u679c\u3092\u7167\u5408\u3057\u3001\u9069\u5207\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <pre><code>match insert_result {\nOk(_) =&gt; HttpResponse::Created(),\nErr(_) =&gt; HttpResponse::Conflict()\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u78ba\u7acb\u3057\u3001JSON\u672c\u4f53\u304b\u3089\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u62bd\u51fa\u3057\u3066\u3001\u65b0\u3057\u3044NewUser\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3057\u3001\u305d\u308c\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u633f\u5165\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4ed6\u306e\u30d3\u30e5\u30fc\u3068\u6bd4\u8f03\u3057\u3066\u3001\u82e5\u5e72\u306e\u9055\u3044\u304c\u3042\u308a\u307e\u3059\u3002\u30ea\u30bf\u30fc\u30f3\u30fb\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u306f\u3001await\u3057\u3066\u304b\u3089unwrap\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u306f\u3001JSON\u30dc\u30c7\u30a3\u3092\u8fd4\u3055\u306a\u3044\u305f\u3081\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001HttpResponse::Ok()\u306f\u3001\u5358\u306a\u308b\u30d3\u30eb\u30c0\u30fc\u69cb\u9020\u4f53\u3067\u3042\u308b\u3002</p> <p>\u3055\u3066\u3001create view\u3092\u69cb\u7bc9\u3057\u305f\u306e\u3067\u3001views/users/mod.rs\u30d5\u30a1\u30a4\u30eb\u306b\u30d3\u30e5\u30fc\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u6b21\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>mod create;\nuse actix_web::web::{ServiceConfig, post, scope};\npub fn user_views_factory(app: &amp;mut ServiceConfig) {\napp.service(\nscope(\"v1/user\")\n.route(\"create\", post().to(create::create))\n);\n}\n</code></pre> <p>\u7e70\u308a\u8fd4\u3057\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u79c1\u305f\u3061\u306f\u5b9a\u671f\u7684\u306b\u30d3\u30e5\u30fc\u3092\u69cb\u7bc9\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\u3069\u308c\u3082\u304c\u9a5a\u304f\u3088\u3046\u306a\u3053\u3068\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3082\u3057\u305d\u3046\u306a\u3089\u3001\u7b2c3\u7ae0HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406\u306eActix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u305f\u30d3\u30e5\u30fc\u306e\u7ba1\u7406\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u8aad\u3093\u3067\u3001\u660e\u78ba\u306b\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u3055\u3066\u3001views/mod.rs\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30e1\u30a4\u30f3\u30d3\u30e5\u30fc\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>mod auth;\nmod to_do;\nmod app;\nmod users;\nuse auth::auth_views_factory;\nuse to_do::to_do_views_factory;\nuse app::app_views_factory;\nuse users::user_views_factory;\nuse actix_web::web::ServiceConfig;\npub fn views_factory(app: &amp;mut ServiceConfig) {\nauth_views_factory(app);\nto_do_views_factory(app);\napp_views_factory(app);\nuser_views_factory(app);\n}\n</code></pre> <p>\u30e6\u30fc\u30b6\u30fc\u30d3\u30e5\u30fc\u306e\u767b\u9332\u304c\u5b8c\u4e86\u3057\u305f\u306e\u3067\u3001\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3057\u3001\u6b21\u306ePostman\u30b3\u30fc\u30eb\u3067\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <p>\u56f37.4 - Postman\u306b\u3088\u308bcreate user\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3078\u306e\u547c\u3073\u51fa\u3057</p> <p>\u3053\u308c\u3067\u3001201\u306ecreated response\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\u307e\u3063\u305f\u304f\u540c\u3058\u547c\u3073\u51fa\u3057\u3092\u3082\u3046\u4e00\u5ea6\u884c\u3046\u3068\u3001409\u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u304c\u8fd4\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\u3053\u308c\u3067\u3001\u65b0\u3057\u3044\u30e6\u30fc\u30b6\u304c\u4f5c\u6210\u3055\u308c\u305f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u7b2c6\u7ae0PostgreSQL\u306b\u3088\u308b\u30c7\u30fc\u30bf\u6c38\u7d9a\u5316\u300d\u306e\u300cDiesel\u306b\u3088\u308bPostgreSQL\u3078\u306e\u63a5\u7d9a\u300d\u3067\u8aac\u660e\u3057\u305f\u624b\u9806\u3067\u3001Docker\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u691c\u67fb\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p>```rust  id |\u00a0\u00a0\u00a0\u00a0name\u00a0\u00a0\u00a0\u00a0\u00a0|\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0email ----+-------------+------------------- \u00a0\u00a01 | placeholder | placeholder email \u00a0\u00a02 | maxwell\u00a0\u00a0\u00a0\u00a0\u00a0| test@gmail.com \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0password</p> <p>placeholder password  $2b$12$jlfLwu4AHjrvTpZrB311Y.W0JulQ71WVy2g771xl50e5nS1UfqwQ. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0unique_id</p> <p>placeholder unique id  543b7aa8-e563-43e0-8f62-55211960a604  ```</p> <p>\u3053\u3053\u3067\u306f\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u4f5c\u6210\u3055\u308c\u305f\u521d\u671f\u30e6\u30fc\u30b6\u30fc\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30d3\u30e5\u30fc\u3067\u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u3082\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u30cf\u30c3\u30b7\u30e5\u5316\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u4e00\u610f\u306eID\u304c\u3042\u308a\u307e\u3059\u3002NewUser\u69cb\u9020\u4f53\u306b\u5c5e\u3059\u308b\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u95a2\u6570\u3092\u901a\u3058\u3066\u306e\u307f\u3001\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u306e\u6587\u8108\u3067\u306f\u3001\u30e6\u30cb\u30fc\u30af\u306aID\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u8907\u6570\u306e\u30b5\u30fc\u30d0\u30fc\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306a\u72b6\u6cc1\u3067\u306f\u3001\u30e6\u30cb\u30fc\u30af\u306aID\u304c\u5f79\u306b\u7acb\u3064\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u30012\u56de\u76ee\u306e\u7af6\u5408\u5bfe\u5fdc\u306f\u6b63\u3057\u304f\u30013\u56de\u76ee\u306e\u30ec\u30d7\u30ea\u30ab\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc\u547c\u3073\u51fa\u3057\u3067\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30ec\u30d7\u30ea\u30ab\u30e6\u30fc\u30b6\u30fc\u304c\u633f\u5165\u3055\u308c\u306a\u304b\u3063\u305f\u3053\u3068\u306b\u3082\u6ce8\u610f\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002</p> <p>\u3053\u308c\u3067\u3001ToDo\u9805\u76ee\u306b\u30ea\u30f3\u30af\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u30e2\u30c7\u30eb\u3092\u6301\u3064\u30e6\u30fc\u30b6\u30fc\u30c6\u30fc\u30d6\u30eb\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u306f\u901a\u5e38\u901a\u308a\u7a3c\u50cd\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u3088\u3046\u306b\u3001\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u30b7\u30c3\u30d7\u3068\u69cb\u9020\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u6301\u3064\u4ed6\u306e\u30c7\u30fc\u30bf\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3067\u3001\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3084\u30c0\u30a6\u30f3\u30b0\u30ec\u30fc\u30c9\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u691c\u8a3c\u3084\u4f5c\u6210\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3082\u89e3\u8aac\u3057\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u5b9f\u969b\u306b\u30e6\u30fc\u30b6\u30fc\u304c\u6b63\u3057\u3044\u8a8d\u8a3c\u60c5\u5831\u3092\u6e21\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u30b3\u30fc\u30c9\u306f\u66f8\u3044\u3066\u3044\u307e\u305b\u3093\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u3092\u8a8d\u8a3c\u3057\u3001\u6b63\u3057\u3044\u8cc7\u683c\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u62d2\u5426\u3059\u308b\u3053\u3068\u306b\u53d6\u308a\u7d44\u307f\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/ManagingUserSessions/","title":"7.4 - \u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u7ba1\u7406","text":""},{"location":"7_ManagingUserSessions/ManagingUserSessions/#_1","title":"\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u7ba1\u7406","text":"<p>\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u3066\u306f\u3001\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u30d8\u30c3\u30c0\u3092\u4ecb\u3057\u3066\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u30e6\u30fc\u30b6\u30fc\u306b\u8fd4\u3059JWT\u3092\u751f\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6700\u521d\u306e\u30b9\u30c6\u30c3\u30d7\u306f\u3001src/json_serialization/login.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\u30b9\u30ad\u30fc\u30de\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u3059\u3002</p> <pre><code>use serde::Deserialize;\n#[derive(Deserialize)]\npub struct Login {\npub username: String,\npub password: String\n}\n</code></pre> <p>\u3053\u308c\u3092src/json_serialization/mod.rs\u30d5\u30a1\u30a4\u30eb\u306epub mod login;\u3068\u3044\u3046\u30b3\u30fc\u30c9\u884c\u3067\u767b\u9332\u3059\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u30ed\u30b0\u30a4\u30f3\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u7b2c3\u7ae0 HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406\u300d\u306e\u300cActix Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u305f\u30d3\u30e5\u30fc\u306e\u7ba1\u7406\u300d\u3067\u4f5c\u6210\u3057\u305fsrc/views/auth/login.rs\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3066\u3001\u57fa\u672c\u7684\u306a\u30ed\u30b0\u30a4\u30f3\u30d3\u30e5\u30fc\u3092\u5ba3\u8a00\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u308c\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u5358\u306b\u6587\u5b57\u5217\u3092\u8fd4\u3059\u3060\u3051\u3067\u3059\u3002</p> <p>\u3055\u3066\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u306b\u793a\u3059\u3088\u3046\u306b\u3001\u5fc5\u8981\u306a\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u306e\u30d3\u30e5\u30fc\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u958b\u59cb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use crate::diesel;\nuse diesel::prelude::*;\nuse actix_web::{web, HttpResponse, Responder};\nuse crate::database::DB;\nuse crate::models::user::user::User;\nuse crate::json_serialization::login::Login;\nuse crate::schema::users;\nuse crate::jwt::JwToken;\n</code></pre> <p>\u3053\u306e\u6bb5\u968e\u3067\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u3061\u3089\u3063\u3068\u898b\u3066\u3001\u3053\u308c\u304b\u3089\u4f55\u3092\u3059\u308b\u306e\u304b\u304c\u308f\u304b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u672c\u6587\u304b\u3089\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u62bd\u51fa\u3059\u308b\u3064\u3082\u308a\u3067\u3059\u3002\u6b21\u306b\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3057\u3066\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u3001JwToken\u69cb\u9020\u4f53\u3092\u4f7f\u7528\u3057\u3066\u30e6\u30fc\u30b6\u30fc\u306b\u8fd4\u3059\u30c8\u30fc\u30af\u30f3\u3092\u4f5c\u6210\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u540c\u3058\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u3001\u30d3\u30e5\u30fc\u306e\u30a2\u30a6\u30c8\u30e9\u30a4\u30f3\u3092\u6700\u521d\u306b\u30ec\u30a4\u30a2\u30a6\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>. . .\nUse std::collections::HashMap;\npub async fn login(credentials: web::Json&lt;Login&gt;,\ndb: DB) -&gt; impl HttpResponse {\n. . .\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u53d7\u4fe1\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3\u304b\u3089\u30ed\u30b0\u30a4\u30f3\u8a8d\u8a3c\u60c5\u5831\u3092\u53d7\u3051\u53d6\u308a\u3001\u30d3\u30e5\u30fc\u306e\u63a5\u7d9a\u30d7\u30fc\u30eb\u304b\u3089\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u3092\u6e96\u5099\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u304b\u3089\u5fc5\u8981\u306a\u60c5\u5831\u3092\u62bd\u51fa\u3057\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002</p> <pre><code>let password = credentials.password.clone();\nlet users = users::table\n.filter(users::columns::username.eq(\ncredentials.username.clone())\n).load::&lt;User&gt;(&amp;db.connection).unwrap();\n</code></pre> <p>\u3055\u3066\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u547c\u3073\u51fa\u3057\u304b\u3089\u671f\u5f85\u3057\u305f\u3082\u306e\u304c\u5f97\u3089\u308c\u305f\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>if users.len() == 0 {\nreturn HttpResponse::NotFound().await.unwrap()\n} else if users.len() &gt; 1 {\nreturn HttpResponse::Conflict().await.unwrap()\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u30a2\u30fc\u30ea\u30fc\u30ea\u30bf\u30fc\u30f3\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u304c\u3044\u306a\u3044\u5834\u5408\u306f\u3001not found\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u3092\u8fd4\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u79c1\u305f\u3061\u304c\u6642\u3005\u671f\u5f85\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u305d\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u6301\u3064\u30e6\u30fc\u30b6\u30fc\u304c\u8907\u6570\u3044\u308b\u5834\u5408\u306f\u3001\u5225\u306e\u30b3\u30fc\u30c9\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u8868\u793a\u3055\u308c\u305f\u30e6\u30cb\u30fc\u30af\u306a\u5236\u7d04\u306e\u305f\u3081\u306b\u3001\u4f55\u304b\u304c\u975e\u5e38\u306b\u9593\u9055\u3063\u3066\u3044\u307e\u3059\u3002\u5c06\u6765\u3001\u79fb\u884c\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u3053\u308c\u3089\u306e\u30e6\u30cb\u30fc\u30af\u306a\u5236\u7d04\u3092\u5143\u306b\u623b\u3059\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u30fb\u30af\u30a8\u30ea\u304c\u5076\u7136\u306b\u5909\u66f4\u3055\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u5236\u7d04\u306b\u53cd\u3057\u3066\u7834\u640d\u3057\u305f\u30c7\u30fc\u30bf\u306f\u3001\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u304c\u56f0\u96e3\u306a\u4e88\u671f\u305b\u306c\u65b9\u6cd5\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u52d5\u4f5c\u3055\u305b\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u3001\u3053\u308c\u304c\u8d77\u3053\u3063\u305f\u3053\u3068\u3092\u3059\u3050\u306b\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u3053\u308c\u3067\u3001\u6b63\u3057\u3044\u6570\u306e\u30e6\u30fc\u30b6\u30fc\u304c\u53d6\u5f97\u3055\u308c\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30bc\u30ed\u306b\u3042\u308b\u552f\u4e00\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u78ba\u4fe1\u3092\u6301\u3063\u3066\u53d6\u5f97\u3057\u3001\u305d\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u901a\u3058\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>match users[0].verify(password) {\ntrue =&gt; {\nlet token = JwToken::new(users[0].id);\nlet raw_token = token.encode();\nlet mut body = HashMap::new();\nbody.insert(\"token\", raw_token);\nHttpResponse::Ok().json(body)\n},\nfalse =&gt; HttpResponse::Unauthorized()\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001verify\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3059\u308c\u3070\u3001\u305d\u306eID\u3092\u4f7f\u3063\u3066\u30c8\u30fc\u30af\u30f3\u3092\u751f\u6210\u3057\u3001\u30dc\u30c7\u30a3\u3067\u30e6\u30fc\u30b6\u30fc\u306b\u8fd4\u3057\u307e\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u6b63\u3057\u304f\u306a\u3044\u5834\u5408\u306f\u3001\u4ee3\u308f\u308a\u306b\u4e0d\u6b63\u306a\u30b3\u30fc\u30c9\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <p>\u30ed\u30b0\u30a2\u30a6\u30c8\u306b\u95a2\u3057\u3066\u306f\u3001\u3088\u308a\u8efd\u91cf\u306a\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u53d6\u308d\u3046\u3068\u8003\u3048\u3066\u3044\u307e\u3059\u3002\u30ed\u30b0\u30a2\u30a6\u30c8\u30d3\u30e5\u30fc\u3067\u884c\u3046\u3079\u304d\u3053\u3068\u306f\u30012\u884c\u306eJavaScript\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3060\u3051\u3067\u3059\u30021\u3064\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u30e6\u30fc\u30b6\u30fc\u30c8\u30fc\u30af\u30f3\u3092\u524a\u9664\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u3092\u30e1\u30a4\u30f3\u30d3\u30e5\u30fc\u306b\u623b\u3059\u3053\u3068\u3067\u3059\u3002HTML\u306f\u3001\u958b\u304f\u3068\u3059\u3050\u306b\u5b9f\u884c\u3055\u308c\u308bJavaScript\u3092\u30db\u30b9\u30c8\u3059\u308b\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001src/views/auth/logout.rs\u30d5\u30a1\u30a4\u30eb\u306b\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>use actix_web::HttpResponse;\npub async fn logout() -&gt; HttpResponse {\nHttpResponse::Ok()\n.content_type(\"text/html; charset=utf-8\")\n.body(\"&lt;html&gt;\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;script&gt;\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0localStorage.removeItem('user-token'); \\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0window.location.replace(\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0document.location.origin);\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;/script&gt;\\\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;/html&gt;\")\n}\n</code></pre> <p>\u3053\u306e\u30d3\u30e5\u30fc\u306f\u3059\u3067\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3057\u3066Postman\u3067\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f37.7 - Postman\u3067\u30ed\u30b0\u30a4\u30f3\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u4f7f\u7528\u3057\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b</p> <p>\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u5909\u66f4\u3059\u308b\u3068404\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u306b\u306a\u308a\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u3068401\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u6b63\u3057\u3051\u308c\u3070\u3001\u56f37.7\u306b\u793a\u3059\u3088\u3046\u306b\u3001200\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u304c\u5f97\u3089\u308c\u3001\u30d8\u30c3\u30c0\u30fc\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u30c8\u30fc\u30af\u30f3\u304c\u542b\u307e\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30d8\u30c3\u30c0\u3067\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f\u3001token can't be decoded\u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u8a8d\u8a3c\u8981\u4ef6\u3092\u4e00\u6383\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/Summary/","title":"7.8 - \u307e\u3068\u3081","text":""},{"location":"7_ManagingUserSessions/Summary/#_1","title":"\u307e\u3068\u3081","text":"<p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u30e6\u30fc\u30b6\u30fc \u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3057\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3067ToDo\u9805\u76ee\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u306b\u7d50\u3073\u3064\u3051\u307e\u3057\u305f\u3002\u305d\u3057\u3066\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u30b9\u30e0\u30fc\u30ba\u306b\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u306bSQL\u30d5\u30a1\u30a4\u30eb\u306e\u8907\u6570\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u5c11\u3057\u6df1\u304f\u6398\u308a\u4e0b\u3052\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u7279\u5b9a\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30e6\u30cb\u30fc\u30af\u306a\u5236\u7d04\u3092\u8ffd\u52a0\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3082\u691c\u8a0e\u3057\u307e\u3057\u305f\u3002</p> <p>\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u3089\u3001\u3044\u304f\u3064\u304b\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u3066\u304b\u3089\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u3068\u4e00\u7dd2\u306b\u4fdd\u5b58\u3057\u307e\u3057\u305f\u3002\u6b21\u306b\u3001JWT\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3057\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u30d6\u30e9\u30a6\u30b6\u306bJWT\u3092\u4fdd\u5b58\u3057\u3001API\u30b3\u30fc\u30eb\u6642\u306b\u9001\u4fe1\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u305d\u3057\u3066\u3001JavaScript\u3068HTML\u30b9\u30c8\u30ec\u30fc\u30b8\u3067URL\u3092\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u65b9\u6cd5\u3092\u691c\u8a0e\u3057\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u304c\u30a2\u30a4\u30c6\u30e0\u306bAPI\u30b3\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u524d\u306b\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u8a8d\u8a3c\u60c5\u5831\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u8abf\u3079\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002</p> <p>\u3053\u3053\u3067\u884c\u3063\u305f\u306e\u306f\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5909\u66f4\u3057\u3001\u30a2\u30d7\u30ea\u304c\u3088\u308a\u8907\u96d1\u306a\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3092\u6271\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u305d\u3057\u3066\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u5229\u7528\u3057\u3066\u3001\u30e6\u30fc\u30b6\u304c\u8a8d\u8a3c\u60c5\u5831\u3092\u6e21\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001\u3042\u306a\u305f\u304c\u7740\u624b\u3059\u308b\u4ed6\u306eRust Web\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u3082\u305d\u306e\u307e\u307e\u9069\u7528\u3067\u304d\u307e\u3059\u3002\u307b\u3068\u3093\u3069\u306eWeb\u30a2\u30d7\u30ea\u3067\u306f\u3001\u4f55\u3089\u304b\u306e\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p>\u6b21\u306e\u7ae0\u3067\u306f\u3001REST API\u306e\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3092\u63a2\u6c42\u3057\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3001\u30ed\u30ae\u30f3\u30b0\u306e\u6a19\u6e96\u5316\u3092\u884c\u3046\u4e88\u5b9a\u3067\u3059\u3002</p>"},{"location":"7_ManagingUserSessions/TechnicalRequirements/","title":"7.1 - \u6280\u8853\u8981\u4ef6","text":""},{"location":"7_ManagingUserSessions/TechnicalRequirements/#_1","title":"\u6280\u8853\u8981\u4ef6","text":"<p>\u672c\u7ae0\u3067\u306f\u3001\u524d\u7ae0\u3067\u69cb\u7bc9\u3057\u305f\u30b3\u30fc\u30c9\u3092\u57fa\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u6b21\u306eURL\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1ahttps://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter06/building_a_database_connection_pool.</p> <p>\u672c\u7ae0\u306e\u30b3\u30fc\u30c9\u306f\u3001https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter07 \u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"8_BuildingRESTfulServices/","title":"8.1 - RESTful\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u7bc9","text":""},{"location":"8_BuildingRESTfulServices/#restful","title":"RESTful\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u7bc9","text":"<p>Rust\u3067\u66f8\u304b\u308c\u305f\u79c1\u305f\u3061\u306eToDo\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u6280\u8853\u7684\u306b\u306f\u52d5\u4f5c\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3044\u304f\u3064\u304b\u6539\u5584\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u70b9\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u7ae0\u3067\u306f\u3001RESTful API\u8a2d\u8a08\u306e\u6982\u5ff5\u3092\u63a2\u6c42\u3057\u306a\u304c\u3089\u3001\u3053\u308c\u3089\u306e\u6539\u5584\u70b9\u3092\u9069\u7528\u3057\u3066\u3044\u304d\u307e\u3059\u3002</p> <p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u30ec\u30a4\u30e4\u30fc\u3092\u8a55\u4fa1\u3057\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30e9\u30a4\u30d5\u30bf\u30a4\u30e0\u3092\u901a\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3059\u308b\u65b9\u6cd5\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u30d3\u30e5\u30fc\u306b\u30d2\u30c3\u30c8\u3059\u308b\u524d\u306b\u3001\u6700\u7d42\u7684\u306b\u672a\u627f\u8a8d\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u62d2\u5426\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3053\u306e\u8a8d\u8a3c\u3092\u4f7f\u3063\u3066\u3001\u500b\u3005\u306e\u30e6\u30fc\u30b6\u30fc\u304c\u81ea\u5206\u3060\u3051\u306eToDo\u30ea\u30b9\u30c8\u3092\u6301\u3066\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u6700\u5f8c\u306b\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u8a18\u9332\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u3084\u3001API\u30b3\u30fc\u30eb\u3092\u6e1b\u3089\u3059\u305f\u3081\u306b\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u30c7\u30fc\u30bf\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u65b9\u6cd5\u306a\u3069\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5b9f\u884c\u65b9\u6cd5\u3092\u3088\u308a\u6df1\u304f\u77e5\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308b\u30b3\u30fc\u30c9\u306e\u5b9f\u884c\u3084\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306eURL\u3068\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306eURL\u3092\u5206\u5272\u3059\u308b\u7d71\u4e00\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u4f5c\u6210\u306a\u3069\u3001\u300c\u3042\u3063\u305f\u3089\u3044\u3044\u306a\u300d\u3068\u3044\u3046\u30b3\u30f3\u30bb\u30d7\u30c8\u3082\u63a2\u3063\u3066\u3044\u304d\u307e\u3059\u3002</p> <p>\u3053\u306e\u7ae0\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u9805\u76ee\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p> <ul> <li>RESTful\u30b5\u30fc\u30d3\u30b9\u3068\u306f\uff1f</li> <li>\u30ec\u30a4\u30e4\u30fc\u30b7\u30b9\u30c6\u30e0\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b</li> <li>\u7d71\u4e00\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u69cb\u7bc9</li> <li>\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u3092\u5b9f\u73fe\u3059\u308b</li> <li>\u5f53\u793e\u30b5\u30fc\u30d0\u30fc\u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u8a18\u9332\u3059\u308b</li> <li>\u30ad\u30e3\u30c3\u30b7\u30f3\u30b0</li> <li>\u30b3\u30fc\u30c9\u30aa\u30f3\u30c7\u30de\u30f3\u30c9</li> </ul> <p>\u3053\u306e\u7ae0\u306e\u7d42\u308f\u308a\u306b\u306f\u3001RESTful API\u306e\u539f\u5247\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u306b\u3001Rust\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001Rust\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30ec\u30a4\u30e4\u30fc\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u3001\u7d71\u4e00\u3055\u308c\u305fAPI\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u8a18\u9332\u3057\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u7d50\u679c\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"8_BuildingRESTfulServices/BuildingAUniformInterface/","title":"8.5 - \u7d71\u4e00\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u69cb\u7bc9","text":""},{"location":"8_BuildingRESTfulServices/BuildingAUniformInterface/#_1","title":"\u7d71\u4e00\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u69cb\u7bc9","text":"<p>\u7d71\u4e00\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6301\u3064\u3053\u3068\u3067\u3001\u30ea\u30bd\u30fc\u30b9\u3092URL\u3067\u4e00\u610f\u306b\u8b58\u5225\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30d3\u30e5\u30fc\u304c\u5207\u308a\u96e2\u3055\u308c\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30d3\u30e5\u30fc\u3068\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u9593\u3067\u885d\u7a81\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u30a2\u30d7\u30ea\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3092\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u304b\u3089\u5207\u308a\u96e2\u3059\u306b\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u30bf\u30b0\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002URL\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306bv1\u3084v2\u306a\u3069\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30bf\u30b0\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u305d\u306e\u547c\u3073\u51fa\u3057\u304c\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306eRust\u30b5\u30fc\u30d0\u306b\u30d2\u30c3\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002Rust\u30b5\u30fc\u30d0\u3092\u958b\u767a\u3057\u3066\u3044\u308b\u3068\u304d\u3001API\u30b3\u30fc\u30eb\u306e\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u53d6\u308a\u7d44\u307f\u305f\u3044\u3068\u601d\u3046\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u958b\u767a\u4e2d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u30e6\u30fc\u30b6\u304c\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306f\u3057\u305f\u304f\u3042\u308a\u307e\u305b\u3093\u3002\u30c6\u30b9\u30c8\u30b5\u30fc\u30d0\u306b\u5225\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u3044\u308b\u9593\u3001\u30e9\u30a4\u30d6\u30e6\u30fc\u30b6\u304c\u3042\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u306b\u306f\u3001\u30b5\u30fc\u30d0\u306e API \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u52d5\u7684\u306b\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u672c\u66f8\u3067\u3053\u308c\u307e\u3067\u306b\u5f97\u305f\u77e5\u8b58\u304c\u3042\u308c\u3070\u3001config.yml\u30d5\u30a1\u30a4\u30eb\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u3092\u5b9a\u7fa9\u3057\u3001\u305d\u308c\u3092\u8aad\u307f\u8fbc\u3080\u3060\u3051\u3067\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u3057\u304b\u3057\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u305f\u3073\u306bconfig.yml\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307e\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30d7\u30fc\u30eb\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3068\u304d\u306b\u3001config.yml\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u63a5\u7d9a\u6587\u5b57\u5217\u3092\u4e00\u5ea6\u8aad\u307f\u8fbc\u3093\u3060\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3064\u307e\u308a\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5168\u751f\u6daf\u306b\u308f\u305f\u3063\u3066\u5b58\u5728\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u79c1\u305f\u3061\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e00\u5ea6\u5b9a\u7fa9\u3057\u3001\u305d\u306e\u5f8c\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u306e\u305f\u3081\u306b\u305d\u308c\u3092\u53c2\u7167\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u76f4\u611f\u7684\u306b\u306f\u3001\u6b21\u306e\u4f8b\u306e\u3088\u3046\u306b\u3001\u30b5\u30fc\u30d0\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u524d\u306bmain.rs\u30d5\u30a1\u30a4\u30eb\u306emain\u95a2\u6570\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5b9a\u7fa9\u3057\u3001wrap_fn\u306e\u4e2d\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u5b9a\u7fa9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002</p> <pre><code>let outcome = \"test\".to_owned();\nHttpServer::new(|| {\n. . .\nlet app = App::new()\n.wrap_fn(|req, srv|{\nprintln!(\"{}\", outcome);\n. . .\n}\n. . .\n</code></pre> <p>\u3057\u304b\u3057\u3001\u5148\u306e\u30b3\u30fc\u30c9\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u7d50\u679c\u5909\u6570\u306e\u5bff\u547d\u304c\u5341\u5206\u3067\u306a\u3044\u305f\u3081\u3001\u5931\u6557\u3057\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u7d50\u679c\u5909\u6570\u3092\u5b9a\u6570\u3068\u3057\u3066\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>const OUTCOME: &amp;str = \"test\";\nHttpServer::new(|| {\n. . .\nlet app = App::new()\n.wrap_fn(|req, srv|{\nprintln!(\"{}\", outcome);\n. . .\n}\n. . .\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u306f\u3001\u5bff\u547d\u306e\u554f\u984c\u306a\u304f\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8aad\u307f\u8fbc\u3080\u3068\u3057\u305f\u3089\u3001\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002Rust\u3067\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u5834\u5408\u3001\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u5909\u6570\u306e\u5927\u304d\u3055\u304c\u308f\u304b\u308a\u307e\u305b\u3093\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3080\u5909\u6570\u306f\u6587\u5b57\u5217\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u554f\u984c\u306b\u306a\u308b\u306e\u306f\u3001\u6587\u5b57\u5217\u306e\u78ba\u4fdd\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u8a08\u7b97\u3067\u304d\u308b\u3082\u306e\u3067\u306f\u306a\u3044\u3053\u3068\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u306b\u76f4\u63a5\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u66f8\u304d\u8fbc\u3080\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d3\u30eb\u30c9\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3046\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002</p> <p>\u5099\u8003</p> <p>\u3053\u306e\u554f\u984c\u3067\u306f\u30d3\u30eb\u30c9\u30d5\u30a1\u30a4\u30eb\u3092\u6d3b\u7528\u3057\u3001\u30d3\u30eb\u30c9\u30d5\u30a1\u30a4\u30eb\u306e\u6982\u5ff5\u3092\u6559\u3048\u308b\u3053\u3068\u3067\u3001\u5fc5\u8981\u3067\u3042\u308c\u3070\u30d3\u30eb\u30c9\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u30b3\u30fc\u30c9\u306b\u5b9a\u6570\u3092\u30cf\u30fc\u30c9\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3059\u308b\u3053\u3068\u3092\u6b62\u3081\u308b\u3082\u306e\u306f\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u3053\u3053\u3067\u306f\u3001Rust\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u30011\u3064\u306eRust\u30d5\u30a1\u30a4\u30eb\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u30d3\u30eb\u30c9\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30e1\u30a4\u30f3\u306eRust\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3044\u308b\u3068\u304d\u306b\u81ea\u52d5\u7684\u306b\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\u30d3\u30eb\u30c9\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u4f9d\u5b58\u95a2\u4fc2\u306f\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306e\u30d3\u30eb\u30c9\u4f9d\u5b58\u95a2\u4fc2\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002</p> <pre><code>[package]\nname = \"web_app\"\nversion = \"0.1.0\"\nedition = \"2021\"\nbuild = \"build.rs\"\n[build-dependencies]\nserde_yaml = \"0.8.23\"\nserde = { version = \"1.0.136\", features = [\"derive\"] }\n</code></pre> <p>\u3064\u307e\u308a\u3001\u30d3\u30eb\u30c9Rust\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30eb\u30fc\u30c8\u306b\u3042\u308bbuild.rs\u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u3055\u308c\u307e\u3059\u3002\u6b21\u306b\u3001[build-dependencies]\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u3001\u30d3\u30eb\u30c9\u30d5\u30a7\u30fc\u30ba\u306b\u5fc5\u8981\u306a\u4f9d\u5b58\u95a2\u4fc2\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u4f9d\u5b58\u95a2\u4fc2\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001build.rs\u30d5\u30a1\u30a4\u30eb\u306f\u6b21\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>use std::fs::File;\nuse std::io::Write;\nuse std::collections::HashMap;\nuse serde_yaml;\nfn main() {\nlet file =\nstd::fs::File::open(\"./build_config.yml\").unwrap();\nlet map: HashMap&lt;String, serde_yaml::Value&gt; =\nserde_yaml::from_reader(file).unwrap();\nlet version =\nmap.get(\"ALLOWED_VERSION\").unwrap().as_str()\n.unwrap();\nlet mut f =\nFile::create(\"./src/output_data.txt\").unwrap();\nwrite!(f, \"{}\", version).unwrap();\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001YAML\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u53d6\u308b\u5fc5\u8981\u304c\u3042\u308b\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3001\u6a19\u6e96\u306e\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30eb\u30fc\u30c8\u306b\u3042\u308a\u3001config.yml \u30d5\u30a1\u30a4\u30eb\u3068\u96a3\u308a\u5408\u3063\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001build_config.yml\u30d5\u30a1\u30a4\u30eb\u304b\u3089ALLOWED_VERSION\u3092\u62bd\u51fa\u3057\u3001\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30d3\u30eb\u30c9\u30d7\u30ed\u30bb\u30b9\u3068build_config.yml\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u5fc5\u8981\u306a\u3082\u306e\u3092\u5b9a\u7fa9\u3057\u305f\u306e\u3067\u3001build_config.yml\u30d5\u30a1\u30a4\u30eb\u306f\u6b21\u306e\u3088\u3046\u306a\u5f62\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>ALLOWED_VERSION: v1\n</code></pre> <p>\u3053\u308c\u3067\u3001\u30d3\u30eb\u30c9\u306e\u5b9a\u7fa9\u304c\u3059\u3079\u3066\u7d42\u308f\u3063\u305f\u306e\u3067\u3001build.rs\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u901a\u3057\u3066\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u306econst\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u3092\u5c11\u3057\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305a\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067const\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>const ALLOWED_VERSION: &amp;'static str = include_str!(\n\"./output_data.txt\");\nHttpServer::new(|| {\n. . .\n</code></pre> <p>\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u8a31\u53ef\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30d1\u30b9\u3057\u305f\u3068\u307f\u306a\u3059\u3002</p> <pre><code>HttpServer::new(|| {\n. . .\nlet app = App::new()\n.wrap_fn(|req, srv|{\nlet passed: bool;\nif *&amp;req.path().contains(&amp;format!(\"/{}/\",\nALLOWED_VERSION)) {\npassed = true;\n} else {\npassed = false;\n}\n</code></pre> <p>\u6b21\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u3068\u30b5\u30fc\u30d3\u30b9\u30b3\u30fc\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>. . .\nlet end_result = match passed {\ntrue =&gt; {\nEither::Left(srv.call(req))\n},\nfalse =&gt; {\nlet resp = HttpResponse::NotImplemented()\n.body(format!(\"only {} API is supported\",\nALLOWED_VERSION));\nEither::Right(\nok(req.into_response(resp).map_into_boxed_body())\n)\n}\n};\n. . .\n</code></pre> <p>\u3053\u308c\u3067\u3001\u7279\u5b9a\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30d3\u30eb\u30c9\u3057\u3066\u5b9f\u884c\u3059\u308b\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u3001v2\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002</p> <p>\u56f38.4 - \u30d6\u30ed\u30c3\u30af\u3055\u308c\u305fv2\u306b\u5bfe\u3059\u308bPostman\u306e\u5fdc\u7b54</p> <p>\u30d0\u30fc\u30b8\u30e7\u30f3\u30ac\u30fc\u30c9\u304c\u6a5f\u80fd\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u307e\u305f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30d3\u30e5\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306bReact\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u3092\u610f\u5473\u3057\u3001\u307e\u305f\u306f\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306bv1\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u3055\u3066\u3001\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u304c\u65b0\u3057\u3044\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3067\u52d5\u4f5c\u3059\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30a2\u30d7\u30ea\u306e RESTful API \u958b\u767a\u306b\u4e00\u6b69\u8fd1\u3065\u3044\u305f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u307e\u3060\u3044\u304f\u3064\u304b\u306e\u76ee\u7acb\u3063\u305f\u6b20\u70b9\u304c\u3042\u308a\u307e\u3059\u3002\u4eca\u306e\u3068\u3053\u308d\u3001\u5225\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u3066\u3001\u305d\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u4e0b\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u65b9\u5f0f\u3067\u30e6\u30fc\u30b6\u30fc\u306e\u72b6\u614b\u3092\u7ba1\u7406\u3059\u308b\u65b9\u6cd5\u3092\u63a2\u308a\u307e\u3059\u3002</p>"},{"location":"8_BuildingRESTfulServices/Caching/","title":"8.8 - \u30ad\u30e3\u30c3\u30b7\u30f3\u30b0","text":""},{"location":"8_BuildingRESTfulServices/Caching/#_1","title":"\u30ad\u30e3\u30c3\u30b7\u30f3\u30b0","text":"<p>\u30ad\u30e3\u30c3\u30b7\u30f3\u30b0\u3068\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u3066\u518d\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3078\u306eAPI\u547c\u3073\u51fa\u3057\u56de\u6570\u3092\u6e1b\u3089\u3057\u3001\u5f85\u3061\u6642\u9593\u3092\u77ed\u7e2e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u5229\u70b9\u304c\u306f\u3063\u304d\u308a\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u3059\u3079\u3066\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u305f\u304f\u306a\u308b\u3053\u3068\u3082\u3042\u308b\u3067\u3057\u3087\u3046\u3002\u3057\u304b\u3057\u3001\u3044\u304f\u3064\u304b\u8003\u616e\u3059\u3079\u304d\u70b9\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u540c\u6642\u4e26\u884c\u6027\u306f\u660e\u3089\u304b\u306a\u554f\u984c\u3067\u3059\u3002\u30c7\u30fc\u30bf\u304c\u53e4\u304f\u306a\u308a\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u9593\u9055\u3063\u305f\u60c5\u5831\u3092\u9001\u308b\u3053\u3068\u3067\u6df7\u4e71\u3084\u30c7\u30fc\u30bf\u306e\u7834\u640d\u306b\u3064\u306a\u304c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u61f8\u5ff5\u3082\u3042\u308a\u307e\u3059\u3002\u3042\u308b\u30e6\u30fc\u30b6\u30fc\u304c\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3001\u5225\u306e\u30e6\u30fc\u30b6\u30fc\u304c\u540c\u3058\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u5834\u5408\u30012\u756a\u76ee\u306e\u30e6\u30fc\u30b6\u30fc\u304c\u6700\u521d\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u30a2\u30a4\u30c6\u30e0\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u3066\u3057\u307e\u3046\u5371\u967a\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u3044\u304f\u3064\u304b\u306e\u30c1\u30a7\u30c3\u30af\u304c\u5fc5\u8981\u3067\u3059\u3002\u6b63\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u304c\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u307e\u305f\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30c7\u30fc\u30bf\u304c\u4e00\u5b9a\u671f\u9593\u3092\u904e\u304e\u3066\u30a2\u30af\u30bb\u30b9\u3055\u308c\u305f\u5834\u5408\u3001\u30c7\u30fc\u30bf\u3092\u66f4\u65b0\u3059\u308b\u305f\u3081\u306bGET\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u884c\u308f\u308c\u308b\u3088\u3046\u306b\u3001\u30c7\u30fc\u30bf\u306b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u4ed8\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u304b\u306a\u308a\u30ed\u30c3\u30af\u30c0\u30a6\u30f3\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u306a\u3044\u9650\u308a\u3001\u4f55\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093\u3002\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3067\u304d\u308b\u4e3b\u306a\u51e6\u7406\u306f\u3001GET items\u547c\u3073\u51fa\u3057\u3067\u3059\u3002\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3067\u30a2\u30a4\u30c6\u30e0\u30ea\u30b9\u30c8\u306e\u72b6\u614b\u3092\u7de8\u96c6\u3059\u308b\u4ed6\u306e\u3059\u3079\u3066\u306e\u547c\u3073\u51fa\u3057\u306f\u3001\u66f4\u65b0\u3055\u308c\u305f\u30a2\u30a4\u30c6\u30e0\u3092\u8fd4\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u8003\u616e\u3059\u308b\u3068\u3001\u79c1\u305f\u3061\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u6a5f\u69cb\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u56f38.7 - \u30ad\u30e3\u30c3\u30b7\u30f3\u30b0\u306e\u8003\u3048\u65b9</p> <p>\u56f3\u306e\u30eb\u30fc\u30d7\u306f\u3001\u30da\u30fc\u30b8\u3092\u66f4\u65b0\u3059\u308b\u969b\u306b\u4f55\u5ea6\u3067\u3082\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u306f\u3042\u307e\u308a\u826f\u3044\u30a2\u30a4\u30c7\u30a2\u3067\u306f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u30e6\u30fc\u30b6\u30fc\u304c\u30ad\u30c3\u30c1\u30f3\u306b\u3044\u308b\u3068\u304d\u306b\u30b9\u30de\u30db\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u30ea\u30b9\u30c8\u3092\u66f4\u65b0\u3057\u305f\u3068\u3059\u308b\u3068\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u30d1\u30bd\u30b3\u30f3\u306b\u623b\u3063\u3066\u4f5c\u696d\u3092\u3059\u308b\u3068\u304d\u306b\u3001\u30d1\u30bd\u30b3\u30f3\u3067\u30da\u30fc\u30b8\u3092\u66f4\u65b0\u3057\u3066\u30ea\u30b9\u30c8\u3092\u66f4\u65b0\u3057\u3066\u3057\u307e\u3046\u3068\u3044\u3046\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u3053\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30b7\u30b9\u30c6\u30e0\u306f\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u9001\u4fe1\u3055\u308c\u308b\u53e4\u3044\u30c7\u30fc\u30bf\u306b\u30e6\u30fc\u30b6\u30fc\u3092\u3055\u3089\u3059\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u3067\u3001\u3053\u306e\u3088\u3046\u306a\u4e8b\u614b\u304c\u8d77\u3053\u308b\u30ea\u30b9\u30af\u3092\u6e1b\u3089\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u304c\u30ab\u30c3\u30c8\u30aa\u30d5\u3088\u308a\u53e4\u3044\u5834\u5408\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u30da\u30fc\u30b8\u3092\u66f4\u65b0\u3057\u305f\u3068\u304d\u306b\u30c7\u30fc\u30bf\u3092\u66f4\u65b0\u3059\u308b\u305f\u3081\u306b\u3001\u5225\u306eAPI\u30b3\u30fc\u30eb\u3092\u884c\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u30ad\u30e3\u30c3\u30b7\u30e5\u30fb\u30ed\u30b8\u30c3\u30af\u306b\u95a2\u3057\u3066\u306f\u3001\u3059\u3079\u3066front_end/src/App.js\u30d5\u30a1\u30a4\u30eb\u306egetItems\u95a2\u6570\u3067\u5b9f\u88c5\u3055\u308c\u307e\u3059\u3002getItems\u95a2\u6570\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30ec\u30a4\u30a2\u30a6\u30c8\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>getItems() {\n. . .\nif (difference &lt;= 120) {\n. . .\n}\nelse {\naxios.get(\"http://127.0.0.1:8000/v1/item/get\",\n{headers: {\"token\": localStorage\n.getItem(\"token\")}}).then(response =&gt; {\n. . .\n})\n}).catch(error =&gt; {\nif (error.response.status === 401) {\nthis.logout();\n}\n});\n}\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u6700\u5f8c\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u9805\u76ee\u3068\u73fe\u5728\u6642\u523b\u3068\u306e\u6642\u9593\u5dee\u304c120\u79d2\uff082\u5206\uff09\u4ee5\u4e0b\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u6642\u9593\u5dee\u304c2\u5206\u4ee5\u4e0b\u3067\u3042\u308c\u3070\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u6642\u9593\u5dee\u304c2\u5206\u4ee5\u4e0a\u3067\u3042\u308c\u3070\u3001API\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3044\u307e\u3059\u3002\u3082\u3057\u3001\u4e0d\u6b63\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u3063\u3066\u304d\u305f\u5834\u5408\u306f\u3001\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305a\u3001\u3053\u306egetItems\u95a2\u6570\u3067\u3001\u30a2\u30a4\u30c6\u30e0\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u65e5\u4ed8\u3092\u53d6\u5f97\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5f53\u6642\u3068\u73fe\u5728\u306e\u5dee\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002</p> <pre><code>let cachedData = Date.parse(localStorage\n.getItem(\"item-cache-date\"));\nlet now = new Date();\nlet difference = Math.round((now - cachedData) / (1000));\n</code></pre> <p>\u6642\u5dee\u304c2\u5206\u306e\u5834\u5408\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001\u305d\u306e\u30c7\u30fc\u30bf\u3067\u72b6\u614b\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002</p> <pre><code>let pendingItems =\nJSON.parse(localStorage.getItem(\"item-cache-data-pending\"));\nlet doneItems =\nJSON.parse(localStorage.getItem(\"item-cache-data-\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0done\"));\nlet pendingItemsCount = pendingItems.length;\nlet doneItemsCount = doneItems.length;\nthis.setState({\n\"pending_items\": this.processItemValues(pendingItems),\n\"done_items\": this.processItemValues(doneItems),\n\"pending_items_count\": pendingItemsCount,\n\"done_items_count\": doneItemsCount\n})\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304c\u6587\u5b57\u5217\u30c7\u30fc\u30bf\u3057\u304b\u6271\u3048\u306a\u3044\u305f\u3081\u3001\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30c7\u30fc\u30bf\u3092\u30d1\u30fc\u30b9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306f\u6587\u5b57\u5217\u3057\u304b\u6271\u3048\u306a\u3044\u305f\u3081\u3001API\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u969b\u306b\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u633f\u5165\u3059\u308b\u30c7\u30fc\u30bf\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u6587\u5b57\u5217\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>let pending_items = response.data[\"pending_items\"]\nlet done_items = response.data[\"done_items\"]\nlocalStorage.setItem(\"item-cache-date\", new Date());\nlocalStorage.setItem(\"item-cache-data-pending\",\nJSON.stringify(pending_items));\nlocalStorage.setItem(\"item-cache-data-done\",\nJSON.stringify(done_items));\nthis.setState({\n\"pending_items\": this.processItemValues(pending_items),\n\"done_items\": this.processItemValues(done_items),\n\"pending_items_count\":\nresponse.data[\"pending_item_count\"],\n\"done_items_count\": response.data[\"done_item_count\"]\n})\n</code></pre> <p>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001API\u30b3\u30fc\u30eb\u306f1\u56de\u3057\u304b\u884c\u308f\u308c\u307e\u305b\u3093\u30022\u5206\u7d4c\u904e\u3059\u308b\u524d\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u66f4\u65b0\u3059\u308b\u3068\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u3059\u3079\u3066\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u3066\u3044\u308b\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001\u65b0\u3057\u3044API\u547c\u3073\u51fa\u3057\u304c\u306a\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u4f5c\u6210\u3001\u7de8\u96c6\u3001\u307e\u305f\u306f\u524a\u9664\u3057\u305f\u5f8c\u30012\u5206\u304c\u7d4c\u904e\u3059\u308b\u524d\u306b\u30da\u30fc\u30b8\u3092\u66f4\u65b0\u3059\u308b\u3068\u3001\u30d3\u30e5\u30fc\u304c\u4ee5\u524d\u306e\u53e4\u3044\u72b6\u614b\u306b\u623b\u3063\u3066\u3057\u307e\u3046\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u4f5c\u6210\u3001\u7de8\u96c6\u3001\u524a\u9664\u3055\u308c\u305f\u30a2\u30a4\u30c6\u30e0\u3082\u4ee5\u524d\u306e\u72b6\u614b\u306b\u623b\u308b\u304c\u3001\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3067\u3042\u308b\u3002\u3053\u308c\u306f\u3001handleReturnedState\u95a2\u6570\u3092\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u66f4\u65b0\u3059\u308b\u3053\u3068\u3067\u5bfe\u51e6\u3067\u304d\u307e\u3059\u3002</p> <pre><code>handleReturnedState = (response) =&gt; {\nlet pending_items = response.data[\"pending_items\"]\nlet done_items = response.data[\"done_items\"]\nlocalStorage.setItem(\"item-cache-date\", new Date());\nlocalStorage.setItem(\"item-cache-data-pending\",\nJSON.stringify(pending_items));\nlocalStorage.setItem(\"item-cache-data-done\",\nJSON.stringify(done_items));\nthis.setState({\n\"pending_items\":this.processItemValues(pending_items),\n\"done_items\": this.processItemValues(done_items),\n\"pending_items_count\":response\n.data[\"pending_item_count\"],\n\"done_items_count\": response.data[\"done_item_count\"]\n})\n}\n</code></pre> <p>\u3053\u3053\u3067\u3001\u79c1\u305f\u3061\u306f\u305d\u308c\u3092\u624b\u306b\u5165\u308c\u307e\u3057\u305f\u3002\u30c7\u30fc\u30bf\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u518d\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u304c\u904e\u5270\u306b\u30d2\u30c3\u30c8\u3059\u308b\u306e\u3092\u9632\u3044\u3067\u3044\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u306f\u4ed6\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u51e6\u7406\u306b\u3082\u9069\u7528\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u9867\u5ba2\u30d0\u30b9\u30b1\u30c3\u30c8\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u3059\u308b\u3068\u304d\u306b\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u3053\u308c\u3067\u3001\u79c1\u305f\u3061\u306e\u30b7\u30f3\u30d7\u30eb\u306a\u30a6\u30a7\u30d6\u30b5\u30a4\u30c8\u306f\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u306b\u4e00\u6b69\u8fd1\u3065\u3044\u305f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30ad\u30e3\u30c3\u30b7\u30f3\u30b0\u3092\u3082\u3063\u3068\u4f7f\u3046\u3088\u3046\u306b\u306a\u308b\u3068\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u8907\u96d1\u3055\u304c\u5897\u3059\u3053\u3068\u3092\u8a8d\u8b58\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u3053\u3053\u3067\u30ad\u30e3\u30c3\u30b7\u30f3\u30b0\u3092\u505c\u6b62\u3057\u307e\u3059\u3002\u4eca\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u6b8b\u308a\u306e1\u6642\u9593\u3001\u3053\u308c\u4ee5\u4e0a\u624b\u3092\u52a0\u3048\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u3082\u30461\u3064\u7c21\u5358\u306b\u8aac\u660e\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u6982\u5ff5\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"8_BuildingRESTfulServices/CodeOnDemand/","title":"8.9 - \u30b3\u30fc\u30c9\u30aa\u30f3\u30c7\u30de\u30f3\u30c9","text":""},{"location":"8_BuildingRESTfulServices/CodeOnDemand/#_1","title":"\u30b3\u30fc\u30c9\u30aa\u30f3\u30c7\u30de\u30f3\u30c9","text":"<p>\u30b3\u30fc\u30c9\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u306f\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b5\u30fc\u30d0\u30fc\u304c\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b3\u30fc\u30c9\u3092\u76f4\u63a5\u5b9f\u884c\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u3053\u306e\u5236\u7d04\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3042\u308a\u3001\u5e83\u304f\u4f7f\u308f\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b5\u30fc\u30d0\u306b\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u304d\u3068\u305d\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u6c7a\u5b9a\u3059\u308b\u6a29\u5229\u3092\u4e0e\u3048\u308b\u306e\u3067\u3001\u4fbf\u5229\u3067\u3059\u3002\u30ed\u30b0\u30a2\u30a6\u30c8\u30d3\u30e5\u30fc\u3067\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067JavaScript\u3092\u76f4\u63a5\u5b9f\u884c\u3057\u3001\u305d\u308c\u3092\u6587\u5b57\u5217\u3067\u8fd4\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001src/views/auth/logout.rs \u30d5\u30a1\u30a4\u30eb\u3067\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u3002\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306bToDo\u30a2\u30a4\u30c6\u30e0\u3092\u8ffd\u52a0\u3057\u305f\u3053\u3068\u3092\u5fd8\u308c\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002\u3082\u3057\u3001\u30ed\u30b0\u30a2\u30a6\u30c8\u6642\u306b\u3053\u308c\u3089\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u524a\u9664\u3057\u306a\u3051\u308c\u3070\u3001\u4ed6\u306e\u8ab0\u304b\u304c2\u5206\u4ee5\u5185\u306b\u540c\u3058\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u5834\u5408\u3001\u79c1\u305f\u3061\u306eToDo\u30a2\u30a4\u30c6\u30e0\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u3066\u3057\u307e\u3046\u3067\u3057\u3087\u3046\u3002\u3053\u306e\u3088\u3046\u306a\u53ef\u80fd\u6027\u306f\u6975\u3081\u3066\u4f4e\u3044\u3067\u3059\u304c\u3001\u5ff5\u306b\u306f\u5ff5\u3092\u5165\u308c\u305f\u65b9\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002src/views/auth/logout.rs\u30d5\u30a1\u30a4\u30eb\u306b\u3042\u308blogout\u30d3\u30e5\u30fc\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u5f62\u3092\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>pub async fn logout() -&gt; HttpResponse {\nHttpResponse::Ok()\n.content_type(\"text/html; charset=utf-8\")\n.body(. . .)\n}\n</code></pre> <p>\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u30dc\u30c7\u30a3\u5185\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u5185\u5bb9\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>\"&lt;html&gt;\\\n&lt;script&gt;\\\n\u00a0\u00a0\u00a0\u00a0localStorage.removeItem('user-token'); \\\n\u00a0\u00a0\u00a0\u00a0localStorage.removeItem('item-cache-date'); \\\n\u00a0\u00a0\u00a0\u00a0localStorage.removeItem('item-cache-data-pending'); \\\n\u00a0\u00a0\u00a0\u00a0localStorage.removeItem('item-cache-data-done'); \\\n\u00a0\u00a0\u00a0\u00a0window.location.replace(\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0document.location.origin);\\\n&lt;/script&gt;\\\n&lt;/html&gt;\"\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u30c8\u30fc\u30af\u30f3\u3092\u524a\u9664\u3057\u305f\u3060\u3051\u3067\u306a\u304f\u3001\u3059\u3079\u3066\u306e\u9805\u76ee\u3068\u65e5\u4ed8\u3082\u524a\u9664\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3067\u3001\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u5f8c\u3082\u30c7\u30fc\u30bf\u306f\u5b89\u5168\u3067\u3059\u3002</p>"},{"location":"8_BuildingRESTfulServices/ImplementingStatelessness/","title":"8.6 - \u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u5316\u306e\u5b9f\u65bd","text":""},{"location":"8_BuildingRESTfulServices/ImplementingStatelessness/#_1","title":"\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u3092\u5b9f\u73fe\u3059\u308b","text":"<p>\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u3068\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u4e00\u5207\u4fdd\u5b58\u3057\u306a\u3044\u3053\u3068\u3067\u3059\u3002\u3053\u306e\u5229\u70b9\u306f\u5358\u7d14\u660e\u5feb\u3067\u3059\u3002\u30bb\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306b\u4fdd\u5b58\u3059\u308b\u3053\u3068\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u5074\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u89e3\u653e\u3059\u308b\u305f\u3081\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3088\u308a\u7c21\u5358\u306b\u62e1\u5f35\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u307e\u305f\u3001\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u3088\u308a\u67d4\u8edf\u306b\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4eba\u6c17\u304c\u7206\u767a\u7684\u306b\u9ad8\u307e\u3063\u305f\u3068\u3057\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u30012\u3064\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30fb\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u307e\u305f\u306f\u30b5\u30fc\u30d0\u30fc\u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5\u3057\u3001\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u304c\u4e21\u65b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30d0\u30e9\u30f3\u30b9\u3088\u304f\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u8a98\u5c0e\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u3068\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u60c5\u5831\u304c\u30b5\u30fc\u30d0\u30fc\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u3068\u3001\u30e6\u30fc\u30b6\u30fc\u306f\u4e00\u8cab\u6027\u306e\u306a\u3044\u4f53\u9a13\u3092\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u3042\u308b\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u72b6\u614b\u3092\u66f4\u65b0\u3057\u3066\u3082\u3001\u5225\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u3057\u305f\u3068\u304d\u306b\u3001\u53e4\u3044\u30c7\u30fc\u30bf\u3092\u6301\u3064\u5225\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u3076\u3064\u304b\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\u3053\u306e\u3053\u3068\u3092\u8003\u3048\u308b\u3068\u3001\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u5316\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u3059\u3079\u3066\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u3060\u3051\u3067\u5b9f\u73fe\u3067\u304d\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u30a2\u30d7\u30ea\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u4f9d\u5b58\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u56f3\u306e\u3088\u3046\u306b\u3001\u3053\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002</p> <p>\u56f38.5 - \u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u30a2\u30d7\u30ed\u30fc\u30c1</p> <p>\u3054\u89a7\u306e\u3088\u3046\u306b\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u306f\u3059\u3067\u306b\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u3067\u3059\u3002\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u306f\u30e6\u30fc\u30b6\u30fcID\u3092JWT\u3067\u4fdd\u5b58\u3057\u3001PostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u306f\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3068ToDo\u30a2\u30a4\u30c6\u30e0\u3092\u4fdd\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306bRust\u69cb\u9020\u4f53\u3092\u683c\u7d0d\u3057\u305f\u3044\u3068\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305f\u3068\u3048\u3070\u3001\u30b5\u30fc\u30d0\u30fc\u3092\u53e9\u304f\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u6570\u3092\u30ab\u30a6\u30f3\u30c8\u3059\u308b\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u56f38.5\u3092\u53c2\u7167\u3059\u308b\u3068\u3001\u69cb\u9020\u4f53\u3092\u30b5\u30fc\u30d0\u306b\u30ed\u30fc\u30ab\u30eb\u306b\u4fdd\u5b58\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001Redis\u306b\u69cb\u9020\u4f53\u3092\u4fdd\u5b58\u3057\u3001\u4e0b\u56f3\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002</p> <p>\u56f38.6 \u300cRedis\u306b\u69cb\u9020\u4f53\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306e\u624b\u9806</p> <p>PostgreSQL\u3068Redis\u306e\u9055\u3044\u306b\u3064\u3044\u3066</p> <p>Redis\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u3059\u304c\u3001PostgreSQL\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u306f\u7570\u306a\u308a\u307e\u3059\u3002Redis\u306f\u30ad\u30fc\u30d0\u30ea\u30e5\u30fc\u30b9\u30c8\u30a2\u306b\u8fd1\u3044\u3067\u3059\u3002\u307e\u305f\u3001Redis\u306f\u30c7\u30fc\u30bf\u304c\u30e1\u30e2\u30ea\u4e0a\u306b\u3042\u308b\u305f\u3081\u3001\u9ad8\u901f\u3067\u3059\u3002Redis\u306fPostgreSQL\u306e\u3088\u3046\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u7ba1\u7406\u3057\u3001\u305d\u308c\u3089\u304c\u4e92\u3044\u306b\u3069\u306e\u3088\u3046\u306b\u95a2\u9023\u3057\u3066\u3044\u308b\u304b\u3092\u5b8c\u5168\u306b\u628a\u63e1\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001Redis\u306b\u306f\u5229\u70b9\u304c\u3042\u308a\u307e\u3059\u3002Redis\u306f\u3001\u30ea\u30b9\u30c8\u3001\u30bb\u30c3\u30c8\u3001\u30cf\u30c3\u30b7\u30e5\u3001\u30ad\u30e5\u30fc\u3001\u30c1\u30e3\u30cd\u30eb\u3068\u3044\u3063\u305f\u4fbf\u5229\u306a\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001Redis\u306b\u633f\u5165\u3059\u308b\u30c7\u30fc\u30bf\u306b\u306f\u6709\u52b9\u671f\u9650\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001Redis\u3067\u306f\u30c7\u30fc\u30bf\u306e\u79fb\u884c\u3092\u51e6\u7406\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u305f\u3081\u3001Redis\u306f\u3001\u7d20\u65e9\u304f\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304c\u3001\u6c38\u7d9a\u6027\u306b\u306f\u3042\u307e\u308a\u3053\u3060\u308f\u3089\u306a\u3044\u30c7\u30fc\u30bf\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u305f\u3081\u306e\u7406\u60f3\u7684\u306a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u8a00\u3048\u307e\u3059\u3002\u30c1\u30e3\u30cd\u30eb\u3068\u30ad\u30e5\u30fc\u306b\u3064\u3044\u3066\u306f\u3001Redis\u306f\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d0\u30fc\u3068\u30d1\u30d6\u30ea\u30c3\u30b7\u30e3\u30fc\u9593\u306e\u901a\u4fe1\u3092\u4fc3\u9032\u3059\u308b\u306e\u306b\u3082\u7406\u60f3\u7684\u3067\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u8e0f\u3080\u3053\u3068\u3067\u3001\u56f38.6\u306e\u51e6\u7406\u3092\u5b9f\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002</p> <ol> <li>Docker\u7528\u306eRedis\u30b5\u30fc\u30d3\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002</li> <li>Rust\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002</li> <li>Redis\u63a5\u7d9a\u306e\u305f\u3081\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3059\u308b\u3002</li> <li>Redis\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u4fdd\u5b58\u30fb\u8aad\u307f\u8fbc\u307f\u53ef\u80fd\u306a\u30ab\u30a6\u30f3\u30bf\u69cb\u9020\u4f53\u3092\u69cb\u7bc9\u3059\u308b\u3002</li> <li>\u5404\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u30ab\u30a6\u30f3\u30bf\u30fc\u3092\u5b9f\u88c5\u3059\u308b\u3002</li> </ol> <p>\u305d\u308c\u3067\u306f\u3001\u5404\u30b9\u30c6\u30c3\u30d7\u3092\u8a73\u3057\u304f\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002</p> <ol> <li>Redis\u306eDocker\u30b5\u30fc\u30d3\u30b9\u3092\u7acb\u3061\u4e0a\u3052\u308b\u969b\u306b\u306f\u3001\u6a19\u6e96\u306eRedis\u30b3\u30f3\u30c6\u30ca\u3092\u6a19\u6e96\u306e\u30dd\u30fc\u30c8\u3067\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002Redis\u30b5\u30fc\u30d3\u30b9\u3092\u5b9f\u88c5\u3057\u305f\u3089\u3001docker-compose.yml\u30d5\u30a1\u30a4\u30eb\u306f\u73fe\u5728\u306e\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002</li> </ol> <pre><code>version: \"3.7\"\nservices:\npostgres:\ncontainer_name: 'to-do-postgres'\nimage: 'postgres:11.2'\nrestart: always\nports:\n- '5433:5432'\nenvironment:\n- 'POSTGRES_USER=username'\n- 'POSTGRES_DB=to_do'\n- 'POSTGRES_PASSWORD=password'\nredis:\ncontainer_name: 'to-do-redis'\nimage: 'redis:5.0.5'\nports:\n- '6379:6379'\n</code></pre> <p>\u3053\u308c\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u4e0a\u3067Redis\u30b5\u30fc\u30d3\u30b9\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002Redis\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u4f9d\u5b58\u95a2\u4fc2\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u56f38.6\u3092\u53c2\u7167\u3059\u308b\u3068\u3001Rust\u69cb\u9020\u4f53\u3092Redis\u306b\u633f\u5165\u3059\u308b\u524d\u306b\u3001\u30d0\u30a4\u30c8\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u624b\u9806\u3092\u5ff5\u982d\u306b\u7f6e\u3044\u3066\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u4ee5\u4e0b\u306e\u4f9d\u5b58\u95a2\u4fc2\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <pre><code>[dependencies]\n. . .\nredis = \"0.21.5\"\n</code></pre> <p>Redis\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u306b\u306f\u3001redis crate\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u4f9d\u5b58\u95a2\u4fc2\u304c\u5b9a\u7fa9\u3055\u308c\u305f\u306e\u3067\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5b9a\u7fa9\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\u3002</p> <ol> <li>config.yml\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001Redis\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u7528\u306eURL\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u672c\u66f8\u306e\u3053\u306e\u6642\u70b9\u3067\u306f\u3001config.yml\u30d5\u30a1\u30a4\u30eb\u306f\u6b21\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002</li> </ol> <pre><code>DB_URL: postgres://username:password@localhost:5433/to_do\nSECRET_KEY: secret\nEXPIRE_MINUTES: 120\nREDIS_URL: redis://127.0.0.1/\n</code></pre> <p>REDIS_URL\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u306f\u3001\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001Redis\u30b5\u30fc\u30d3\u30b9\u306e\u6a19\u6e96\u30dd\u30fc\u30c8\u3067\u3042\u308b6379\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u3067\u3001\u30dd\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u3067\u3001Redis\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306e\u69cb\u9020\u4f53\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u304c\u3059\u3079\u3066\u63c3\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u3053\u308c\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <ol> <li>src/counter.rs\u30d5\u30a1\u30a4\u30eb\u306bCounter\u69cb\u9020\u4f53\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> <pre><code>use serde::{Deserialize, Serialize};\nuse crate::config::Config;\n</code></pre> <ol> <li>Redis\u306eURL\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306bConfig\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f7f\u7528\u3057\u3001\u30d0\u30a4\u30c8\u3078\u306e\u5909\u63db\u3092\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081\u306bDeserialize\u3068Serialize\u30c8\u30ec\u30a4\u30c8\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002Counter\u69cb\u9020\u4f53\u306f\u6b21\u306e\u3088\u3046\u306a\u5f62\u3092\u3057\u3066\u3044\u307e\u3059\u3002</li> </ol> <pre><code>#[derive(Serialize, Deserialize, Debug)]\npub struct Counter {\npub count: i32\n}\n</code></pre> <p>\u3055\u3066\u3001Counter\u69cb\u9020\u4f53\u306b\u3059\u3079\u3066\u306e\u7279\u5fb4\u3092\u5b9a\u7fa9\u3057\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u64cd\u4f5c\u306b\u5fc5\u8981\u306a\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>impl Counter {\nfn get_redis_url() -&gt; String {\n. . .\n}\npub fn save(self) {\n. . .\n}\npub fn load() -&gt; Counter {\n. . .\n}\n}\n</code></pre> <ol> <li>\u524d\u8ff0\u306e\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u3001Redis\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306eCounter\u69cb\u9020\u4f53\u306e\u30ed\u30fc\u30c9\u3068\u4fdd\u5b58\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002get_redis_url\u95a2\u6570\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u3001\u6b21\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308b\u3053\u3068\u306f\u9a5a\u304f\u3053\u3068\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002</li> </ol> <pre><code>fn get_redis_url() -&gt; String {\nlet config = Config::new();\nconfig.map.get(\"REDIS_URL\")\n.unwrap().as_str()\n.unwrap().to_owned()\n}\n</code></pre> <ol> <li>Redis\u306eURL\u304c\u308f\u304b\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067Counter\u69cb\u9020\u4f53\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002</li> </ol> <pre><code>pub fn save(self) -&gt; Result&lt;(), redis::RedisError&gt; {\nlet serialized = serde_yaml::to_vec(&amp;self).unwrap();\nlet client = match redis::Client::open(\nCounter::get_redis_url()) {\nOk(client) =&gt; client,\nErr(error) =&gt; return Err(error)\n};\nlet mut con = match client.get_connection() {\nOk(con) =&gt; con,\nErr(error) =&gt; return Err(error)\n};\nmatch redis::cmd(\"SET\").arg(\"COUNTER\")\n.arg(serialized)\n.query::&lt;Vec&lt;u8&gt;&gt;(&amp;mut con) {\nOk(_) =&gt; Ok(()),\nErr(error) =&gt; Err(error)\n}\n}\n</code></pre> <ol> <li>\u3053\u3053\u3067\u306f\u3001Counter\u69cb\u9020\u4f53\u3092Vec\u306b\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001Redis\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u5b9a\u7fa9\u3057\u3001\"COUNTER \"\u3068\u3044\u3046\u30ad\u30fc\u306e\u4e0b\u306b\u3001\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u305fCounter\u69cb\u9020\u4f53\u3092\u633f\u5165\u3057\u307e\u3059\u3002Redis\u306b\u306f\u3082\u3063\u3068\u591a\u304f\u306e\u6a5f\u80fd\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u672c\u7ae0\u3067\u306fRedis\u3092\u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\u306a\u30a4\u30f3\u30e1\u30e2\u30ea\u30fb\u30cf\u30c3\u30b7\u30e5\u30de\u30c3\u30d7\u3068\u3057\u3066\u8003\u3048\u308b\u3053\u3068\u3067\u3001Redis\u3092\u6d3b\u7528\u3067\u304d\u307e\u3059\u3002\u30cf\u30c3\u30b7\u30e5\u30de\u30c3\u30d7\u306e\u6982\u5ff5\u3092\u5ff5\u982d\u306b\u7f6e\u3044\u3066\u3001Redis\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089Counter\u69cb\u9020\u4f53\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u3069\u3046\u3057\u305f\u3089\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u304b\uff1fCOUNTER\u300d\u3092\u30ad\u30fc\u306bGET\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3044\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308b\u306e\u3067\u3059\u3002 <pre><code>pub fn load() -&gt; Result&lt;Counter, redis::RedisError&gt; {\nlet client = match redis::Client::open(\nCounter::get_redis_url()){\nOk(client) =&gt; client,\nErr(error) =&gt; return Err(error)\n};\nlet mut con = match client.get_connection() {\nOk(con) =&gt; con,\nErr(error) =&gt; return Err(error)\n};\nlet byte_data: Vec&lt;u8&gt; = match redis::cmd(\"GET\")\n.arg(\"COUNTER\")\n.query(&amp;mut con) {\nOk(data) =&gt; data,\nErr(error) =&gt; return Err(error)\n};\nOk(serde_yaml::from_slice(&amp;byte_data).unwrap())\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001Counter\u69cb\u9020\u4f53\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3067\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3067main.rs\u30d5\u30a1\u30a4\u30eb\u306b\u5b9f\u88c5\u3059\u308b\u3082\u306e\u304c\u3059\u3079\u3066\u63c3\u3044\u307e\u3057\u305f\u3002</p> <ol> <li>\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u6765\u308b\u305f\u3073\u306b\u30ab\u30a6\u30f3\u30c8\u30921\u3064\u5897\u3084\u3059\u3068\u3044\u3046\u3053\u3068\u3067\u306f\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> </ol> <pre><code>. . .\nmod counter;\n. . .\n#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\n. . .\nlet site_counter = counter::Counter{count: 0};\nsite_counter.save();\nHttpServer::new(|| {\n. . .\nlet app = App::new()\n.wrap_fn(|req, srv|{\nlet passed: bool;\nlet mut site_counter = counter::\n                                       Counter::load()\n.unwrap();\nsite_counter.count += 1;\nprintln!(\"{:?}\", &amp;site_counter);\nsite_counter.save();\n. . .\n</code></pre> <ol> <li>\u3053\u3053\u3067\u306f\u3001Counter\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u3092\u30b9\u30d4\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u524d\u306b\u3001\u65b0\u3057\u3044Counter\u69cb\u9020\u4f53\u3092\u4f5c\u6210\u3057\u3001Redis\u306b\u633f\u5165\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306b\u3001Redis\u304b\u3089\u30ab\u30a6\u30f3\u30bf\u30fc\u3092\u53d6\u5f97\u3057\u3001\u30ab\u30a6\u30f3\u30c8\u3092\u5897\u52a0\u3055\u305b\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3054\u3068\u306b\u305d\u308c\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002 \u3053\u308c\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\u30b5\u30fc\u30d0\u30fc\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u6765\u308b\u305f\u3073\u306b\u30ab\u30a6\u30f3\u30bf\u30fc\u304c\u5897\u52a0\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u30d7\u30ea\u30f3\u30c8\u30a2\u30a6\u30c8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002</li> </ol> <pre><code>Counter { count: 1 }\nCounter { count: 2 }\nCounter { count: 3 }\nCounter { count: 4 }\n</code></pre> <p>\u3082\u30461\u3064\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u7d71\u5408\u3057\u305f\u3053\u3068\u3067\u3001\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u57fa\u672c\u7684\u306b\u79c1\u305f\u3061\u304c\u671b\u3080\u3088\u3046\u306b\u6a5f\u80fd\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3082\u3057\u4eca\u3059\u3050\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u51fa\u8377\u3057\u305f\u3044\u306e\u3067\u3042\u308c\u3070\u3001Docker\u3067\u30d3\u30eb\u30c9\u3092\u69cb\u6210\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068NGINX\u3092\u5099\u3048\u305f\u30b5\u30fc\u30d0\u30fc\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3053\u3068\u3092\u6b62\u3081\u308b\u3082\u306e\u306f\u4f55\u3082\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u4e26\u884c\u51e6\u7406\u306b\u95a2\u3059\u308b\u554f\u984c</p> <p>2\u3064\u306e\u30b5\u30fc\u30d0\u30fc\u304c\u540c\u6642\u306b\u30ab\u30a6\u30f3\u30bf\u30fc\u3092\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u3068\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u53d6\u308a\u3053\u307c\u3057\u304c\u767a\u751f\u3059\u308b\u5371\u967a\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u30ab\u30a6\u30f3\u30bf\u30fc\u306e\u4f8b\u306f\u3001Redis\u306b\u30b7\u30ea\u30a2\u30eb\u5316\u3055\u308c\u305f\u69cb\u9020\u4f53\u3092\u683c\u7d0d\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3059\u305f\u3081\u306b\u691c\u8a0e\u3055\u308c\u307e\u3057\u305f\u3002Redis\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u5358\u7d14\u306a\u30ab\u30a6\u30f3\u30bf\u30fc\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u540c\u6642\u5b9f\u884c\u304c\u61f8\u5ff5\u3055\u308c\u308b\u5834\u5408\u306f\u3001INCR\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u63a8\u5968\u3055\u308c\u307e\u3059\u3002INCR\u30b3\u30de\u30f3\u30c9\u306f\u3001Redis\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u9078\u629e\u3057\u305f\u30ad\u30fc\u306e\u4e0b\u306e\u6570\u5024\u30921\u3064\u5897\u3084\u3057\u3001\u305d\u306e\u7d50\u679c\u3068\u3057\u3066\u65b0\u3057\u304f\u5897\u3048\u305f\u6570\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002Redis\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u30ab\u30a6\u30f3\u30bf\u304c\u5897\u52a0\u3059\u308b\u305f\u3081\u3001\u540c\u6642\u4e26\u884c\u6027\u306e\u554f\u984c\u306e\u30ea\u30b9\u30af\u3092\u8efd\u6e1b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u3057\u304b\u3057\u3001\u5e38\u306b\u8ffd\u52a0\u3067\u304d\u308b\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u30ed\u30ae\u30f3\u30b0\u8981\u6c42\u306b\u3064\u3044\u3066\u8abf\u67fb\u3057\u307e\u3059\u3002</p>"},{"location":"8_BuildingRESTfulServices/LoggingOurServerTraffic/","title":"8.7 - \u5f53\u793e\u30b5\u30fc\u30d0\u30fc\u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u8a18\u9332\u3059\u308b","text":""},{"location":"8_BuildingRESTfulServices/LoggingOurServerTraffic/#_1","title":"\u5f53\u793e\u30b5\u30fc\u30d0\u30fc\u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u8a18\u9332\u3059\u308b","text":"<p>\u4eca\u306e\u3068\u3053\u308d\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u4f55\u3082\u30ed\u30b0\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u30a2\u30d7\u30ea\u306e\u5b9f\u884c\u306b\u76f4\u63a5\u5f71\u97ff\u3059\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u30ed\u30b0\u3092\u8a18\u9332\u3059\u308b\u3053\u3068\u306b\u306f\u3044\u304f\u3064\u304b\u306e\u5229\u70b9\u304c\u3042\u308a\u307e\u3059\u3002\u30ed\u30b0\u3092\u8a18\u9332\u3059\u308b\u3053\u3068\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d0\u30c3\u30b0\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u4eca\u306f\u30ed\u30fc\u30ab\u30eb\u3067\u958b\u767a\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30ed\u30ae\u30f3\u30b0\u306f\u3042\u307e\u308a\u5fc5\u8981\u306a\u3044\u3088\u3046\u306b\u601d\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u672c\u756a\u74b0\u5883\u3067\u306f\u3001Docker\u30b3\u30f3\u30c6\u30ca\u306e\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u554f\u984c\u306a\u3069\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u969c\u5bb3\u304c\u767a\u751f\u3059\u308b\u7406\u7531\u306f\u305f\u304f\u3055\u3093\u3042\u308a\u307e\u3059\u3002\u3069\u306e\u3088\u3046\u306a\u51e6\u7406\u304c\u884c\u308f\u308c\u305f\u304b\u3092\u8a18\u9332\u3057\u305f\u30ed\u30b0\u306f\u3001\u30a8\u30e9\u30fc\u3092\u7279\u5b9a\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002\u307e\u305f\u3001\u30a8\u30c3\u30b8\u30b1\u30fc\u30b9\u3084\u30a8\u30e9\u30fc\u306e\u767a\u751f\u3092\u30ed\u30b0\u3067\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5168\u822c\u7684\u306a\u5065\u5168\u6027\u3092\u76e3\u8996\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30ed\u30ae\u30f3\u30b0\u306b\u95a2\u3057\u3066\u306f\u3001\u69cb\u7bc9\u53ef\u80fd\u306a\u30ed\u30b0\u306e\u7a2e\u985e\u306f4\u3064\u3042\u308a\u307e\u3059\u3002</p> <p>\u30a4\u30f3\u30d5\u30a9\u30e1\u30fc\u30b7\u30e7\u30ca\u30eb\uff08info\uff09\u3002\u3053\u308c\u306f\u4e00\u822c\u7684\u306a\u30ed\u30ae\u30f3\u30b0\u3067\u3059\u3002\u4e00\u822c\u7684\u306a\u30d7\u30ed\u30bb\u30b9\u3084\u305d\u306e\u9032\u884c\u72b6\u6cc1\u3092\u8ffd\u8de1\u3057\u305f\u3044\u5834\u5408\u3001\u3053\u306e\u30bf\u30a4\u30d7\u306e\u30ed\u30b0\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u4f7f\u7528\u4f8b\u3068\u3057\u3066\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\u3068\u505c\u6b62\u3001HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306a\u3069\u76e3\u8996\u3057\u305f\u3044\u7279\u5b9a\u306e\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u306e\u30ed\u30b0\u3092\u8a18\u9332\u3057\u307e\u3059\u3002 Verbose\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u524d\u306e\u30dd\u30a4\u30f3\u30c8\u3067\u5b9a\u7fa9\u3057\u305f\u30bf\u30a4\u30d7\u306e\u3088\u3046\u306a\u60c5\u5831\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u3088\u308a\u8a73\u7d30\u306a\u30d7\u30ed\u30bb\u30b9\u306e\u6d41\u308c\u3092\u77e5\u3089\u305b\u308b\u305f\u3081\u306b\u3001\u3088\u308a\u7d30\u304b\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30bf\u30a4\u30d7\u306e\u30ed\u30b0\u306f\u3001\u4e3b\u306b\u30c7\u30d0\u30c3\u30b0\u76ee\u7684\u3067\u4f7f\u7528\u3055\u308c\u3001\u672c\u756a\u74b0\u5883\u3067\u306f\u4e00\u822c\u7684\u306b\u907f\u3051\u308b\u3079\u304d\u3067\u3059\u3002 \u8b66\u544a\u3053\u306e\u30bf\u30a4\u30d7\u306f\u3001\u5931\u6557\u3057\u3066\u3044\u308b\u30d7\u30ed\u30bb\u30b9\u3092\u30ed\u30b0\u306b\u8a18\u9332\u3059\u308b\u5834\u5408\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30b5\u30fc\u30d3\u30b9\u3092\u4e2d\u65ad\u3055\u305b\u305f\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u7279\u5b9a\u306e\u30a8\u30e9\u30fc\u3092\u77e5\u3089\u305b\u305f\u308a\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u308b\u4ee3\u308f\u308a\u306b\u3053\u306e\u30bf\u30a4\u30d7\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30ed\u30b0\u306f\u3001\u554f\u984c\u304c\u767a\u751f\u3057\u305f\u3053\u3068\u3092\u77e5\u3089\u305b\u3066\u304f\u308c\u308b\u3082\u306e\u3067\u3042\u308a\u3001\u305d\u306e\u5f8c\u306b\u5bfe\u51e6\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002\u4ed6\u306e\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u547c\u3073\u51fa\u3057\u306b\u5931\u6557\u3057\u305f\u306a\u3069\u306e\u554f\u984c\u306f\u3001\u3053\u306e\u30ab\u30c6\u30b4\u30ea\u30fc\u306b\u9069\u3057\u3066\u3044\u307e\u3059\u3002 \u30a8\u30e9\u30fc\u3002\u30a8\u30e9\u30fc\u306b\u3088\u3063\u3066\u30d7\u30ed\u30bb\u30b9\u304c\u4e2d\u65ad\u3055\u308c\u3001\u3067\u304d\u308b\u3060\u3051\u65e9\u304f\u89e3\u6c7a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u3067\u3059\u3002\u307e\u305f\u3001\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f\u3053\u3068\u3092\u30e6\u30fc\u30b6\u30fc\u306b\u77e5\u3089\u305b\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u826f\u3044\u4f8b\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u3084\u30c7\u30fc\u30bf\u306e\u633f\u5165\u306b\u5931\u6557\u3057\u305f\u5834\u5408\u3067\u3059\u3002\u3053\u306e\u3088\u3046\u306a\u5834\u5408\u3001\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u8d77\u3053\u3063\u305f\u3068\u3044\u3046\u8a18\u9332\u306f\u306a\u304f\u3001\u904e\u53bb\u306b\u3055\u304b\u306e\u307c\u3063\u3066\u89e3\u6c7a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002\u3057\u304b\u3057\u3001\u30d7\u30ed\u30bb\u30b9\u306e\u5b9f\u884c\u306f\u7d99\u7d9a\u3067\u304d\u308b\u3053\u3068\u306b\u7559\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30b5\u30fc\u30d0\u30fc\u304c\u96fb\u5b50\u30e1\u30fc\u30eb\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u305f\u3068\u3044\u3046\u8b66\u544a\u304c\u51fa\u305f\u5834\u5408\u3001\u5225\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3057\u3066\u5546\u54c1\u3092\u767a\u9001\u3059\u308b\u3001\u3068\u3044\u3063\u305f\u5177\u5408\u306b\u3002\u554f\u984c\u3092\u6574\u7406\u3059\u308c\u3070\u3001\u3053\u306e\u6642\u9593\u5e2f\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306b\u5bfe\u3057\u3066\u3001\u904e\u53bb\u306b\u3055\u304b\u306e\u307c\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u547c\u3073\u51fa\u3057\u3092\u884c\u3044\u3001\u6b63\u3057\u3044\u60c5\u5831\u3067\u30b5\u30fc\u30d0\u30fc\u306b\u547c\u3073\u51fa\u3057\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u6700\u60aa\u306e\u5834\u5408\u3001\u9045\u5ef6\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u3053\u306e\u30a8\u30e9\u30fc\u30bf\u30a4\u30d7\u3067\u306f\u3001\u6ce8\u6587\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5165\u529b\u3055\u308c\u308b\u524d\u306b\u30b5\u30fc\u30d0\u30fc\u304c\u30a8\u30e9\u30fc\u306b\u3088\u3063\u3066\u4e2d\u65ad\u3055\u308c\u305f\u305f\u3081\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30fc\u30eb\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u306e\u3088\u3046\u306b\u8003\u3048\u308b\u3068\u3001\u30a8\u30e9\u30fc\u30ed\u30b0\u304c\u975e\u5e38\u306b\u91cd\u8981\u3067\u3042\u308b\u3053\u3068\u306f\u660e\u3089\u304b\u3067\u3059\u3002\u306a\u305c\u306a\u3089\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u306f\u554f\u984c\u304c\u3042\u308a\u3001\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f\u3053\u3068\u3092\u4f1d\u3048\u3001\u5f8c\u3067\u518d\u8a66\u884c\u3059\u308b\u3088\u3046\u306b\u4fc3\u3059\u5fc5\u8981\u304c\u3042\u308b\u304b\u3089\u3067\u3059\u3002</p> <p>\u30a8\u30e9\u30fc\u30ed\u30b0\u306b\u5341\u5206\u306a\u60c5\u5831\u3092\u542b\u3081\u308b\u3053\u3068\u3067\u3001\u904e\u53bb\u306b\u3055\u304b\u306e\u307c\u3063\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u66f4\u65b0\u3057\u3001\u554f\u984c\u304c\u89e3\u6c7a\u3057\u305f\u6642\u70b9\u3067\u6b8b\u308a\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u5b8c\u4e86\u3055\u305b\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u77e5\u3089\u305b\u308b\u5fc5\u8981\u6027\u3092\u306a\u304f\u3059\u3068\u3044\u3046\u9078\u629e\u80a2\u3082\u8003\u3048\u3089\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u9b45\u529b\u7684\u306a\u3053\u3068\u3067\u3059\u304c\u30012\u3064\u306e\u3053\u3068\u3092\u8003\u616e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30ed\u30b0\u30c7\u30fc\u30bf\u306f\u4e00\u822c\u7684\u306b\u975e\u69cb\u9020\u5316\u3067\u3042\u308b\u3002</p> <p>\u30ed\u30b0\u306b\u8a18\u9332\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u54c1\u8cea\u7ba1\u7406\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081\u3001\u6700\u7d42\u7684\u306b\u30ed\u30b0\u30c7\u30fc\u30bf\u3092\u6b63\u3057\u3044\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u64cd\u4f5c\u3067\u304d\u305f\u3068\u3057\u3066\u3082\u3001\u7834\u640d\u3057\u305f\u30c7\u30fc\u30bf\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5165\u308a\u8fbc\u3080\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>2\u3064\u76ee\u306e\u554f\u984c\u306f\u3001\u30ed\u30b0\u304c\u5b89\u5168\u3067\u3042\u308b\u3068\u8003\u3048\u3089\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u3067\u3059\u3002\u5371\u6a5f\u7684\u306a\u72b6\u6cc1\u3067\u30b3\u30d4\u30fc\u3055\u308c\u3066\u4ed6\u306e\u958b\u767a\u8005\u306b\u9001\u3089\u308c\u305f\u308a\u3001\u30ed\u30b0\u3092\u76e3\u8996\u3059\u308b\u305f\u3081\u306b\u4ed6\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3084Bugsnag\u306a\u3069\u306eWeb\u30b5\u30a4\u30c8\u306b\u7a81\u3063\u8fbc\u307e\u308c\u305f\u308a\u3057\u307e\u3059\u3002\u30ed\u30b0\u306e\u6027\u8cea\u3092\u8003\u3048\u308b\u3068\u3001\u30ed\u30b0\u306e\u4e2d\u306b\u500b\u4eba\u3092\u7279\u5b9a\u3067\u304d\u308b\u3088\u3046\u306a\u60c5\u5831\u304c\u3042\u308b\u306e\u306f\u826f\u3044\u7fd2\u6163\u3068\u306f\u8a00\u3048\u307e\u305b\u3093\u3002</p> <p>\u30ed\u30ae\u30f3\u30b0\u306e\u7528\u9014\u3092\u7406\u89e3\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u72ec\u81ea\u306e\u30ed\u30ac\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30ed\u30ae\u30f3\u30b0\u306b\u95a2\u3057\u3066\u306f\u3001Actix-web\u30ed\u30ac\u30fc\u3092\u4f7f\u7528\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30ed\u30b0\u306e\u57fa\u672c\u7684\u306a\u4ed5\u7d44\u307f\u304c\u69cb\u6210\u3055\u308c\u3001Actix\u30b5\u30fc\u30d0\u30fc\u3067\u3046\u307e\u304f\u6a5f\u80fd\u3059\u308b\u4e00\u65b9\u3067\u3001\u30ed\u30b0\u306e\u5185\u5bb9\u306b\u3064\u3044\u3066\u306f\u67d4\u8edf\u306b\u5bfe\u5fdc\u3067\u304d\u307e\u3059\u3002\u30ed\u30ac\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u306b\u306f\u3001Cargo.toml\u30d5\u30a1\u30a4\u30eb\u306b\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u65b0\u3057\u3044\u30af\u30ec\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>[dependencies]\n. . .\nenv_logger = \"0.9.0\"\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u74b0\u5883\u5909\u6570\u3092\u4f7f\u7528\u3057\u3066\u30ed\u30ac\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30ed\u30ac\u30fc\u304c\u8a2d\u5b9a\u3055\u308c\u4f7f\u7528\u3055\u308c\u308b\u306e\u306f main.rs \u3067\u3059\u3002\u307e\u305a\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30ed\u30ac\u30fc\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</p> <pre><code>use actix_web::{. . ., middleware::Logger};\n</code></pre> <p>\u3053\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067main\u95a2\u6570\u5185\u306b\u30ed\u30ac\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>. . .\n#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\n. . .\nenv_logger::init_from_env(env_logger::Env::new()\n.default_filter_or(\"info\"));\n. . .\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30ed\u30ac\u30fc\u304c\u60c5\u5831\u3092\u60c5\u5831\u30b9\u30c8\u30ea\u30fc\u30e0\u306b\u8a18\u9332\u3059\u308b\u3053\u3068\u3092\u660e\u8a18\u3057\u3066\u3044\u307e\u3059\u3002\u30ed\u30ac\u30fc\u304c\u8a2d\u5b9a\u3055\u308c\u305f\u306e\u3067\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u30b5\u30fc\u30d0\u30fc\u3092\u30ed\u30ac\u30fc\u3067\u30e9\u30c3\u30d7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>. . .\nasync move {\nlet result = end_result.await?;\nOk(result)\n}\n}).configure(views::views_factory).wrap(cors)\n.wrap(Logger::new(\"%a %{User-Agent}i %r %s %D\"));\nreturn app\n. . .\n</code></pre> <p>\u30ed\u30ac\u30fc\u3067\u306f\u3001\"&amp;a %{User-Agent}I %r %s %D \"\u6587\u5b57\u5217\u3092\u6e21\u3057\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6587\u5b57\u5217\u306f\u30ed\u30ac\u30fc\u306b\u3088\u3063\u3066\u89e3\u91c8\u3055\u308c\u3001\u4f55\u3092\u30ed\u30b0\u306b\u8a18\u9332\u3059\u308b\u304b\u3092\u6307\u793a\u3057\u307e\u3059\u3002Actix\u30ed\u30ac\u30fc\u306f\u3001\u4ee5\u4e0b\u306e\u5165\u529b\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <ul> <li>%%:\u30d1\u30fc\u30bb\u30f3\u30c8\u8a18\u53f7</li> <li>%a:\u30ea\u30e2\u30fc\u30c8IP\u30a2\u30c9\u30ec\u30b9\uff08\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u4f7f\u7528\u6642\u306f\u30d7\u30ed\u30ad\u30b7\u306eIP\u30a2\u30c9\u30ec\u30b9\uff09\u3002</li> <li>%t:\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406\u304c\u958b\u59cb\u3055\u308c\u305f\u6642\u523b</li> <li>P: \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3057\u305f\u5b50\u306e\u30d7\u30ed\u30bb\u30b9ID</li> <li>%r:\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u6700\u521d\u306e\u884c</li> <li>%s:\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9</li> <li>%b:HTTP \u30d8\u30c3\u30c0\u30fc\u3092\u542b\u3080\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u30b5\u30a4\u30ba\uff08\u30d0\u30a4\u30c8\uff09\u3002</li> <li>T\uff1a\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406\u306b\u8981\u3057\u305f\u6642\u9593\u3002\u79d2\u5358\u4f4d\u3067\u3001\u6d6e\u52d5\u5c0f\u6570\u70b9\u306f .06f \u306e\u5f62\u5f0f\u3002</li> <li>D\uff1a\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406\u306b\u8981\u3057\u305f\u6642\u9593\uff08\u5358\u4f4d\uff1a\u30df\u30ea\u79d2</li> <li>%{FOO}i: request.headers['FOO'].</li> <li>%{FOO}o: response.headers['FOO'].</li> <li>%{FOO}e: os.environ['FOO'].</li> </ul> <p>\u3053\u308c\u3089\u306e\u5165\u529b\u306b\u3088\u308a\u3001\u30ea\u30e2\u30fc\u30c8IP\u30a2\u30c9\u30ec\u30b9\u3001\u30e6\u30fc\u30b6\u30fc\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406\u306b\u304b\u304b\u3063\u305f\u6642\u9593\u3092\u8a18\u9332\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001Rust\u30b5\u30fc\u30d0\u30fc\u304c\u6301\u3064\u3059\u3079\u3066\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u5bfe\u3057\u3066\u884c\u3044\u307e\u3059\u3002Rust\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u3066\u30ed\u30ae\u30f3\u30b0\u3092\u884c\u3046\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</p> <pre><code>[2022-05-25T17:22:32Z INFO\u00a0\u00a0actix_server::builder] Starting 8 workers\n[2022-05-25T17:22:32Z INFO\u00a0\u00a0actix_server::server] Actix runtime found; starting in Actix runtime\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\u6642\u523b\u3068\u30ef\u30fc\u30ab\u30fc\u306e\u6570\u304c\u81ea\u52d5\u7684\u306b\u8a18\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u304c\u5207\u308c\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3088\u3046\u306b\u4fc3\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\u5b8c\u5168\u306a\u6a19\u6e96\u30ea\u30af\u30a8\u30b9\u30c8\u30ed\u30b0\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u51fa\u529b\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>[2022-05-25T17:14:56Z INFO\u00a0\u00a0actix_web::middleware::logger]\n127.0.0.1 Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)\nAppleWebKit/537.36 (KHTML, like Gecko)\nChrome/101.0.4951.64 Safari/537.36\nGET /v1/item/get HTTP/1.1 401 9.466000\n</code></pre> <p>\u6642\u9593\u3001INFO\u30ec\u30d9\u30eb\u306e\u30ed\u30b0\u3067\u3042\u308b\u3053\u3068\u3001\u305d\u3057\u3066\u3069\u306e\u30ed\u30ac\u30fc\u304c\u30ed\u30b0\u3092\u8a18\u9332\u3057\u3066\u3044\u308b\u304b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u79c1\u306eIP\u30a2\u30c9\u30ec\u30b9\uff08\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30ed\u30fc\u30ab\u30eb\u3067\u5b9f\u884c\u3057\u3066\u3044\u308b\u305f\u3081\u30ed\u30fc\u30ab\u30eb\uff09\u3001\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u3084\u30d6\u30e9\u30a6\u30b6\u306e\u8a73\u7d30\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9401\u306eAPI\u30b3\u30fc\u30eb\u3082\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30ea\u30af\u30a8\u30b9\u30c8\u30ed\u30b0\u304b\u3089\u30e1\u30bd\u30c3\u30c9\u3001API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u3092\u9664\u3044\u3066\u3059\u3079\u3066\u3092\u524a\u9664\u3059\u308b\u3068\u3001\u30ed\u30b0\u30a4\u30f3\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>GET /v1/item/get HTTP/1.1 401 9.466000\nOPTIONS /v1/auth/login HTTP/1.1 200 0.254000\nPOST /v1/auth/login HTTP/1.1 200 1405.585000\nOPTIONS /v1/item/get HTTP/1.1 200 0.082000\nGET /v1/item/get HTTP/1.1 200 15.470000\n</code></pre> <p>\u30a2\u30a4\u30c6\u30e0\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u3001unauthorized\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u3063\u3066\u304d\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u6b21\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u308b\u3068\u3001\u30ed\u30b0\u30a4\u30f3\u304b\u3089OK\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u3001OPTIONS\u30e1\u30bd\u30c3\u30c9\u3068POST\u30e1\u30bd\u30c3\u30c9\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002OPTIONS\u30e1\u30bd\u30c3\u30c9\u306fCORS\u306e\u305f\u3081\u3067\u3001OPTIONS\u30b3\u30fc\u30eb\u306e\u51e6\u7406\u6642\u9593\u306f\u4ed6\u306eAPI\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u6570\u5206\u306e\u4e00\u3067\u3059\u3002\u305d\u306e\u5f8c\u3001\u30a2\u30a4\u30c6\u30e0\u304c\u53d6\u5f97\u3055\u308c\u3001\u30da\u30fc\u30b8\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30da\u30fc\u30b8\u3092\u66f4\u65b0\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>OPTIONS /v1/item/get HTTP/1.1 200 0.251000\nOPTIONS /v1/item/get HTTP/1.1 200 0.367000\nGET /v1/item/get HTTP/1.1 200 88.317000\nGET /v1/item/get HTTP/1.1 200 9.523000\n</code></pre> <p>\u9805\u76ee\u306b\u5bfe\u3059\u308bGET\u30ea\u30af\u30a8\u30b9\u30c8\u304c2\u3064\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306eToDo\u9805\u76ee\u306f\u5909\u66f4\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u30a8\u30e9\u30fc\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u7121\u99c4\u304c\u591a\u3044\u306e\u3067\u3059\u3002\u3053\u308c\u3092\u6700\u9069\u5316\u3059\u308b\u305f\u3081\u306b\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3068\u3044\u3046REST\u306e\u5236\u7d04\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"8_BuildingRESTfulServices/MappingOurLayeredSystem/","title":"8.4 - \u30ec\u30a4\u30e4\u30fc\u30b7\u30b9\u30c6\u30e0\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b","text":""},{"location":"8_BuildingRESTfulServices/MappingOurLayeredSystem/#_1","title":"\u30ec\u30a4\u30e4\u30fc\u30b7\u30b9\u30c6\u30e0\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b","text":"<p>\u30ec\u30a4\u30e4\u30fc\u30b7\u30b9\u30c6\u30e0\u306f\u3001\u7570\u306a\u308b\u6a5f\u80fd\u5358\u4f4d\u3092\u6301\u3064\u5c64\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30ec\u30a4\u30e4\u30fc\u306f\u7570\u306a\u308b\u30b5\u30fc\u30d0\u30fc\u3067\u3042\u308b\u3068\u8a00\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3084\u5927\u304d\u306a\u30b7\u30b9\u30c6\u30e0\u3067\u3082\u8a00\u3048\u308b\u3053\u3068\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u30c7\u30fc\u30bf\u306e\u7570\u306a\u308b\u30ec\u30a4\u30e4\u30fc\u306b\u95a2\u3057\u3066\u3082\u8a00\u3048\u308b\u3053\u3068\u3067\u3059\u3002\u30d3\u30c3\u30b0\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u5b9a\u671f\u7684\u306b\u30a2\u30af\u30bb\u30b9\u3055\u308c\u66f4\u65b0\u3055\u308c\u308b\u30db\u30c3\u30c8\u30c7\u30fc\u30bf\u3068\u3001\u307b\u3068\u3093\u3069\u30a2\u30af\u30bb\u30b9\u3055\u308c\u306a\u3044\u30b3\u30fc\u30eb\u30c9\u30c7\u30fc\u30bf\u304c\u3042\u308b\u3053\u3068\u306f\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30ec\u30a4\u30e4\u30fc\u306f\u7570\u306a\u308b\u30b5\u30fc\u30d0\u30fc\u306b\u3042\u308b\u3068\u8003\u3048\u304c\u3061\u3067\u3059\u304c\u3001\u540c\u3058\u30b5\u30fc\u30d0\u30fc\u306b\u3042\u308b\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u3002\u6b21\u306e\u3088\u3046\u306a\u56f3\u3067\u30ec\u30a4\u30e4\u30fc\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f38.1 - \u30a2\u30d7\u30ea\u306e\u30ec\u30a4\u30e4\u30fc\u306b\u3064\u3044\u3066</p> <p>\u3054\u89a7\u306e\u3088\u3046\u306b\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u306f\u3053\u306e\u6d41\u308c\u306b\u6cbf\u3063\u3066\u3044\u307e\u3059\u3002</p> <ol> <li>\u307e\u305a\u3001HTTP\u30cf\u30f3\u30c9\u30e9\u30fc\u304c\u3001\u30b5\u30fc\u30d0\u30fc\u4f5c\u6210\u6642\u306b\u5b9a\u7fa9\u3057\u305f\u30dd\u30fc\u30c8\u3092\u30ea\u30c3\u30b9\u30f3\u3057\u3066\u3001\u547c\u3073\u51fa\u3057\u3092\u53d7\u3051\u4ed8\u3051\u307e\u3059\u3002</li> <li>\u305d\u3057\u3066\u3001\u30a2\u30d7\u30ea\u306e wrap_fn \u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u5b9a\u7fa9\u3057\u305f\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u901a\u904e\u3057\u307e\u3059\u3002</li> <li>\u3053\u308c\u304c\u7d42\u308f\u308b\u3068\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306eURL\u306f\u6b63\u3057\u3044\u30d3\u30e5\u30fc\u306b\u30de\u30c3\u30d7\u3055\u308c\u3001src/json_serialization/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u5b9a\u7fa9\u3057\u305f\u30b9\u30ad\u30fc\u30de\u306b\u30de\u30c3\u30d7\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306f\u3001src/views\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9\uff08\u30d3\u30e5\u30fc\uff09\u306b\u6e21\u3055\u308c\u307e\u3059\u3002</li> </ol> <p>\u305d\u306e\u5f8c\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u66f4\u65b0\u3057\u305f\u308a\u53d6\u5f97\u3057\u305f\u308a\u3057\u305f\u3044\u5834\u5408\u306f\u3001Diesel ORM\u3092\u4f7f\u3063\u3066\u3053\u308c\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u307e\u3059\u3002\u3053\u306e\u6bb5\u968e\u3067\u3001\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u9664\u304f\u3059\u3079\u3066\u306e\u30ec\u30a4\u30e4\u30fc\u306f\u3001\u30c7\u30fc\u30bf\u306e\u6d41\u308c\u3092\u52b9\u679c\u7684\u306b\u7ba1\u7406\u3059\u308b\u305f\u3081\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u524d\u7ae0\u306e\u7b2c7\u7ae0\u300c\u30e6\u30fc\u30b6\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u7ba1\u7406\u300d\u3067\u6307\u6458\u3057\u305f\u3088\u3046\u306b\u3001JwToken\u69cb\u9020\u4f53\u3092\u4f7f\u3063\u305f\u8a8d\u8a3c\u306e\u305f\u3081\u306e\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092FromRequest trait\u3067\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001wrap_fn\u3068FromRequest trait\u306e\u3069\u3061\u3089\u3092\u4f7f\u3063\u3066\u3082\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002wrap_fn\u3068FromRequest trait\u306e\u3069\u3061\u3089\u3092\u4f7f\u3046\u3079\u304d\u304b\u3001\u3069\u3093\u306a\u6642\u306b\u4f7f\u3046\u3079\u304d\u3068\u601d\u3044\u307e\u3059\u304b\uff1f\u3069\u3061\u3089\u3082\u30e1\u30ea\u30c3\u30c8\u3068\u30c7\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\u7279\u5b9a\u306e\u30d3\u30e5\u30fc\u306b\u5bfe\u3057\u3066\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u5b9f\u88c5\u3057\u305f\u3044\u5834\u5408\u306f\u3001FromRequest trait\u3092\u5b9f\u88c5\u3059\u308b\u306e\u304c\u30d9\u30b9\u30c8\u3067\u3059\u3002\u3053\u308c\u306f\u3001FromRequest trait\u3092\u5b9f\u88c5\u3057\u305f\u69cb\u9020\u4f53\u3092\u3001\u5fc5\u8981\u306a\u30d3\u30e5\u30fc\u306b\u30b9\u30ed\u30c3\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u304b\u3089\u3067\u3059\u3002\u8a8d\u8a3c\u306f\u3001FromRequest trait\u3092\u5b9f\u88c5\u3059\u308b\u306e\u306b\u9069\u3057\u305f\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3067\u3042\u308a\u3001\u8a8d\u8a3c\u3092\u5fc5\u8981\u3068\u3059\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u304b\u3089\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u5305\u62ec\u7684\u306a\u30eb\u30fc\u30eb\u3092\u5b9f\u88c5\u3057\u305f\u3044\u5834\u5408\u306f\u3001wrap_fn\u95a2\u6570\u3067\u8a8d\u8a3c\u306e\u305f\u3081\u306e\u30d3\u30e5\u30fc\u306e\u9078\u629e\u3092\u5b9f\u88c5\u3059\u308b\u65b9\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002wrap_fn\u95a2\u6570\u3067\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u306f\u3001\u3059\u3079\u3066\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u5bfe\u3057\u3066\u5b9f\u88c5\u3055\u308c\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u3001\u3059\u3079\u3066\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u3064\u3044\u3066\u3001\u30d0\u30fc\u30b8\u30e7\u30f31\u306e\u30b5\u30dd\u30fc\u30c8\u3092\u7d42\u4e86\u3059\u308b\u3053\u3068\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u3066\u3001API\u306e\u30d0\u30fc\u30b8\u30e7\u30f31\u306e\u30b5\u30dd\u30fc\u30c8\u3092\u7d42\u4e86\u3059\u308b\u3068\u3044\u3046\u6c7a\u5b9a\u3092\u8b66\u544a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u671f\u9650\u304c\u904e\u304e\u305f\u3089\u3001\u30d0\u30fc\u30b8\u30e7\u30f31\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u7d42\u4e86\u3057\u305f\u3053\u3068\u3092\u89aa\u5207\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u4f1d\u3048\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u5c64\u306e\u4f5c\u696d\u3092\u59cb\u3081\u308b\u524d\u306b\u3001main.rs\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u3067\u6b21\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>use actix_web::{App, HttpServer, HttpResponse};\nuse actix_service::Service;\nuse futures::future::{ok, Either};\nuse actix_cors::Cors;\n</code></pre> <p>\u53d7\u4fe1\u3057\u305f\u30ea\u30af\u30a8\u30b9\u30c8\u304cv1\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u5411\u3051\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51e6\u7406\u3059\u308b\u304b\u62d2\u5426\u3059\u308b\u304b\u3092\u6c7a\u5b9a\u3059\u308b\u969b\u306b\u3001\u5f8c\u3067\u30c1\u30a7\u30c3\u30af\u3067\u304d\u308b\u30d5\u30e9\u30b0\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u306b\u306f\u3001main.rs \u30d5\u30a1\u30a4\u30eb\u3067\u6b21\u306e\u30b3\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <pre><code>.wrap_fn(|req, srv|{\nlet passed: bool;\nif req.path().contains(\"/v1/\") {\npassed = false;\n} else {\npassed = true;\n}\n. . .\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u304b\u3089\u3001passed\u3068\u3044\u3046\u540d\u524d\u3067Boolean\u304c\u3042\u308b\u3053\u3068\u3092\u5ba3\u8a00\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002v1\u304cURL\u306b\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3001true\u306b\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002v1\u304cURL\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u3001passed\u306ffalse\u306b\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002</p> <p>\u3055\u3066\u3001\u30d5\u30e9\u30b0\u3092\u5b9a\u7fa9\u3057\u305f\u306e\u3067\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u4f55\u304c\u8d77\u3053\u308b\u304b\u6307\u793a\u3059\u308b\u305f\u3081\u306b\u305d\u308c\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u884c\u3046\u524d\u306b\u3001\u3053\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306b\u793a\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001wrap_fn\u306e\u6700\u5f8c\u306e\u884c\u306b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>let future = srv.call(req);\nasync {\nlet result = fut.await?;\nOk(result)\n}\n</code></pre> <p>\u547c\u3073\u51fa\u3057\u304c\u7d42\u308f\u308b\u306e\u3092\u5f85\u3061\u3001\u305d\u306e\u7d50\u679c\u3092result\u3068\u3044\u3046\u5909\u6570\u3067\u8fd4\u3057\u3066\u3044\u307e\u3059\u3002v1 API\u306e\u30d6\u30ed\u30c3\u30af\u304c\u547c\u3073\u51fa\u3055\u308c\u305f\u306e\u3067\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u901a\u3063\u305f\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u901a\u904e\u3057\u305f\u5834\u5408\u306f\u3001\u5148\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\u3057\u304b\u3057\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u5931\u6557\u3057\u305f\u5834\u5408\u306f\u3001\u3053\u308c\u3092\u56de\u907f\u3057\u3066\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3060\u3051\u306e\u5225\u306e\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3092\u5b9a\u7fa9\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002</p> <p>\u984d\u9762\u901a\u308a\u3060\u3068\u3001\u3053\u308c\u306f\u7c21\u5358\u306a\u3053\u3068\u306b\u601d\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3069\u3061\u3089\u3082\u540c\u3058\u3082\u306e\u3001\u3064\u307e\u308a\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001Rust\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u307e\u305b\u3093\u3002\u4e92\u63db\u6027\u306e\u306a\u3044\u578b\u306b\u57fa\u3065\u304f\u30a8\u30e9\u30fc\u304c\u6295\u3052\u3089\u308c\u308b\u306e\u3067\u3059\u3002\u3053\u308c\u306f\u3001\u975e\u540c\u671f\u30d6\u30ed\u30c3\u30af\u304c\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3059\u308b\u305f\u3081\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u3059\u3079\u3066\u306e\u975e\u540c\u671f\u30d6\u30ed\u30c3\u30af\u306f\u305d\u308c\u81ea\u8eab\u306e\u578b\u3067\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u3053\u306e\u5fae\u5999\u306a\u30c7\u30a3\u30c6\u30fc\u30eb\u306e\u305f\u3081\u306b\u3001\u958b\u767a\u8005\u306f2\u3064\u306e\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3092\u4e92\u3044\u306b\u9023\u643a\u3055\u305b\u308b\u305f\u3081\u306b\u4f55\u6642\u9593\u3082\u8cbb\u3084\u3059\u3053\u3068\u306b\u306a\u308a\u3001\u30a4\u30e9\u30a4\u30e9\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u5e78\u3044\u306a\u3053\u3068\u306b\u3001futures crate\u306b\u306f\u3001\u3053\u306e\u554f\u984c\u3092\u89e3\u6c7a\u3057\u3066\u304f\u308c\u308benum\u304c\u3042\u308a\u307e\u3059\u3002Either\u5217\u6319\u578b\u306f\u3001\u540c\u3058\u95a2\u9023\u578b\u3092\u6301\u30642\u3064\u306e\u7570\u306a\u308b\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3001\u30b9\u30c8\u30ea\u30fc\u30e0\u3001\u30b7\u30f3\u30af\u30921\u3064\u306e\u578b\u306b\u7d71\u5408\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3067\u3001\u6e21\u3055\u308c\u305f\u30d5\u30e9\u30b0\u306b\u30de\u30c3\u30c1\u3057\u3001\u9069\u5207\u306a\u30d7\u30ed\u30bb\u30b9\u3092\u8d77\u52d5\u3057\u3001\u8fd4\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3002</p> <pre><code>\u00a0\u00a0\u00a0\u00a0let end_result;\nif passed == true {\nend_result = Either::Left(srv.call(req))\n}\nelse {\nlet resp = HttpResponse::NotImplemented().body(\n\"v1 API is no longer supported\"\n);\nend_result = Either::Right(\nok(req.into_response(resp)\n.map_into_boxed_body())\n)\n}\nasync move {\nlet result = end_result.await?;\nOk(result)\n}\n}).configure(views::views_factory).wrap(cors);\n</code></pre> <p>\u5148\u306e\u30b3\u30fc\u30c9\u304b\u3089\u3001\u6e21\u3055\u308c\u305f\u30d5\u30e9\u30b0\u306b\u5fdc\u3058\u3066\u3001end_result\u3092\u30d3\u30e5\u30fc\u3068\u3057\u3066\u547c\u3073\u51fa\u3059\u304b\u3001\u4e0d\u6b63\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u76f4\u63a5\u8fd4\u3059\u3088\u3046\u306b\u5272\u308a\u5f53\u3066\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001wrap_fn\u306e\u6700\u5f8c\u3067\u3053\u308c\u3092\u8fd4\u3057\u307e\u3059\u3002Either\u5217\u6319\u578b\u306e\u4f7f\u3044\u65b9\u3092\u77e5\u3063\u3066\u3044\u308b\u3068\u30012\u3064\u306e\u7570\u306a\u308b\u672a\u6765\u3092\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3068\u304d\u306b\u3001\u6642\u9593\u3092\u7bc0\u7d04\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u4fbf\u5229\u306a\u30c8\u30ea\u30c3\u30af\u3067\u3059\u3002</p> <p>v1\u3092\u30d6\u30ed\u30c3\u30af\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u6b21\u306e\u56f3\u306e\u3088\u3046\u306b\u5358\u7d14\u306aget\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u56f38.2 \u300c\u30d6\u30ed\u30c3\u30af\u5316\u3055\u308c\u305fv1\u3078\u306e\u5bfe\u5fdc</p> <p>API\u547c\u3073\u51fa\u3057\u304c\u89aa\u5207\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u3068\u3082\u306b\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002Postman\u3092\u901a\u3057\u3066API\u30b3\u30fc\u30eb\u3092\u884c\u3046\u3068\u3001\u6b21\u306e\u56f3\u306b\u898b\u3089\u308c\u308b\u3088\u3046\u306b\u3001501 Not Implemented\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002</p> <p>\u56f38.3 \u300c\u30d6\u30ed\u30c3\u30af\u3055\u308c\u305fv1\u306b\u5bfe\u3059\u308b\u30dd\u30b9\u30c8\u30de\u30f3\u306e\u53cd\u5fdc</p> <p>\u5c06\u6765\u7684\u306b\u306f\u30a2\u30a4\u30c6\u30e0\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u5897\u3084\u3057\u305f\u3044\u3068\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u30d3\u30e5\u30fc\u304c\u30a2\u30d7\u30ea\u306e\u30d3\u30e5\u30fc\u3068\u885d\u7a81\u3057\u59cb\u3081\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u3001\u6f5c\u5728\u7684\u306a\u554f\u984c\u3092\u63d0\u8d77\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001ToDo\u30a2\u30a4\u30c6\u30e0\u306eAPI\u30d3\u30e5\u30fc\u306fitem\u3068\u3044\u3046\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u6301\u3064\u3060\u3051\u3067\u3059\u3002\u3059\u3079\u3066\u306e\u9805\u76ee\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u3001v1/item/get\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p>\u5f8c\u3067v1/item/get/{id}\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3067\u7de8\u96c6\u3059\u308b\u305f\u3081\u306b\u3001ToDo\u9805\u76ee\u3092\u8a73\u7d30\u306b\u898b\u308b\u30d3\u30e5\u30fc\u3092\u30a2\u30d7\u30ea\u7528\u306b\u958b\u767a\u3059\u308b\u3053\u3068\u306f\u5408\u7406\u7684\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u3067\u306f\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30a2\u30d7\u30ea\u306e\u30d3\u30e5\u30fc\u3068\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306eAPI\u547c\u3073\u51fa\u3057\u304c\u885d\u7a81\u3059\u308b\u5371\u967a\u6027\u304c\u9ad8\u307e\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u9632\u3050\u306b\u306f\u3001API\u304c\u7d71\u4e00\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u6301\u3064\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u305d\u3046\u3067\u3059\u3002</p>"},{"location":"8_BuildingRESTfulServices/Summary/","title":"8.10 - \u307e\u3068\u3081","text":""},{"location":"8_BuildingRESTfulServices/Summary/#_1","title":"\u307e\u3068\u3081","text":"<p>\u3053\u306e\u7ae0\u3067\u306f\u3001RESTful \u8a2d\u8a08\u306e\u3055\u307e\u3056\u307e\u306a\u5074\u9762\u3092\u7406\u89e3\u3057\u3001\u305d\u308c\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30ec\u30a4\u30e4\u30fc\u3092\u8a55\u4fa1\u3057\u3001\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u3053\u3068\u3067\u3001\u7d50\u679c\u306b\u5fdc\u3058\u30662\u3064\u306e\u7570\u306a\u308b\u30d5\u30e5\u30fc\u30c1\u30e3\u30fc\u3092\u51e6\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001\u5358\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u627f\u8a8d\u3059\u308b\u3060\u3051\u306b\u3068\u3069\u307e\u308a\u307e\u305b\u3093\u3002\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u57fa\u3065\u3044\u3066\u3001\u4ed6\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3092\u5b9f\u88c5\u3057\u305f\u308a\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u4f55\u3089\u304b\u306e\u5909\u66f4\u3092\u52a0\u3048\u3066\u304b\u3089\u5225\u306eAPI\u30b3\u30fc\u30eb\u3092\u884c\u3046\u30b3\u30fc\u30c9\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u76f4\u63a5\u5fdc\u7b54\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u306f\u3001\u30d3\u30e5\u30fc\u304c\u30d2\u30c3\u30c8\u3059\u308b\u524d\u306b\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3067\u8907\u6570\u306e\u672a\u6765\u306e\u7d50\u679c\u3092\u6301\u3064\u30ab\u30b9\u30bf\u30e0\u30ed\u30b8\u30c3\u30af\u3068\u3044\u3046\u5225\u306e\u30c4\u30fc\u30eb\u3092\u624b\u306b\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u305d\u3057\u3066\u3001\u30d1\u30b9\u69cb\u9020\u4f53\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d71\u4e00\u3057\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3068\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u30d3\u30e5\u30fc\u304c\u885d\u7a81\u3059\u308b\u306e\u3092\u9632\u304e\u307e\u3057\u305f\u3002</p> <p>\u305d\u3057\u3066\u3001\u30ed\u30ae\u30f3\u30b0\u306e\u3055\u307e\u3056\u307e\u306a\u30ec\u30d9\u30eb\u3092\u691c\u8a0e\u3057\u3001\u3059\u3079\u3066\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30ed\u30b0\u306b\u8a18\u9332\u3057\u3066\u3001\u9759\u304b\u3067\u3042\u308a\u306a\u304c\u3089\u671b\u307e\u3057\u304f\u306a\u3044\u52d5\u4f5c\u3092\u660e\u3089\u304b\u306b\u3057\u307e\u3057\u305f\u3002\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3092\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u3053\u308c\u3092\u4fee\u6b63\u3057\u305f\u5f8c\u3001\u904e\u5270\u306aAPI\u30b3\u30fc\u30eb\u3092\u9632\u3050\u305f\u3081\u306bToDo\u30a2\u30a4\u30c6\u30e0\u3092\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u969b\u306b\u3001\u30ed\u30ae\u30f3\u30b0\u3092\u4f7f\u3063\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u6a5f\u69cb\u304c\u6b63\u3057\u304f\u6a5f\u80fd\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u8a55\u4fa1\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3067\u3001\u79c1\u305f\u3061\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u5408\u683c\u70b9\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u3001\u76e3\u8996\u3057\u305f\u308a\u3001\u4f55\u304b\u554f\u984c\u304c\u8d77\u304d\u305f\u3068\u304d\u306b\u30ed\u30b0\u3092\u30c1\u30a7\u30c3\u30af\u3057\u305f\u308a\u3001ToDo\u30ea\u30b9\u30c8\u3092\u6301\u3064\u8907\u6570\u306e\u30e6\u30fc\u30b6\u30fc\u3092\u7ba1\u7406\u3057\u305f\u308a\u3001\u4e0d\u6b63\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30d3\u30e5\u30fc\u306b\u5230\u9054\u3059\u308b\u524d\u306b\u62d2\u5426\u3057\u305f\u308a\u3067\u304d\u308b\u3088\u3046\u306a\u6bb5\u968e\u306b\u306f\u81f3\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u307e\u305f\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3082\u5099\u3048\u3066\u304a\u308a\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u3067\u3001PostgreSQL\u3068Redis\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30c7\u30fc\u30bf\u3092\u30a2\u30af\u30bb\u30b9\u3057\u305f\u308a\u66f8\u304d\u8fbc\u3093\u3060\u308a\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u6b21\u7ae0\u3067\u306f\u3001Rust\u69cb\u9020\u4f53\u306e\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u3068API\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u6a5f\u80fd\u30c6\u30b9\u30c8\u3092\u8a18\u8ff0\u3057\u3001\u30c7\u30d7\u30ed\u30a4\u306b\u5411\u3051\u305f\u30b3\u30fc\u30c9\u306e\u30af\u30ea\u30fc\u30cb\u30f3\u30b0\u3092\u884c\u3044\u307e\u3059\u3002</p>"},{"location":"8_BuildingRESTfulServices/TechnicalRequirements/","title":"8.2 - \u6280\u8853\u8981\u4ef6","text":""},{"location":"8_BuildingRESTfulServices/TechnicalRequirements/#_1","title":"\u6280\u8853\u8981\u4ef6","text":"<p>\u3053\u306e\u7ae0\u306e\u30b3\u30fc\u30c9\u306f\u3001https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition/tree/main/chapter08 \u306b\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"8_BuildingRESTfulServices/WhatAreRESTfulServices/","title":"8.3 - RESTful\u30b5\u30fc\u30d3\u30b9\u3068\u306f\u4f55\u3067\u3059\u304b\uff1f","text":""},{"location":"8_BuildingRESTfulServices/WhatAreRESTfulServices/#restful","title":"RESTful\u30b5\u30fc\u30d3\u30b9\u3068\u306f\u4f55\u3067\u3059\u304b\uff1f","text":"<p>REST\u3068\u306f\u3001representational state transfer\u306e\u7565\u3067\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u3084ToDo\u30a2\u30a4\u30c6\u30e0\u306e\u8aad\u307f\u53d6\u308a\uff08GET\uff09\u3001\u66f4\u65b0\uff08PUT\uff09\u3001\u4f5c\u6210\uff08POST\uff09\u3001\u524a\u9664\uff08DELETE\uff09\u3092\u884c\u3046\u305f\u3081\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\uff08API\uff09\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30b9\u30bf\u30a4\u30eb\u3067\u3042\u308b\u3002RESTful\u30a2\u30d7\u30ed\u30fc\u30c1\u306e\u76ee\u7684\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u306a\u304f\u7ba1\u7406\u30fb\u66f4\u65b0\u3067\u304d\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u518d\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30b9\u30d4\u30fc\u30c9/\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3001\u4fe1\u983c\u6027\u3001\u6210\u9577\u80fd\u529b\u3092\u9ad8\u3081\u308b\u3053\u3068\u3067\u3059\u3002</p> <p>\u304a\u6c17\u3065\u304d\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001Rust\u4ee5\u524d\u306f\u3001\u9045\u304f\u3066\u9ad8\u30ec\u30d9\u30eb\u306e\u8a00\u8a9e\u304cWeb\u958b\u767a\u306e\u8ce2\u3044\u9078\u629e\u3067\u3042\u308b\u3088\u3046\u306b\u601d\u308f\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u306a\u305c\u306a\u3089\u3001\u3088\u308a\u901f\u304f\u3001\u3088\u308a\u5b89\u5168\u306b\u66f8\u3051\u308b\u304b\u3089\u3067\u3059\u3002\u3053\u308c\u306f\u3001Web\u958b\u767a\u306b\u304a\u3051\u308b\u30c7\u30fc\u30bf\u306e\u51e6\u7406\u901f\u5ea6\u306e\u4e3b\u306a\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u304c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u901f\u5ea6\u3067\u3042\u308b\u3053\u3068\u306b\u8d77\u56e0\u3057\u3066\u3044\u307e\u3059\u3002RESTful\u30c7\u30b6\u30a4\u30f3\u3067\u306f\u3001\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u901f\u5ea6\u3060\u3051\u306b\u6ce8\u76ee\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001API\u30b3\u30fc\u30eb\u3092\u6e1b\u3089\u3059\u306a\u3069\u3001\u30b7\u30b9\u30c6\u30e0\u3092\u7d4c\u6e08\u5316\u3059\u308b\u3053\u3068\u3067\u901f\u5ea6\u306e\u5411\u4e0a\u3092\u76ee\u6307\u3057\u307e\u3059\u3002\u305d\u308c\u3092\u8e0f\u307e\u3048\u3066\u3001\u3053\u306e\u9805\u3067\u306f\u3001\u4ee5\u4e0b\u306eRESTful\u306e\u6982\u5ff5\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u307e\u3059\u3002</p> <ul> <li>\u30ec\u30a4\u30e4\u30fc\u30c9\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u8a8d\u8a3c\u306a\u3069\u306e\u8ffd\u52a0\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u3059\u3079\u3066\u306e\u30d3\u30e5\u30fc\u3067JWT\uff08JSON Web Token\uff09\u3092\u30c1\u30a7\u30c3\u30af\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u5834\u5408\u3001\u3053\u308c\u306f\u591a\u304f\u306e\u53cd\u5fa9\u7684\u306a\u30b3\u30fc\u30c9\u3067\u3042\u308a\u3001\u4fdd\u5b88\u304c\u96e3\u3057\u304f\u3001\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3084\u3059\u3044\u3002</li> <li>\u7d71\u4e00\u3055\u308c\u305f\u30b7\u30b9\u30c6\u30e0\u3002\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u5358\u7d14\u5316\u3057\u3001\u5207\u308a\u96e2\u3059\u3053\u3068\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5404\u90e8\u5206\u304c\u885d\u7a81\u3059\u308b\u3053\u3068\u306a\u304f\u72ec\u7acb\u3057\u3066\u9032\u5316\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</li> <li>\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\uff08\u7121\u72b6\u614b\uff09\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u30b5\u30fc\u30d0\u30fc\u306b\u76f4\u63a5\u4f55\u304b\u3092\u4fdd\u5b58\u3057\u306a\u3044\u3053\u3068\u3092\u4fdd\u8a3c\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3084\u30af\u30e9\u30a6\u30c9\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3082\u306e\u3067\u3059\u3002</li> <li>\u30ed\u30ae\u30f3\u30b0\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8997\u304d\u898b\u3057\u3066\u3001\u3069\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3057\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> <li>\u30ad\u30e3\u30c3\u30b7\u30e5\uff1a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u3066\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3078\u306eAPI\u547c\u3073\u51fa\u3057\u56de\u6570\u3092\u6e1b\u3089\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</li> <li>\u30b3\u30fc\u30c9\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u3002\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b5\u30fc\u30d0\u30fc\u304c\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b3\u30fc\u30c9\u3092\u76f4\u63a5\u5b9f\u884c\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002</li> </ul> <p>\u30ec\u30a4\u30e4\u30fc\u30b7\u30b9\u30c6\u30e0\u306e\u6982\u5ff5\u306b\u3064\u3044\u3066\u306f\u3001\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8aac\u660e\u3057\u307e\u3059\u3002</p>"}]}